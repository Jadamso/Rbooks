<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 6 (Re)Sampling | index</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content=" 6 (Re)Sampling | index" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 6 (Re)Sampling | index" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistics.html"/>
<link rel="next" href="hypothesis-tests.html"/>
<script src="libs/jquery-3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-18.2.0/react.min.js"></script>
<script src="libs/react-18.2.0/react-dom.min.js"></script>
<script src="libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="libs/highlight-11.10.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-11.10.0/highlight.min.js"></script>
<script src="libs/profvis-binding-0.4.0/profvis.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rbooks</a></li>
<li class="toc-logo"><a href="./"><img src="Figures_Manual/Logo.png" width="140" height="100"></a></li>        

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="part"><span><b>I Data Analysis in R</b></span></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#why-r"><i class="fa fa-check"></i><b>2.1</b> Why R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#interfacing-with-r"><i class="fa fa-check"></i><b>2.3</b> Interfacing with R</a></li>
<li class="chapter" data-level="2.4" data-path="first-steps.html"><a href="first-steps.html#introductions-to-r"><i class="fa fa-check"></i><b>2.4</b> Introductions to R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>3</b> Mathematics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematics.html"><a href="mathematics.html#scalars"><i class="fa fa-check"></i><b>3.1</b> Scalars</a></li>
<li class="chapter" data-level="3.2" data-path="mathematics.html"><a href="mathematics.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a></li>
<li class="chapter" data-level="3.4" data-path="mathematics.html"><a href="mathematics.html#logic"><i class="fa fa-check"></i><b>3.4</b> Logic</a></li>
<li class="chapter" data-level="3.5" data-path="mathematics.html"><a href="mathematics.html#matrices"><i class="fa fa-check"></i><b>3.5</b> Matrices</a></li>
<li class="chapter" data-level="3.6" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>3.6</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>4</b> Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data.html"><a href="data.html#types"><i class="fa fa-check"></i><b>4.1</b> Types</a></li>
<li class="chapter" data-level="4.2" data-path="data.html"><a href="data.html#empirical-distributions"><i class="fa fa-check"></i><b>4.2</b> Empirical Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="data.html"><a href="data.html#joint-distributions"><i class="fa fa-check"></i><b>4.3</b> Joint Distributions</a></li>
<li class="chapter" data-level="4.4" data-path="data.html"><a href="data.html#conditional-distributions"><i class="fa fa-check"></i><b>4.4</b> Conditional Distributions</a></li>
<li class="chapter" data-level="4.5" data-path="data.html"><a href="data.html#random-variables"><i class="fa fa-check"></i><b>4.5</b> Random Variables</a></li>
<li class="chapter" data-level="4.6" data-path="data.html"><a href="data.html#further-reading"><i class="fa fa-check"></i><b>4.6</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>5</b> Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistics.html"><a href="statistics.html#mean-and-variance"><i class="fa fa-check"></i><b>5.1</b> Mean and Variance</a></li>
<li class="chapter" data-level="5.2" data-path="statistics.html"><a href="statistics.html#shape-statistics"><i class="fa fa-check"></i><b>5.2</b> Shape Statistics</a></li>
<li class="chapter" data-level="5.3" data-path="statistics.html"><a href="statistics.html#other-centerspread-statistics"><i class="fa fa-check"></i><b>5.3</b> Other Center/Spread Statistics</a></li>
<li class="chapter" data-level="5.4" data-path="statistics.html"><a href="statistics.html#associations"><i class="fa fa-check"></i><b>5.4</b> Associations</a></li>
<li class="chapter" data-level="5.5" data-path="statistics.html"><a href="statistics.html#beyond-basics"><i class="fa fa-check"></i><b>5.5</b> Beyond Basics</a></li>
<li class="chapter" data-level="5.6" data-path="statistics.html"><a href="statistics.html#further-reading-1"><i class="fa fa-check"></i><b>5.6</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>6</b> (Re)Sampling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="resampling.html"><a href="resampling.html#sample-distributions"><i class="fa fa-check"></i><b>6.1</b> Sample Distributions</a></li>
<li class="chapter" data-level="6.2" data-path="resampling.html"><a href="resampling.html#intervals"><i class="fa fa-check"></i><b>6.2</b> Intervals</a></li>
<li class="chapter" data-level="6.3" data-path="resampling.html"><a href="resampling.html#resampling-1"><i class="fa fa-check"></i><b>6.3</b> Resampling</a></li>
<li class="chapter" data-level="6.4" data-path="resampling.html"><a href="resampling.html#value-of-more-data"><i class="fa fa-check"></i><b>6.4</b> Value of More Data</a></li>
<li class="chapter" data-level="6.5" data-path="resampling.html"><a href="resampling.html#further-reading-2"><i class="fa fa-check"></i><b>6.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>7</b> Hypothesis Tests</a>
<ul>
<li class="chapter" data-level="7.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#basic-ideas"><i class="fa fa-check"></i><b>7.1</b> Basic Ideas</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#default-statistics"><i class="fa fa-check"></i><b>7.2</b> Default Statistics</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#two-sample-differences"><i class="fa fa-check"></i><b>7.3</b> Two-Sample Differences</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#distributional-tests"><i class="fa fa-check"></i><b>7.4</b> Distributional Tests</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>8</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-analysis.html"><a href="data-analysis.html#reading-in"><i class="fa fa-check"></i><b>8.1</b> Reading In</a></li>
<li class="chapter" data-level="8.2" data-path="data-analysis.html"><a href="data-analysis.html#cleaning-data"><i class="fa fa-check"></i><b>8.2</b> Cleaning Data</a></li>
<li class="chapter" data-level="8.3" data-path="data-analysis.html"><a href="data-analysis.html#polishing"><i class="fa fa-check"></i><b>8.3</b> Polishing</a></li>
<li class="chapter" data-level="8.4" data-path="data-analysis.html"><a href="data-analysis.html#interactive"><i class="fa fa-check"></i><b>8.4</b> Interactive</a></li>
<li class="chapter" data-level="8.5" data-path="data-analysis.html"><a href="data-analysis.html#custom-figures"><i class="fa fa-check"></i><b>8.5</b> Custom Figures</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>9</b> Reporting</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reporting.html"><a href="reporting.html#r-and-r-markdown"><i class="fa fa-check"></i><b>9.1</b> R and R-Markdown</a></li>
<li class="chapter" data-level="9.2" data-path="reporting.html"><a href="reporting.html#simple-reports"><i class="fa fa-check"></i><b>9.2</b> Simple Reports</a></li>
<li class="chapter" data-level="9.3" data-path="reporting.html"><a href="reporting.html#posters-and-slides"><i class="fa fa-check"></i><b>9.3</b> Posters and Slides</a></li>
<li class="chapter" data-level="9.4" data-path="reporting.html"><a href="reporting.html#more-literature"><i class="fa fa-check"></i><b>9.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>10</b> Probability Theory</a>
<ul>
<li class="chapter" data-level="10.1" data-path="probability-theory.html"><a href="probability-theory.html#mean-and-variance-1"><i class="fa fa-check"></i><b>10.1</b> Mean and Variance</a></li>
<li class="chapter" data-level="10.2" data-path="probability-theory.html"><a href="probability-theory.html#bivariate-distributions"><i class="fa fa-check"></i><b>10.2</b> Bivariate Distributions</a></li>
<li class="chapter" data-level="10.3" data-path="probability-theory.html"><a href="probability-theory.html#further-reading-3"><i class="fa fa-check"></i><b>10.3</b> Further Reading</a></li>
</ul></li>
<li class="part"><span><b>II Linear Regression in R</b></span></li>
<li class="chapter" data-level="11" data-path="bivariate-data.html"><a href="bivariate-data.html"><i class="fa fa-check"></i><b>11</b> Bivariate Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="bivariate-data.html"><a href="bivariate-data.html#simple-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="11.2" data-path="bivariate-data.html"><a href="bivariate-data.html#variability-estimates"><i class="fa fa-check"></i><b>11.2</b> Variability Estimates</a></li>
<li class="chapter" data-level="11.3" data-path="bivariate-data.html"><a href="bivariate-data.html#hypothesis-tests-1"><i class="fa fa-check"></i><b>11.3</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="11.4" data-path="bivariate-data.html"><a href="bivariate-data.html#prediction-intervals"><i class="fa fa-check"></i><b>11.4</b> Prediction Intervals</a></li>
<li class="chapter" data-level="11.5" data-path="bivariate-data.html"><a href="bivariate-data.html#locally-linear"><i class="fa fa-check"></i><b>11.5</b> Locally Linear</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="multivariate-data.html"><a href="multivariate-data.html"><i class="fa fa-check"></i><b>12</b> Multivariate Data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="multivariate-data.html"><a href="multivariate-data.html#multiple-linear-regression"><i class="fa fa-check"></i><b>12.1</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="12.2" data-path="multivariate-data.html"><a href="multivariate-data.html#variability-and-hypothesis-tests"><i class="fa fa-check"></i><b>12.2</b> Variability and Hypothesis Tests</a></li>
<li class="chapter" data-level="12.3" data-path="multivariate-data.html"><a href="multivariate-data.html#factor-variables"><i class="fa fa-check"></i><b>12.3</b> Factor Variables</a></li>
<li class="chapter" data-level="12.4" data-path="multivariate-data.html"><a href="multivariate-data.html#coefficient-interpretation"><i class="fa fa-check"></i><b>12.4</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="12.5" data-path="multivariate-data.html"><a href="multivariate-data.html#transformations"><i class="fa fa-check"></i><b>12.5</b> Transformations</a></li>
<li class="chapter" data-level="12.6" data-path="multivariate-data.html"><a href="multivariate-data.html#diagnostics"><i class="fa fa-check"></i><b>12.6</b> Diagnostics</a></li>
<li class="chapter" data-level="12.7" data-path="multivariate-data.html"><a href="multivariate-data.html#more-literature-1"><i class="fa fa-check"></i><b>12.7</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html"><i class="fa fa-check"></i><b>13</b> Endogeneity Issues</a>
<ul>
<li class="chapter" data-level="13.1" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#two-stage-least-squares-2sls"><i class="fa fa-check"></i><b>13.1</b> Two Stage Least Squares (2SLS)</a></li>
<li class="chapter" data-level="13.2" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#regression-discontinuitieskink-rdrk"><i class="fa fa-check"></i><b>13.2</b> Regression Discontinuities/Kink (RD/RK)</a></li>
<li class="chapter" data-level="13.3" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#difference-in-differences-did"><i class="fa fa-check"></i><b>13.3</b> Difference in Differences (DID)</a></li>
<li class="chapter" data-level="13.4" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#more-literature-2"><i class="fa fa-check"></i><b>13.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>14</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="14.1" data-path="data-scientism.html"><a href="data-scientism.html#data-errors"><i class="fa fa-check"></i><b>14.1</b> Data Errors</a></li>
<li class="chapter" data-level="14.2" data-path="data-scientism.html"><a href="data-scientism.html#p-hacking"><i class="fa fa-check"></i><b>14.2</b> P-Hacking</a></li>
<li class="chapter" data-level="14.3" data-path="data-scientism.html"><a href="data-scientism.html#spurious-regression"><i class="fa fa-check"></i><b>14.3</b> Spurious Regression</a></li>
<li class="chapter" data-level="14.4" data-path="data-scientism.html"><a href="data-scientism.html#spurious-causal-impacts"><i class="fa fa-check"></i><b>14.4</b> Spurious Causal Impacts</a></li>
</ul></li>
<li class="part"><span><b>III Reproducible Research in R</b></span></li>
<li class="chapter" data-level="15" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i><b>15</b> Why?</a>
<ul>
<li class="chapter" data-level="15.1" data-path="why.html"><a href="why.html#an-example-workflow"><i class="fa fa-check"></i><b>15.1</b> An example workflow</a></li>
<li class="chapter" data-level="15.2" data-path="why.html"><a href="why.html#an-alternative-workflow"><i class="fa fa-check"></i><b>15.2</b> An alternative workflow</a></li>
<li class="chapter" data-level="15.3" data-path="why.html"><a href="why.html#task-views"><i class="fa fa-check"></i><b>15.3</b> Task Views</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="large-projects.html"><a href="large-projects.html"><i class="fa fa-check"></i><b>16</b> Large Projects</a>
<ul>
<li class="chapter" data-level="16.1" data-path="large-projects.html"><a href="large-projects.html#scripting"><i class="fa fa-check"></i><b>16.1</b> Scripting</a></li>
<li class="chapter" data-level="16.2" data-path="large-projects.html"><a href="large-projects.html#organization"><i class="fa fa-check"></i><b>16.2</b> Organization</a></li>
<li class="chapter" data-level="16.3" data-path="large-projects.html"><a href="large-projects.html#loggingsinking"><i class="fa fa-check"></i><b>16.3</b> Logging/Sinking</a></li>
<li class="chapter" data-level="16.4" data-path="large-projects.html"><a href="large-projects.html#class-projects"><i class="fa fa-check"></i><b>16.4</b> Class Projects</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="performance.html"><a href="performance.html"><i class="fa fa-check"></i><b>17</b> Performance</a>
<ul>
<li class="chapter" data-level="17.1" data-path="performance.html"><a href="performance.html#debugging"><i class="fa fa-check"></i><b>17.1</b> Debugging</a></li>
<li class="chapter" data-level="17.2" data-path="performance.html"><a href="performance.html#optimizing"><i class="fa fa-check"></i><b>17.2</b> Optimizing</a></li>
<li class="chapter" data-level="17.3" data-path="performance.html"><a href="performance.html#advanced-optimizing"><i class="fa fa-check"></i><b>17.3</b> Advanced Optimizing</a></li>
<li class="chapter" data-level="17.4" data-path="performance.html"><a href="performance.html#more-literature-3"><i class="fa fa-check"></i><b>17.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>18</b> Applications</a>
<ul>
<li class="chapter" data-level="18.1" data-path="applications.html"><a href="applications.html#more-literature-4"><i class="fa fa-check"></i><b>18.1</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>19</b> Software</a>
<ul>
<li class="chapter" data-level="19.1" data-path="software.html"><a href="software.html#latest-versions"><i class="fa fa-check"></i><b>19.1</b> Latest versions</a></li>
<li class="chapter" data-level="19.2" data-path="software.html"><a href="software.html#general-workflow"><i class="fa fa-check"></i><b>19.2</b> General Workflow</a></li>
<li class="chapter" data-level="19.3" data-path="software.html"><a href="software.html#sweave"><i class="fa fa-check"></i><b>19.3</b> Sweave</a></li>
<li class="chapter" data-level="19.4" data-path="software.html"><a href="software.html#stata"><i class="fa fa-check"></i><b>19.4</b> Stata</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="resampling" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number"> 6</span> (Re)Sampling<a href="resampling.html#resampling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<div id="sample-distributions" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Sample Distributions<a href="resampling.html#sample-distributions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <em>sampling distribution</em> of a statistic shows us how much a statistic varies from sample to sample.</p>
<p>For example, see how the mean varies from sample to sample to sample.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="resampling.html#cb286-1" tabindex="-1"></a><span class="co"># Three Sample Example</span></span>
<span id="cb286-2"><a href="resampling.html#cb286-2" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb286-3"><a href="resampling.html#cb286-3" tabindex="-1"></a><span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="cf">function</span>(i){</span>
<span id="cb286-4"><a href="resampling.html#cb286-4" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">100</span>) </span>
<span id="cb286-5"><a href="resampling.html#cb286-5" tabindex="-1"></a>    m <span class="ot">&lt;-</span>  <span class="fu">mean</span>(x)</span>
<span id="cb286-6"><a href="resampling.html#cb286-6" tabindex="-1"></a>    <span class="fu">hist</span>(x,</span>
<span id="cb286-7"><a href="resampling.html#cb286-7" tabindex="-1"></a>        <span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span>.<span class="dv">1</span>), <span class="co">#for comparability</span></span>
<span id="cb286-8"><a href="resampling.html#cb286-8" tabindex="-1"></a>        <span class="at">main=</span><span class="cn">NA</span>, <span class="at">border=</span><span class="cn">NA</span>)</span>
<span id="cb286-9"><a href="resampling.html#cb286-9" tabindex="-1"></a>    <span class="fu">abline</span>(<span class="at">v=</span>m, <span class="at">col=</span><span class="dv">2</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb286-10"><a href="resampling.html#cb286-10" tabindex="-1"></a>    <span class="fu">title</span>(<span class="fu">paste0</span>(<span class="st">&#39;mean= &#39;</span>, <span class="fu">round</span>(m,<span class="dv">2</span>)),  <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb286-11"><a href="resampling.html#cb286-11" tabindex="-1"></a>    <span class="fu">return</span>(m)</span>
<span id="cb286-12"><a href="resampling.html#cb286-12" tabindex="-1"></a>})</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<pre><code>## [1] 0.5425521 0.4771145 0.5038657</code></pre>
<p>Examine the sampling distribution of the mean</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="resampling.html#cb288-1" tabindex="-1"></a>sample_means <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="cf">function</span>(i){</span>
<span id="cb288-2"><a href="resampling.html#cb288-2" tabindex="-1"></a>    m <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">runif</span>(<span class="dv">100</span>))</span>
<span id="cb288-3"><a href="resampling.html#cb288-3" tabindex="-1"></a>    <span class="fu">return</span>(m)</span>
<span id="cb288-4"><a href="resampling.html#cb288-4" tabindex="-1"></a>})</span>
<span id="cb288-5"><a href="resampling.html#cb288-5" tabindex="-1"></a><span class="fu">hist</span>(sample_means, <span class="at">breaks=</span><span class="dv">50</span>, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb288-6"><a href="resampling.html#cb288-6" tabindex="-1"></a>    <span class="at">col=</span><span class="dv">2</span>, <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb288-7"><a href="resampling.html#cb288-7" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Sampling Distribution of the mean&#39;</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>This is one of the most profound results known in statistics, known as the <em>central limit theorem</em>: the sampling distribution of the mean is approximately standard normal.</p>
<p><strong>central limit theorem</strong>. There are actually many different variants of the central limit theorem, as it applies more generally: the sampling distribution of many statistics are standard normal. For example, examine the sampling distribution of the standard deviation.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="resampling.html#cb289-1" tabindex="-1"></a>three_sds <span class="ot">&lt;-</span> <span class="fu">c</span>(  <span class="fu">sd</span>(<span class="fu">runif</span>(<span class="dv">100</span>)),  <span class="fu">sd</span>(<span class="fu">runif</span>(<span class="dv">100</span>)),  <span class="fu">sd</span>(<span class="fu">runif</span>(<span class="dv">100</span>))  )</span>
<span id="cb289-2"><a href="resampling.html#cb289-2" tabindex="-1"></a>three_sds</span></code></pre></div>
<pre><code>## [1] 0.2866693 0.2907758 0.2814790</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="resampling.html#cb291-1" tabindex="-1"></a>sample_sds <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>, <span class="cf">function</span>(i){</span>
<span id="cb291-2"><a href="resampling.html#cb291-2" tabindex="-1"></a>    s <span class="ot">&lt;-</span> <span class="fu">sd</span>(<span class="fu">runif</span>(<span class="dv">100</span>))</span>
<span id="cb291-3"><a href="resampling.html#cb291-3" tabindex="-1"></a>    <span class="fu">return</span>(s)</span>
<span id="cb291-4"><a href="resampling.html#cb291-4" tabindex="-1"></a>})</span>
<span id="cb291-5"><a href="resampling.html#cb291-5" tabindex="-1"></a><span class="fu">hist</span>(sample_sds, <span class="at">breaks=</span><span class="dv">50</span>, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb291-6"><a href="resampling.html#cb291-6" tabindex="-1"></a>    <span class="at">col=</span><span class="dv">4</span>, <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb291-7"><a href="resampling.html#cb291-7" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Sampling Distribution of the sd&#39;</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<p>It is beyond this class to prove this result, but you should know that not all sampling distributions are standard normal. For example, examine the sampling distribution of the three main “order statistics”</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="resampling.html#cb292-1" tabindex="-1"></a><span class="co"># Create 300 samples, each with 1000 random uniform variables</span></span>
<span id="cb292-2"><a href="resampling.html#cb292-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">300</span>, <span class="cf">function</span>(i) <span class="fu">runif</span>(<span class="dv">1000</span>) )</span>
<span id="cb292-3"><a href="resampling.html#cb292-3" tabindex="-1"></a><span class="co"># Each row is a new sample</span></span>
<span id="cb292-4"><a href="resampling.html#cb292-4" tabindex="-1"></a><span class="fu">length</span>(x[<span class="dv">1</span>,])</span></code></pre></div>
<pre><code>## [1] 300</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="resampling.html#cb294-1" tabindex="-1"></a><span class="co"># Median looks normal, Maximum and Minumum do not!</span></span>
<span id="cb294-2"><a href="resampling.html#cb294-2" tabindex="-1"></a>xmin <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>,quantile, <span class="at">probs=</span><span class="dv">0</span>)</span>
<span id="cb294-3"><a href="resampling.html#cb294-3" tabindex="-1"></a>xmed <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>,quantile, <span class="at">probs=</span>.<span class="dv">5</span>)</span>
<span id="cb294-4"><a href="resampling.html#cb294-4" tabindex="-1"></a>xmax <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>,quantile, <span class="at">probs=</span><span class="dv">1</span>)</span>
<span id="cb294-5"><a href="resampling.html#cb294-5" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb294-6"><a href="resampling.html#cb294-6" tabindex="-1"></a><span class="fu">hist</span>(xmin, <span class="at">breaks=</span><span class="dv">100</span>, <span class="at">border=</span><span class="cn">NA</span>, <span class="at">main=</span><span class="st">&#39;Min&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb294-7"><a href="resampling.html#cb294-7" tabindex="-1"></a><span class="fu">hist</span>(xmed, <span class="at">breaks=</span><span class="dv">100</span>, <span class="at">border=</span><span class="cn">NA</span>, <span class="at">main=</span><span class="st">&#39;Med&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb294-8"><a href="resampling.html#cb294-8" tabindex="-1"></a><span class="fu">hist</span>(xmax, <span class="at">breaks=</span><span class="dv">100</span>, <span class="at">border=</span><span class="cn">NA</span>, <span class="at">main=</span><span class="st">&#39;Max&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb294-9"><a href="resampling.html#cb294-9" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;Sampling Distributions&#39;</span>, <span class="at">outer=</span>T, <span class="at">line=</span><span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="resampling.html#cb295-1" tabindex="-1"></a><span class="co"># To explore, try any function!</span></span>
<span id="cb295-2"><a href="resampling.html#cb295-2" tabindex="-1"></a>fun_of_rv <span class="ot">&lt;-</span> <span class="cf">function</span>(f, <span class="at">n=</span><span class="dv">100</span>){</span>
<span id="cb295-3"><a href="resampling.html#cb295-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">runif</span>(n)</span>
<span id="cb295-4"><a href="resampling.html#cb295-4" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="fu">f</span>(x)</span>
<span id="cb295-5"><a href="resampling.html#cb295-5" tabindex="-1"></a>  <span class="fu">return</span>(y)</span>
<span id="cb295-6"><a href="resampling.html#cb295-6" tabindex="-1"></a>}</span>
<span id="cb295-7"><a href="resampling.html#cb295-7" tabindex="-1"></a></span>
<span id="cb295-8"><a href="resampling.html#cb295-8" tabindex="-1"></a><span class="fu">fun_of_rv</span>( <span class="at">f=</span>mean )</span></code></pre></div>
<pre><code>## [1] 0.4634983</code></pre>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="resampling.html#cb297-1" tabindex="-1"></a><span class="fu">fun_of_rv</span>( <span class="at">f=</span><span class="cf">function</span>(i){ <span class="fu">diff</span>(<span class="fu">range</span>(<span class="fu">exp</span>(i))) } )</span></code></pre></div>
<pre><code>## [1] 1.602588</code></pre>
</div>
<div id="intervals" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Intervals<a href="resampling.html#intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Using either the bootstrap or jackknife distribution, we can calculate</p>
<ul>
<li><em>confidence interval:</em> range your statistic varies across different samples.</li>
<li><em>standard error</em>: variance of your statistic across different samples.</li>
</ul>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="resampling.html#cb299-1" tabindex="-1"></a>sample_means <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>,mean)</span>
<span id="cb299-2"><a href="resampling.html#cb299-2" tabindex="-1"></a><span class="co"># standard error</span></span>
<span id="cb299-3"><a href="resampling.html#cb299-3" tabindex="-1"></a><span class="fu">sd</span>(sample_means)</span></code></pre></div>
<pre><code>## [1] 0.01675691</code></pre>
<p>Note that in some cases (not discussed here), you can estimate the standard error to get a confidence interval.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="resampling.html#cb301-1" tabindex="-1"></a>x00 <span class="ot">&lt;-</span> x[<span class="dv">1</span>,]</span>
<span id="cb301-2"><a href="resampling.html#cb301-2" tabindex="-1"></a><span class="co"># standard error</span></span>
<span id="cb301-3"><a href="resampling.html#cb301-3" tabindex="-1"></a>s00 <span class="ot">&lt;-</span> <span class="fu">sd</span>(x00)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(x00))</span>
<span id="cb301-4"><a href="resampling.html#cb301-4" tabindex="-1"></a>ci <span class="ot">&lt;-</span> <span class="fu">mean</span>(x00) <span class="sc">+</span> <span class="fu">c</span>(<span class="fl">1.96</span>, <span class="sc">-</span><span class="fl">1.96</span>)<span class="sc">*</span>s00</span></code></pre></div>
<p><strong>Confidence Interval</strong>. Compute the upper and lower quantiles of the sampling distribution.</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="resampling.html#cb302-1" tabindex="-1"></a>bks <span class="ot">&lt;-</span> <span class="fu">seq</span>(.<span class="dv">4</span>,.<span class="dv">6</span>,<span class="at">by=</span>.<span class="dv">001</span>)</span>
<span id="cb302-2"><a href="resampling.html#cb302-2" tabindex="-1"></a><span class="fu">hist</span>(sample_means, <span class="at">breaks=</span>bks, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb302-3"><a href="resampling.html#cb302-3" tabindex="-1"></a>    <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">25</span>), <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb302-4"><a href="resampling.html#cb302-4" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Confidence Interval for the mean&#39;</span>)</span>
<span id="cb302-5"><a href="resampling.html#cb302-5" tabindex="-1"></a></span>
<span id="cb302-6"><a href="resampling.html#cb302-6" tabindex="-1"></a><span class="co"># Middle 90%</span></span>
<span id="cb302-7"><a href="resampling.html#cb302-7" tabindex="-1"></a>mq <span class="ot">&lt;-</span> <span class="fu">quantile</span>(sample_means, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">05</span>,.<span class="dv">95</span>))</span>
<span id="cb302-8"><a href="resampling.html#cb302-8" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>mq)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="resampling.html#cb303-1" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&#39;we are 90% confident that the mean is between &#39;</span>, </span>
<span id="cb303-2"><a href="resampling.html#cb303-2" tabindex="-1"></a>    <span class="fu">round</span>(mq[<span class="dv">1</span>],<span class="dv">2</span>), <span class="st">&#39; and &#39;</span>, <span class="fu">round</span>(mq[<span class="dv">2</span>],<span class="dv">2</span>) )</span></code></pre></div>
<pre><code>## [1] &quot;we are 90% confident that the mean is between 0.47 and 0.53&quot;</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="resampling.html#cb305-1" tabindex="-1"></a>sample_quants <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>,quantile, <span class="at">probs=</span>.<span class="dv">99</span>)</span>
<span id="cb305-2"><a href="resampling.html#cb305-2" tabindex="-1"></a></span>
<span id="cb305-3"><a href="resampling.html#cb305-3" tabindex="-1"></a>bks <span class="ot">&lt;-</span> <span class="fu">seq</span>(.<span class="dv">92</span>,<span class="dv">1</span>,<span class="at">by=</span>.<span class="dv">001</span>)</span>
<span id="cb305-4"><a href="resampling.html#cb305-4" tabindex="-1"></a><span class="fu">hist</span>(sample_quants, <span class="at">breaks=</span>bks, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb305-5"><a href="resampling.html#cb305-5" tabindex="-1"></a>    <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">25</span>), <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb305-6"><a href="resampling.html#cb305-6" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Confidence Interval for the 99% percentile&#39;</span>)</span>
<span id="cb305-7"><a href="resampling.html#cb305-7" tabindex="-1"></a></span>
<span id="cb305-8"><a href="resampling.html#cb305-8" tabindex="-1"></a><span class="co"># Middle 95%</span></span>
<span id="cb305-9"><a href="resampling.html#cb305-9" tabindex="-1"></a>mq <span class="ot">&lt;-</span> <span class="fu">quantile</span>(sample_quants, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>,.<span class="dv">975</span>))</span>
<span id="cb305-10"><a href="resampling.html#cb305-10" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>mq)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="resampling.html#cb306-1" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&#39;we are 95% confident that the upper percentile is between &#39;</span>, </span>
<span id="cb306-2"><a href="resampling.html#cb306-2" tabindex="-1"></a>    <span class="fu">round</span>(mq[<span class="dv">1</span>],<span class="dv">2</span>), <span class="st">&#39; and &#39;</span>, <span class="fu">round</span>(mq[<span class="dv">2</span>],<span class="dv">2</span>) )</span></code></pre></div>
<pre><code>## [1] &quot;we are 95% confident that the upper percentile is between 0.97 and 1&quot;</code></pre>
<p>(See also <a href="https://online.stat.psu.edu/stat200/lesson/4/4.4/4.4.2" class="uri">https://online.stat.psu.edu/stat200/lesson/4/4.4/4.4.2</a>)</p>
<p><strong>Prediction Interval</strong>. Compute the frequency each value was covered.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="resampling.html#cb308-1" tabindex="-1"></a><span class="co"># Middle 90% of values</span></span>
<span id="cb308-2"><a href="resampling.html#cb308-2" tabindex="-1"></a>xq0 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">05</span>,.<span class="dv">95</span>))</span>
<span id="cb308-3"><a href="resampling.html#cb308-3" tabindex="-1"></a></span>
<span id="cb308-4"><a href="resampling.html#cb308-4" tabindex="-1"></a>bks <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span>.<span class="dv">01</span>)</span>
<span id="cb308-5"><a href="resampling.html#cb308-5" tabindex="-1"></a><span class="fu">hist</span>(x, <span class="at">breaks=</span>bks, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb308-6"><a href="resampling.html#cb308-6" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Prediction Interval&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb308-7"><a href="resampling.html#cb308-7" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>xq0)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="resampling.html#cb309-1" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&#39;we are 90% confident that the a future data point will be between &#39;</span>, </span>
<span id="cb309-2"><a href="resampling.html#cb309-2" tabindex="-1"></a>    <span class="fu">round</span>(xq0[<span class="dv">1</span>],<span class="dv">2</span>), <span class="st">&#39; and &#39;</span>, <span class="fu">round</span>(xq0[<span class="dv">2</span>],<span class="dv">2</span>) )</span></code></pre></div>
<pre><code>## [1] &quot;we are 90% confident that the a future data point will be between 0.05 and 0.95&quot;</code></pre>
<p><strong>Advanced Intervals</strong>.
In many cases, we want a X% interval to mean that X% of the intervals we generate will contain the mean (confidence interval) or new observations (prediction interval). E.g., a 50% CI means that half of intervals we create contain the true mean.</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="resampling.html#cb311-1" tabindex="-1"></a><span class="co"># Confidence Interval for each sample</span></span>
<span id="cb311-2"><a href="resampling.html#cb311-2" tabindex="-1"></a>xq <span class="ot">&lt;-</span> <span class="fu">apply</span>(x,<span class="dv">1</span>, <span class="cf">function</span>(r){ <span class="fu">mean</span>(r) <span class="sc">+</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>)<span class="sc">*</span><span class="fu">sd</span>(r) })</span>
<span id="cb311-3"><a href="resampling.html#cb311-3" tabindex="-1"></a><span class="co"># First 4 interval estimates</span></span>
<span id="cb311-4"><a href="resampling.html#cb311-4" tabindex="-1"></a>xq[,<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##           [,1]      [,2]      [,3]      [,4]
## [1,] 0.1935914 0.2085894 0.2303030 0.1979923
## [2,] 0.8023608 0.7771637 0.7939178 0.7716116</code></pre>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="resampling.html#cb313-1" tabindex="-1"></a><span class="co"># Frequency each point was in an interval</span></span>
<span id="cb313-2"><a href="resampling.html#cb313-2" tabindex="-1"></a>bks <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span>.<span class="dv">01</span>)</span>
<span id="cb313-3"><a href="resampling.html#cb313-3" tabindex="-1"></a>xcov <span class="ot">&lt;-</span> <span class="fu">sapply</span>(bks, <span class="cf">function</span>(b){</span>
<span id="cb313-4"><a href="resampling.html#cb313-4" tabindex="-1"></a>    bl <span class="ot">&lt;-</span> b <span class="sc">&gt;=</span> xq[<span class="dv">1</span>,]</span>
<span id="cb313-5"><a href="resampling.html#cb313-5" tabindex="-1"></a>    bu <span class="ot">&lt;-</span> b <span class="sc">&lt;=</span> xq[<span class="dv">2</span>,]</span>
<span id="cb313-6"><a href="resampling.html#cb313-6" tabindex="-1"></a>    <span class="fu">mean</span>( bl <span class="sc">&amp;</span> bu )</span>
<span id="cb313-7"><a href="resampling.html#cb313-7" tabindex="-1"></a>})</span>
<span id="cb313-8"><a href="resampling.html#cb313-8" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb313-9"><a href="resampling.html#cb313-9" tabindex="-1"></a><span class="fu">plot.window</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb313-10"><a href="resampling.html#cb313-10" tabindex="-1"></a><span class="fu">polygon</span>( <span class="fu">c</span>(bks, <span class="fu">rev</span>(bks)), <span class="fu">c</span>(xcov, xcov<span class="sc">*</span><span class="dv">0</span>), <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>), <span class="at">border=</span><span class="cn">NA</span>)</span>
<span id="cb313-11"><a href="resampling.html#cb313-11" tabindex="-1"></a><span class="fu">mtext</span>(<span class="st">&#39;Frequency each value was in an interval&#39;</span>,<span class="dv">2</span>, <span class="at">line=</span><span class="fl">2.5</span>)</span>
<span id="cb313-12"><a href="resampling.html#cb313-12" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>)</span>
<span id="cb313-13"><a href="resampling.html#cb313-13" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>)</span>
<span id="cb313-14"><a href="resampling.html#cb313-14" tabindex="-1"></a></span>
<span id="cb313-15"><a href="resampling.html#cb313-15" tabindex="-1"></a><span class="co"># 50\% Coverage</span></span>
<span id="cb313-16"><a href="resampling.html#cb313-16" tabindex="-1"></a>c_ul <span class="ot">&lt;-</span> <span class="fu">range</span>(bks[xcov<span class="sc">&gt;=</span>.<span class="dv">5</span>])</span>
<span id="cb313-17"><a href="resampling.html#cb313-17" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span>.<span class="dv">5</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb313-18"><a href="resampling.html#cb313-18" tabindex="-1"></a><span class="fu">segments</span>(c_ul,<span class="dv">0</span>,c_ul,.<span class="dv">5</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb313-19"><a href="resampling.html#cb313-19" tabindex="-1"></a>c_ul <span class="co"># 50% confidence interval</span></span></code></pre></div>
<pre><code>## [1] 0.22 0.78</code></pre>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="resampling.html#cb315-1" tabindex="-1"></a><span class="co"># True mean</span></span>
<span id="cb315-2"><a href="resampling.html#cb315-2" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>.<span class="dv">5</span>, <span class="at">col=</span><span class="dv">2</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
</div>
<div id="resampling-1" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Resampling<a href="resampling.html#resampling-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Often, we only have one sample.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="resampling.html#cb316-1" tabindex="-1"></a>sample_dat <span class="ot">&lt;-</span> USArrests<span class="sc">$</span>Murder</span>
<span id="cb316-2"><a href="resampling.html#cb316-2" tabindex="-1"></a><span class="fu">mean</span>(sample_dat)</span></code></pre></div>
<pre><code>## [1] 7.788</code></pre>
<p>How then can we estimate the sampling distribution of a statistic? We can “resample” our data. <em>Hesterberg (2015)</em> provides a nice illustration of the idea. The two most basic versions are the jackknife and the bootstrap, which are discussed below.</p>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<strong>Jackknife Distribution</strong>. Here, we compute all “leave-one-out” estimates. Specifically, for a dataset with <span class="math inline">\(n\)</span> observations, the jackknife uses <span class="math inline">\(n-1\)</span> observations other than <span class="math inline">\(i\)</span> for each unique subsample. Taking the mean, for example, we have
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="resampling.html#cb318-1" tabindex="-1"></a>sample_dat <span class="ot">&lt;-</span> USArrests<span class="sc">$</span>Murder</span>
<span id="cb318-2"><a href="resampling.html#cb318-2" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(sample_dat)</span>
<span id="cb318-3"><a href="resampling.html#cb318-3" tabindex="-1"></a></span>
<span id="cb318-4"><a href="resampling.html#cb318-4" tabindex="-1"></a><span class="co"># Jackknife Estimates</span></span>
<span id="cb318-5"><a href="resampling.html#cb318-5" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(sample_dat)</span>
<span id="cb318-6"><a href="resampling.html#cb318-6" tabindex="-1"></a>Jmeans <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>n, <span class="cf">function</span>(i){</span>
<span id="cb318-7"><a href="resampling.html#cb318-7" tabindex="-1"></a>    dati <span class="ot">&lt;-</span> sample_dat[<span class="sc">-</span>i]</span>
<span id="cb318-8"><a href="resampling.html#cb318-8" tabindex="-1"></a>    <span class="fu">mean</span>(dati)</span>
<span id="cb318-9"><a href="resampling.html#cb318-9" tabindex="-1"></a>})</span>
<span id="cb318-10"><a href="resampling.html#cb318-10" tabindex="-1"></a><span class="fu">hist</span>(Jmeans, <span class="at">breaks=</span><span class="dv">25</span>, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb318-11"><a href="resampling.html#cb318-11" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;&#39;</span>, <span class="at">xlab=</span><span class="fu">expression</span>(<span class="fu">bar</span>(X)[<span class="sc">-</span>i]))</span>
<span id="cb318-12"><a href="resampling.html#cb318-12" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>sample_mean, <span class="at">col=</span><span class="st">&#39;red&#39;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
<strong>Bootstrap Distribution</strong>. Here, we draw <span class="math inline">\(n\)</span> observations with replacement from the original data to create a bootstrap sample and calculate a statistic. Each bootstrap sample <span class="math inline">\(b=1...B\)</span> uses a random set of observations (denoted <span class="math inline">\(N_{b}\)</span>) to compute a statistic. We repeat that many times, say <span class="math inline">\(B=9999\)</span>, to estimate the sampling distribution. Consider the sample mean as an example;
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="resampling.html#cb319-1" tabindex="-1"></a><span class="co"># Bootstrap estimates</span></span>
<span id="cb319-2"><a href="resampling.html#cb319-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2</span>)</span>
<span id="cb319-3"><a href="resampling.html#cb319-3" tabindex="-1"></a>Bmeans <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span><span class="sc">^</span><span class="dv">4</span>, <span class="cf">function</span>(i) {</span>
<span id="cb319-4"><a href="resampling.html#cb319-4" tabindex="-1"></a>    dat_b <span class="ot">&lt;-</span> <span class="fu">sample</span>(sample_dat, <span class="at">replace=</span>T) <span class="co"># c.f. jackknife</span></span>
<span id="cb319-5"><a href="resampling.html#cb319-5" tabindex="-1"></a>    <span class="fu">mean</span>(dat_b)</span>
<span id="cb319-6"><a href="resampling.html#cb319-6" tabindex="-1"></a>})</span>
<span id="cb319-7"><a href="resampling.html#cb319-7" tabindex="-1"></a></span>
<span id="cb319-8"><a href="resampling.html#cb319-8" tabindex="-1"></a><span class="fu">hist</span>(Bmeans, <span class="at">breaks=</span><span class="dv">25</span>, <span class="at">border=</span><span class="cn">NA</span>,</span>
<span id="cb319-9"><a href="resampling.html#cb319-9" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;&#39;</span>, <span class="at">xlab=</span><span class="fu">expression</span>(<span class="fu">bar</span>(X)[b]))</span>
<span id="cb319-10"><a href="resampling.html#cb319-10" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>sample_mean, <span class="at">col=</span><span class="st">&#39;red&#39;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p><strong>Caveat</strong>.
Note that we do not use the mean of the bootstrap or jackknife statistics as a replacement for the original estimate. This is because the bootstrap and jackknife distributions are centered at the observed statistic, not the population parameter. (The bootstrapped mean is centered at the sample mean, not the population mean.) This means that we cannot use the bootstrap to improve on <span class="math inline">\(\overline{x}\)</span>; no matter how many bootstrap samples we take. We can, however, use the jackknife and bootstrap to estimate sampling variability.</p>
<p><strong>Intervals</strong>.
Note that both methods provide imperfect estimates, and can give different numbers. Until you know more, a conservative approach is to take the larger estimate.</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="resampling.html#cb320-1" tabindex="-1"></a><span class="co"># Boot CI</span></span>
<span id="cb320-2"><a href="resampling.html#cb320-2" tabindex="-1"></a>boot_ci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(Bmeans, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>, .<span class="dv">975</span>))</span>
<span id="cb320-3"><a href="resampling.html#cb320-3" tabindex="-1"></a>boot_ci</span></code></pre></div>
<pre><code>##    2.5%   97.5% 
## 6.58200 8.97005</code></pre>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="resampling.html#cb322-1" tabindex="-1"></a><span class="co"># Jack CI</span></span>
<span id="cb322-2"><a href="resampling.html#cb322-2" tabindex="-1"></a>jack_ci <span class="ot">&lt;-</span> <span class="fu">quantile</span>(Jmeans, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>, .<span class="dv">975</span>))</span>
<span id="cb322-3"><a href="resampling.html#cb322-3" tabindex="-1"></a>jack_ci</span></code></pre></div>
<pre><code>##     2.5%    97.5% 
## 7.621582 7.904082</code></pre>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="resampling.html#cb324-1" tabindex="-1"></a><span class="co"># more conservative estimate</span></span>
<span id="cb324-2"><a href="resampling.html#cb324-2" tabindex="-1"></a>ci_est <span class="ot">&lt;-</span> boot_ci</span></code></pre></div>
<p>Also note that the <em>standard deviation</em> refers to variance within a single sample, and is hence different from the standard error. Nonetheless, they can both be used to estimate the variability of a statistic.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="resampling.html#cb325-1" tabindex="-1"></a>boot_se <span class="ot">&lt;-</span> <span class="fu">sd</span>(Bmeans)</span>
<span id="cb325-2"><a href="resampling.html#cb325-2" tabindex="-1"></a></span>
<span id="cb325-3"><a href="resampling.html#cb325-3" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(sample_dat)</span>
<span id="cb325-4"><a href="resampling.html#cb325-4" tabindex="-1"></a></span>
<span id="cb325-5"><a href="resampling.html#cb325-5" tabindex="-1"></a><span class="fu">c</span>(boot_se, sample_sd<span class="sc">/</span><span class="fu">sqrt</span>(n))</span></code></pre></div>
<pre><code>## [1] 0.6056902 0.6159621</code></pre>
</div>
<div id="value-of-more-data" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Value of More Data<a href="resampling.html#value-of-more-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Each additional data point you have provides more information, which ultimately decreases the standard error of your estimates. However, it does so at a decreasing rate (known in economics as diminishing returns).</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="resampling.html#cb327-1" tabindex="-1"></a>Nseq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">100</span>, <span class="at">by=</span><span class="dv">1</span>) <span class="co"># Sample sizes</span></span>
<span id="cb327-2"><a href="resampling.html#cb327-2" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">1000</span> <span class="co"># Number of draws per sample</span></span>
<span id="cb327-3"><a href="resampling.html#cb327-3" tabindex="-1"></a></span>
<span id="cb327-4"><a href="resampling.html#cb327-4" tabindex="-1"></a>SE <span class="ot">&lt;-</span> <span class="fu">sapply</span>(Nseq, <span class="cf">function</span>(n){</span>
<span id="cb327-5"><a href="resampling.html#cb327-5" tabindex="-1"></a>    sample_statistics <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>B, <span class="cf">function</span>(b){</span>
<span id="cb327-6"><a href="resampling.html#cb327-6" tabindex="-1"></a>        x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n) <span class="co"># Sample of size N</span></span>
<span id="cb327-7"><a href="resampling.html#cb327-7" tabindex="-1"></a>        <span class="fu">quantile</span>(x,<span class="at">probs=</span>.<span class="dv">4</span>) <span class="co"># Statistic</span></span>
<span id="cb327-8"><a href="resampling.html#cb327-8" tabindex="-1"></a>    })</span>
<span id="cb327-9"><a href="resampling.html#cb327-9" tabindex="-1"></a>    <span class="fu">sd</span>(sample_statistics)</span>
<span id="cb327-10"><a href="resampling.html#cb327-10" tabindex="-1"></a>})</span>
<span id="cb327-11"><a href="resampling.html#cb327-11" tabindex="-1"></a></span>
<span id="cb327-12"><a href="resampling.html#cb327-12" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb327-13"><a href="resampling.html#cb327-13" tabindex="-1"></a><span class="fu">plot</span>(Nseq, SE, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">5</span>),</span>
<span id="cb327-14"><a href="resampling.html#cb327-14" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Absolute Gain&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb327-15"><a href="resampling.html#cb327-15" tabindex="-1"></a>    <span class="at">ylab=</span><span class="st">&#39;standard error&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;sample size&#39;</span>)</span>
<span id="cb327-16"><a href="resampling.html#cb327-16" tabindex="-1"></a><span class="fu">plot</span>(Nseq[<span class="sc">-</span><span class="dv">1</span>], <span class="fu">abs</span>(<span class="fu">diff</span>(SE)), <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">5</span>),</span>
<span id="cb327-17"><a href="resampling.html#cb327-17" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Marginal Gain&#39;</span>, <span class="at">font.main=</span><span class="dv">1</span>,</span>
<span id="cb327-18"><a href="resampling.html#cb327-18" tabindex="-1"></a>    <span class="at">ylab=</span><span class="st">&#39;decrease in standard error&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;sample size&#39;</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-84-1.png" width="672" /></p>
</div>
<div id="further-reading-2" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Further Reading<a href="resampling.html#further-reading-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>See</p>
<ul>
<li><a href="https://www.r-bloggers.com/2025/02/bootstrap-vs-standard-error-confidence-intervals/" class="uri">https://www.r-bloggers.com/2025/02/bootstrap-vs-standard-error-confidence-intervals/</a></li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hypothesis-tests.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["index.pdf", "index.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
