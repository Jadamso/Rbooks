<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 7 Simple OLS | index</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content=" 7 Simple OLS | index" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 7 Simple OLS | index" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="beyond-basics.html"/>
<link rel="next" href="ols-multiple-linear-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.8/profvis.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rbooks</a></li>
<li class="toc-logo"><a href="./"><img src="Figures_Manual/Logo.png" width="140" height="100"></a></li>        

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="part"><span><b>I Programming in R</b></span></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#why-r"><i class="fa fa-check"></i><b>2.1</b> Why R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#interfacing-with-r"><i class="fa fa-check"></i><b>2.3</b> Interfacing with R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>3</b> Mathematics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematics.html"><a href="mathematics.html#scalars"><i class="fa fa-check"></i><b>3.1</b> Scalars</a></li>
<li class="chapter" data-level="3.2" data-path="mathematics.html"><a href="mathematics.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a></li>
<li class="chapter" data-level="3.4" data-path="mathematics.html"><a href="mathematics.html#matrices"><i class="fa fa-check"></i><b>3.4</b> Matrices</a></li>
<li class="chapter" data-level="3.5" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>3.5</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistics.html"><a href="statistics.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="statistics.html"><a href="statistics.html#random-variables"><i class="fa fa-check"></i><b>4.2</b> Random Variables</a></li>
<li class="chapter" data-level="4.3" data-path="statistics.html"><a href="statistics.html#functions-of-data"><i class="fa fa-check"></i><b>4.3</b> Functions of Data</a></li>
<li class="chapter" data-level="4.4" data-path="statistics.html"><a href="statistics.html#value-of-more-data"><i class="fa fa-check"></i><b>4.4</b> Value of More Data</a></li>
<li class="chapter" data-level="4.5" data-path="statistics.html"><a href="statistics.html#further-reading"><i class="fa fa-check"></i><b>4.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>5</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-analysis.html"><a href="data-analysis.html#cleaning-data"><i class="fa fa-check"></i><b>5.1</b> Cleaning Data</a></li>
<li class="chapter" data-level="5.2" data-path="data-analysis.html"><a href="data-analysis.html#static-plots"><i class="fa fa-check"></i><b>5.2</b> Static Plots</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-analysis.html"><a href="data-analysis.html#histograms"><i class="fa fa-check"></i><b>5.2.1</b> Histograms</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-analysis.html"><a href="data-analysis.html#boxplots"><i class="fa fa-check"></i><b>5.2.2</b> Boxplots</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-analysis.html"><a href="data-analysis.html#scatterplots"><i class="fa fa-check"></i><b>5.2.3</b> Scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-analysis.html"><a href="data-analysis.html#interactive-plots"><i class="fa fa-check"></i><b>5.3</b> Interactive Plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="beyond-basics.html"><a href="beyond-basics.html"><i class="fa fa-check"></i><b>6</b> Beyond Basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="beyond-basics.html"><a href="beyond-basics.html#the-r-ecosystem"><i class="fa fa-check"></i><b>6.1</b> The R Ecosystem</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="beyond-basics.html"><a href="beyond-basics.html#packages"><i class="fa fa-check"></i><b>6.1.1</b> Packages</a></li>
<li class="chapter" data-level="6.1.2" data-path="beyond-basics.html"><a href="beyond-basics.html#task-views"><i class="fa fa-check"></i><b>6.1.2</b> Task Views</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="beyond-basics.html"><a href="beyond-basics.html#introductions-to-r"><i class="fa fa-check"></i><b>6.2</b> Introductions to R</a></li>
<li class="chapter" data-level="6.3" data-path="beyond-basics.html"><a href="beyond-basics.html#custom-figures"><i class="fa fa-check"></i><b>6.3</b> Custom Figures</a></li>
</ul></li>
<li class="part"><span><b>II Linear Regression in R</b></span></li>
<li class="chapter" data-level="7" data-path="simple-ols.html"><a href="simple-ols.html"><i class="fa fa-check"></i><b>7</b> Simple OLS</a>
<ul>
<li class="chapter" data-level="7.1" data-path="simple-ols.html"><a href="simple-ols.html#variability-estimates"><i class="fa fa-check"></i><b>7.1</b> Variability Estimates</a></li>
<li class="chapter" data-level="7.2" data-path="simple-ols.html"><a href="simple-ols.html#hypothesis-tests"><i class="fa fa-check"></i><b>7.2</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="7.3" data-path="simple-ols.html"><a href="simple-ols.html#prediction-intervals"><i class="fa fa-check"></i><b>7.3</b> Prediction Intervals</a></li>
<li class="chapter" data-level="7.4" data-path="simple-ols.html"><a href="simple-ols.html#value-of-more-data-1"><i class="fa fa-check"></i><b>7.4</b> Value of More Data</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html"><i class="fa fa-check"></i><b>8</b> OLS (multiple linear regression)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#variability-estimates-and-hypothesis-tests"><i class="fa fa-check"></i><b>8.1</b> Variability Estimates and Hypothesis Tests</a></li>
<li class="chapter" data-level="8.2" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#factor-variables"><i class="fa fa-check"></i><b>8.2</b> Factor Variables</a></li>
<li class="chapter" data-level="8.3" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#coefficient-interpretation"><i class="fa fa-check"></i><b>8.3</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="8.4" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#diagnostics"><i class="fa fa-check"></i><b>8.4</b> Diagnostics</a></li>
<li class="chapter" data-level="8.5" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#linear-in-parameters"><i class="fa fa-check"></i><b>8.5</b> Linear in Parameters</a></li>
<li class="chapter" data-level="8.6" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#more-literature"><i class="fa fa-check"></i><b>8.6</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html"><i class="fa fa-check"></i><b>9</b> Endogeneity Issues</a>
<ul>
<li class="chapter" data-level="9.1" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#two-stage-least-squares-2sls"><i class="fa fa-check"></i><b>9.1</b> Two Stage Least Squares (2SLS)</a></li>
<li class="chapter" data-level="9.2" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#regression-discontinuitieskink-rdrk"><i class="fa fa-check"></i><b>9.2</b> Regression Discontinuities/Kink (RD/RK)</a></li>
<li class="chapter" data-level="9.3" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#difference-in-differences-did"><i class="fa fa-check"></i><b>9.3</b> Difference in Differences (DID)</a></li>
<li class="chapter" data-level="9.4" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#more-literature-1"><i class="fa fa-check"></i><b>9.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>10</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-scientism.html"><a href="data-scientism.html#data-errors"><i class="fa fa-check"></i><b>10.1</b> Data Errors</a></li>
<li class="chapter" data-level="10.2" data-path="data-scientism.html"><a href="data-scientism.html#p-hacking"><i class="fa fa-check"></i><b>10.2</b> P-Hacking</a></li>
<li class="chapter" data-level="10.3" data-path="data-scientism.html"><a href="data-scientism.html#spurious-regression"><i class="fa fa-check"></i><b>10.3</b> Spurious Regression</a></li>
<li class="chapter" data-level="10.4" data-path="data-scientism.html"><a href="data-scientism.html#spurious-causal-impacts"><i class="fa fa-check"></i><b>10.4</b> Spurious Causal Impacts</a></li>
</ul></li>
<li class="part"><span><b>III Reproducible Research in R</b></span></li>
<li class="chapter" data-level="11" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i><b>11</b> Why?</a>
<ul>
<li class="chapter" data-level="11.1" data-path="why.html"><a href="why.html#an-example-workflow"><i class="fa fa-check"></i><b>11.1</b> An example workflow</a></li>
<li class="chapter" data-level="11.2" data-path="why.html"><a href="why.html#an-alternative-workflow"><i class="fa fa-check"></i><b>11.2</b> An alternative workflow</a></li>
<li class="chapter" data-level="11.3" data-path="why.html"><a href="why.html#replicable"><i class="fa fa-check"></i><b>11.3</b> Replicable</a></li>
<li class="chapter" data-level="11.4" data-path="why.html"><a href="why.html#r-and-r-markdown"><i class="fa fa-check"></i><b>11.4</b> R and R-Markdown</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="small-projects.html"><a href="small-projects.html"><i class="fa fa-check"></i><b>12</b> Small Projects</a>
<ul>
<li class="chapter" data-level="12.1" data-path="small-projects.html"><a href="small-projects.html#code-chunks"><i class="fa fa-check"></i><b>12.1</b> Code Chunks</a></li>
<li class="chapter" data-level="12.2" data-path="small-projects.html"><a href="small-projects.html#reports"><i class="fa fa-check"></i><b>12.2</b> Reports</a></li>
<li class="chapter" data-level="12.3" data-path="small-projects.html"><a href="small-projects.html#posters-and-slides"><i class="fa fa-check"></i><b>12.3</b> Posters and Slides</a></li>
<li class="chapter" data-level="12.4" data-path="small-projects.html"><a href="small-projects.html#more-literature-2"><i class="fa fa-check"></i><b>12.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="large-projects.html"><a href="large-projects.html"><i class="fa fa-check"></i><b>13</b> Large Projects</a>
<ul>
<li class="chapter" data-level="13.1" data-path="large-projects.html"><a href="large-projects.html#loggingsinking"><i class="fa fa-check"></i><b>13.1</b> Logging/Sinking</a></li>
<li class="chapter" data-level="13.2" data-path="large-projects.html"><a href="large-projects.html#class-projects"><i class="fa fa-check"></i><b>13.2</b> Class Projects</a></li>
<li class="chapter" data-level="13.3" data-path="large-projects.html"><a href="large-projects.html#debugging"><i class="fa fa-check"></i><b>13.3</b> Debugging</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="large-projects.html"><a href="large-projects.html#tracing"><i class="fa fa-check"></i><b>13.3.1</b> Tracing</a></li>
<li class="chapter" data-level="13.3.2" data-path="large-projects.html"><a href="large-projects.html#isolating"><i class="fa fa-check"></i><b>13.3.2</b> Isolating</a></li>
<li class="chapter" data-level="13.3.3" data-path="large-projects.html"><a href="large-projects.html#handling"><i class="fa fa-check"></i><b>13.3.3</b> Handling</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="large-projects.html"><a href="large-projects.html#optimizing"><i class="fa fa-check"></i><b>13.4</b> Optimizing</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="large-projects.html"><a href="large-projects.html#benchmarking"><i class="fa fa-check"></i><b>13.4.1</b> Benchmarking</a></li>
<li class="chapter" data-level="13.4.2" data-path="large-projects.html"><a href="large-projects.html#speed-ups"><i class="fa fa-check"></i><b>13.4.2</b> Speed-Ups</a></li>
<li class="chapter" data-level="13.4.3" data-path="large-projects.html"><a href="large-projects.html#bottlenecks"><i class="fa fa-check"></i><b>13.4.3</b> Bottlenecks</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="large-projects.html"><a href="large-projects.html#more-literature-3"><i class="fa fa-check"></i><b>13.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="web-applications.html"><a href="web-applications.html"><i class="fa fa-check"></i><b>14</b> Web Applications</a>
<ul>
<li class="chapter" data-level="14.1" data-path="web-applications.html"><a href="web-applications.html#more-literature-4"><i class="fa fa-check"></i><b>14.1</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>15</b> Software</a>
<ul>
<li class="chapter" data-level="15.1" data-path="software.html"><a href="software.html#latest-versions"><i class="fa fa-check"></i><b>15.1</b> Latest versions</a></li>
<li class="chapter" data-level="15.2" data-path="software.html"><a href="software.html#general-workflow"><i class="fa fa-check"></i><b>15.2</b> General Workflow</a></li>
<li class="chapter" data-level="15.3" data-path="software.html"><a href="software.html#sweave"><i class="fa fa-check"></i><b>15.3</b> Sweave</a></li>
<li class="chapter" data-level="15.4" data-path="software.html"><a href="software.html#stata"><i class="fa fa-check"></i><b>15.4</b> Stata</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simple-ols" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number"> 7</span> Simple OLS<a href="simple-ols.html#simple-ols" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<p>Model and objective
<span class="math display">\[
y_i=\alpha+\beta x_i+\epsilon_{i} \\
\epsilon_{i} = y_i - [\alpha+\beta x_i]\\
min_{\beta} \sum_{i=1}^{n} (\epsilon_{i})^2
\]</span></p>
<p>Point Estimates
<span class="math display">\[
\hat{\alpha}=\bar{y}-\hat{\beta}\bar{x} = \widehat{\mathbb{E}}[Y] - \hat{\beta} \widehat{\mathbb{E}}[X] \\
\hat{\beta}=\frac{\sum_{i}^{}(x_i-\bar{x})(y_i-\bar{y})}{\sum_{i}^{}(x_i-\bar{x})^2} = \frac{\widehat{Cov}[X,Y]}{\widehat{\mathbb{V}}[X]}\\
\hat{y}_i=\hat{\alpha}+\hat{\beta}x_i\\
\hat{\epsilon}_i=y_i-\hat{y}_i\\
\]</span></p>
<p>Before fitting the model to your data, explore your data (as in Part I)</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="simple-ols.html#cb204-1" tabindex="-1"></a><span class="do">## Inspect Dataset</span></span>
<span id="cb204-2"><a href="simple-ols.html#cb204-2" tabindex="-1"></a>xy <span class="ot">&lt;-</span> USArrests[,<span class="fu">c</span>(<span class="st">&#39;Murder&#39;</span>,<span class="st">&#39;UrbanPop&#39;</span>)]</span>
<span id="cb204-3"><a href="simple-ols.html#cb204-3" tabindex="-1"></a><span class="fu">colnames</span>(xy) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;y&#39;</span>,<span class="st">&#39;x&#39;</span>)</span>
<span id="cb204-4"><a href="simple-ols.html#cb204-4" tabindex="-1"></a><span class="do">## head(xy)</span></span>
<span id="cb204-5"><a href="simple-ols.html#cb204-5" tabindex="-1"></a><span class="do">## Plot Data</span></span>
<span id="cb204-6"><a href="simple-ols.html#cb204-6" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, xy, <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>), <span class="at">pch=</span><span class="dv">16</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="simple-ols.html#cb205-1" tabindex="-1"></a><span class="do">## Estimate Regression Coefficients</span></span>
<span id="cb205-2"><a href="simple-ols.html#cb205-2" tabindex="-1"></a>reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy)</span>
<span id="cb205-3"><a href="simple-ols.html#cb205-3" tabindex="-1"></a>reg </span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x, data = xy)
## 
## Coefficients:
## (Intercept)            x  
##     6.41594      0.02093</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="simple-ols.html#cb207-1" tabindex="-1"></a><span class="do">## Point Estimates</span></span>
<span id="cb207-2"><a href="simple-ols.html#cb207-2" tabindex="-1"></a><span class="fu">coef</span>(reg)</span></code></pre></div>
<pre><code>## (Intercept)           x 
##  6.41594246  0.02093466</code></pre>
<p>To measure the ‘’Goodness of fit’’, we analyze sums of squared errors (Total, Explained, and Residual) as
<span class="math display">\[
\underbrace{\sum_{i}(y_i-\bar{y})^2}_\text{TSS}=\underbrace{\sum_{i}(\hat{y}_i-\bar{y})^2}_\text{ESS}+\underbrace{\sum_{i}\hat{\epsilon_{i}}^2}_\text{RSS}\\
R^2 = \frac{ESS}{TSS}=1-\frac{RSS}{TSS}
\]</span>
Note that <span class="math inline">\(R^2\)</span> is also called the coefficient of determination.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="simple-ols.html#cb209-1" tabindex="-1"></a><span class="do">## Manually Compute Goodness of Fit</span></span>
<span id="cb209-2"><a href="simple-ols.html#cb209-2" tabindex="-1"></a>Ehat <span class="ot">&lt;-</span> <span class="fu">resid</span>(reg)</span>
<span id="cb209-3"><a href="simple-ols.html#cb209-3" tabindex="-1"></a>RSS  <span class="ot">&lt;-</span> <span class="fu">sum</span>(Ehat<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb209-4"><a href="simple-ols.html#cb209-4" tabindex="-1"></a>Y <span class="ot">&lt;-</span> xy<span class="sc">$</span>y</span>
<span id="cb209-5"><a href="simple-ols.html#cb209-5" tabindex="-1"></a>TSS  <span class="ot">&lt;-</span> <span class="fu">sum</span>((Y<span class="sc">-</span><span class="fu">mean</span>(Y))<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb209-6"><a href="simple-ols.html#cb209-6" tabindex="-1"></a>R2 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> RSS<span class="sc">/</span>TSS</span>
<span id="cb209-7"><a href="simple-ols.html#cb209-7" tabindex="-1"></a>R2</span></code></pre></div>
<pre><code>## [1] 0.00484035</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="simple-ols.html#cb211-1" tabindex="-1"></a><span class="do">## Check R2</span></span>
<span id="cb211-2"><a href="simple-ols.html#cb211-2" tabindex="-1"></a><span class="fu">summary</span>(reg)<span class="sc">$</span>r.squared</span></code></pre></div>
<pre><code>## [1] 0.00484035</code></pre>
<div id="variability-estimates" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Variability Estimates<a href="simple-ols.html#variability-estimates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A regression coefficient is a statistic. And, just like all statistics, we can calculate</p>
<ul>
<li><em>standard deviation</em>: variability within a single sample.</li>
<li><em>standard error</em>: variability across different samples.</li>
<li><em>confidence interval:</em> range your statistic varies across different samples.</li>
<li><em>null distribution</em>: the sampling distribution of the statistic under the null hypothesis (assuming your null hypothesis was true).</li>
<li><em>p-value</em> the probability you would see something as extreme as your statistic when sampling from the null distribution.</li>
</ul>
<p>To calculate these variability statistics, we will estimate variabilty using <em>data-driven</em> methods.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>We first consider the simplest, the jackknife. In this procedure, we loop through each row of the dataset. And, in each iteration of the loop, we drop that observation from the dataset and reestimate the statistic of interest. We then calculate the standard deviation of the statistic across all ``resamples’’.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="simple-ols.html#cb213-1" tabindex="-1"></a><span class="do">## Example 1 Continued</span></span>
<span id="cb213-2"><a href="simple-ols.html#cb213-2" tabindex="-1"></a></span>
<span id="cb213-3"><a href="simple-ols.html#cb213-3" tabindex="-1"></a><span class="do">## Jackknife Standard Errors for Beta</span></span>
<span id="cb213-4"><a href="simple-ols.html#cb213-4" tabindex="-1"></a>jack_regs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(xy), <span class="cf">function</span>(i){</span>
<span id="cb213-5"><a href="simple-ols.html#cb213-5" tabindex="-1"></a>    xy_i <span class="ot">&lt;-</span> xy[<span class="sc">-</span>i,]</span>
<span id="cb213-6"><a href="simple-ols.html#cb213-6" tabindex="-1"></a>    reg_i <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy_i)</span>
<span id="cb213-7"><a href="simple-ols.html#cb213-7" tabindex="-1"></a>})</span>
<span id="cb213-8"><a href="simple-ols.html#cb213-8" tabindex="-1"></a>jack_coefs <span class="ot">&lt;-</span> <span class="fu">sapply</span>(jack_regs, coef)[<span class="st">&#39;x&#39;</span>,]</span>
<span id="cb213-9"><a href="simple-ols.html#cb213-9" tabindex="-1"></a>jack_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(jack_coefs)</span>
<span id="cb213-10"><a href="simple-ols.html#cb213-10" tabindex="-1"></a>jack_se <span class="ot">&lt;-</span> <span class="fu">sd</span>(jack_coefs)</span>
<span id="cb213-11"><a href="simple-ols.html#cb213-11" tabindex="-1"></a></span>
<span id="cb213-12"><a href="simple-ols.html#cb213-12" tabindex="-1"></a><span class="do">## Jackknife Confidence Intervals</span></span>
<span id="cb213-13"><a href="simple-ols.html#cb213-13" tabindex="-1"></a>jack_ci_percentile <span class="ot">&lt;-</span> <span class="fu">quantile</span>(jack_coefs, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>,.<span class="dv">975</span>))</span>
<span id="cb213-14"><a href="simple-ols.html#cb213-14" tabindex="-1"></a><span class="fu">hist</span>(jack_coefs, <span class="at">breaks=</span><span class="dv">25</span>,</span>
<span id="cb213-15"><a href="simple-ols.html#cb213-15" tabindex="-1"></a>    <span class="at">main=</span><span class="fu">paste0</span>(<span class="st">&#39;SE est. = &#39;</span>, <span class="fu">round</span>(jack_se,<span class="dv">4</span>)),</span>
<span id="cb213-16"><a href="simple-ols.html#cb213-16" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(beta[<span class="sc">-</span>i]))</span>
<span id="cb213-17"><a href="simple-ols.html#cb213-17" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>jack_mean, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb213-18"><a href="simple-ols.html#cb213-18" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>jack_ci_percentile, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="simple-ols.html#cb214-1" tabindex="-1"></a><span class="do">## Plot Full-Sample Estimate</span></span>
<span id="cb214-2"><a href="simple-ols.html#cb214-2" tabindex="-1"></a><span class="do">## abline(v=coef(reg)[&#39;x&#39;], lty=1, col=&#39;blue&#39;, lwd=2)</span></span>
<span id="cb214-3"><a href="simple-ols.html#cb214-3" tabindex="-1"></a></span>
<span id="cb214-4"><a href="simple-ols.html#cb214-4" tabindex="-1"></a><span class="do">## Plot Normal Approximation</span></span>
<span id="cb214-5"><a href="simple-ols.html#cb214-5" tabindex="-1"></a><span class="do">## jack_ci_normal &lt;- jack_mean+c(-1.96, +1.96)*jack_se</span></span>
<span id="cb214-6"><a href="simple-ols.html#cb214-6" tabindex="-1"></a><span class="do">## abline(v=jack_ci_normal, col=&quot;red&quot;, lty=3)</span></span></code></pre></div>
<p>There are several other resampling techniques. We consider the other main one, the bootstrap, which resamples with <em>replacement</em> for an <em>arbitrary</em> number of iterations. When bootstrapping a dataset with <span class="math inline">\(n\)</span> observations, you randomly resample all <span class="math inline">\(n\)</span> rows in your data set <span class="math inline">\(B\)</span> times.</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Sample Size per Iteration</th>
<th>Number of Iterations</th>
<th>Resample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Bootstrap</td>
<td><span class="math inline">\(n\)</span></td>
<td><span class="math inline">\(B\)</span></td>
<td>With Replacement</td>
</tr>
<tr class="even">
<td>Jackknife</td>
<td><span class="math inline">\(n-1\)</span></td>
<td><span class="math inline">\(n\)</span></td>
<td>Without Replacement</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="simple-ols.html#cb215-1" tabindex="-1"></a><span class="do">## Bootstrap Standard Errors for Beta</span></span>
<span id="cb215-2"><a href="simple-ols.html#cb215-2" tabindex="-1"></a>boots <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">399</span></span>
<span id="cb215-3"><a href="simple-ols.html#cb215-3" tabindex="-1"></a>boot_regs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(boots, <span class="cf">function</span>(b){</span>
<span id="cb215-4"><a href="simple-ols.html#cb215-4" tabindex="-1"></a>    b_id <span class="ot">&lt;-</span> <span class="fu">sample</span>( <span class="fu">nrow</span>(xy), <span class="at">replace=</span>T)</span>
<span id="cb215-5"><a href="simple-ols.html#cb215-5" tabindex="-1"></a>    xy_b <span class="ot">&lt;-</span> xy[b_id,]</span>
<span id="cb215-6"><a href="simple-ols.html#cb215-6" tabindex="-1"></a>    reg_b <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy_b)</span>
<span id="cb215-7"><a href="simple-ols.html#cb215-7" tabindex="-1"></a>})</span>
<span id="cb215-8"><a href="simple-ols.html#cb215-8" tabindex="-1"></a>boot_coefs <span class="ot">&lt;-</span> <span class="fu">sapply</span>(boot_regs, coef)[<span class="st">&#39;x&#39;</span>,]</span>
<span id="cb215-9"><a href="simple-ols.html#cb215-9" tabindex="-1"></a>boot_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(boot_coefs)</span>
<span id="cb215-10"><a href="simple-ols.html#cb215-10" tabindex="-1"></a>boot_se <span class="ot">&lt;-</span> <span class="fu">sd</span>(boot_coefs)</span>
<span id="cb215-11"><a href="simple-ols.html#cb215-11" tabindex="-1"></a></span>
<span id="cb215-12"><a href="simple-ols.html#cb215-12" tabindex="-1"></a><span class="do">## Bootstrap Confidence Intervals</span></span>
<span id="cb215-13"><a href="simple-ols.html#cb215-13" tabindex="-1"></a>boot_ci_percentile <span class="ot">&lt;-</span> <span class="fu">quantile</span>(boot_coefs, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>,.<span class="dv">975</span>))</span>
<span id="cb215-14"><a href="simple-ols.html#cb215-14" tabindex="-1"></a><span class="fu">hist</span>(boot_coefs, <span class="at">breaks=</span><span class="dv">25</span>,</span>
<span id="cb215-15"><a href="simple-ols.html#cb215-15" tabindex="-1"></a>    <span class="at">main=</span><span class="fu">paste0</span>(<span class="st">&#39;SE est. = &#39;</span>, <span class="fu">round</span>(boot_se,<span class="dv">4</span>)),</span>
<span id="cb215-16"><a href="simple-ols.html#cb215-16" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(beta[b]))</span>
<span id="cb215-17"><a href="simple-ols.html#cb215-17" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_mean, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb215-18"><a href="simple-ols.html#cb215-18" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_ci_percentile, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="simple-ols.html#cb216-1" tabindex="-1"></a><span class="do">## Normal Approximation</span></span>
<span id="cb216-2"><a href="simple-ols.html#cb216-2" tabindex="-1"></a><span class="do">## boot_ci_normal &lt;- boot_mean+c(-1.96, +1.96)*boot</span></span>
<span id="cb216-3"><a href="simple-ols.html#cb216-3" tabindex="-1"></a></span>
<span id="cb216-4"><a href="simple-ols.html#cb216-4" tabindex="-1"></a><span class="do">## Parametric CI</span></span>
<span id="cb216-5"><a href="simple-ols.html#cb216-5" tabindex="-1"></a><span class="do">## x &lt;- data.frame(x=quantile(xy$x,probs=seq(0,1,by=.1)))</span></span>
<span id="cb216-6"><a href="simple-ols.html#cb216-6" tabindex="-1"></a><span class="do">## ci &lt;- predict(reg, interval=&#39;confidence&#39;, newdata=data.frame(x))</span></span>
<span id="cb216-7"><a href="simple-ols.html#cb216-7" tabindex="-1"></a><span class="do">## polygon( c(x, rev(x)), c(ci[,&#39;lwr&#39;], rev(ci[,&#39;upr&#39;])), col=grey(0,.2), border=0)</span></span></code></pre></div>
<p>We can also bootstrap other statistics, such as a t-statistic or <span class="math inline">\(R^2\)</span>. We do such things to test a null hypothesis, which is often ``no relationship’’. We are rarely interested in computing standard errrors and conducting hypothesis tests for two variables. However, we work through the ideas in the two-variable case to better understand the multi-variable case.</p>
</div>
<div id="hypothesis-tests" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Hypothesis Tests<a href="simple-ols.html#hypothesis-tests" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are two main ways to conduct a hypothesis test.</p>
<p><strong>Invert a CI</strong>
One main way to conduct hypothesis tests is to examine whether a confidence interval contains a hypothesized value. Often, this is <span class="math inline">\(0\)</span>.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="simple-ols.html#cb217-1" tabindex="-1"></a><span class="do">## Example 1 Continued Yet Again</span></span>
<span id="cb217-2"><a href="simple-ols.html#cb217-2" tabindex="-1"></a></span>
<span id="cb217-3"><a href="simple-ols.html#cb217-3" tabindex="-1"></a><span class="do">## Bootstrap Distribution</span></span>
<span id="cb217-4"><a href="simple-ols.html#cb217-4" tabindex="-1"></a>boot_ci_percentile <span class="ot">&lt;-</span> <span class="fu">quantile</span>(boot_coefs, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>,.<span class="dv">975</span>))</span>
<span id="cb217-5"><a href="simple-ols.html#cb217-5" tabindex="-1"></a><span class="fu">hist</span>(boot_coefs, <span class="at">breaks=</span><span class="dv">25</span>,</span>
<span id="cb217-6"><a href="simple-ols.html#cb217-6" tabindex="-1"></a>    <span class="at">main=</span><span class="fu">paste0</span>(<span class="st">&#39;SE est. = &#39;</span>, <span class="fu">round</span>(boot_se,<span class="dv">4</span>)),</span>
<span id="cb217-7"><a href="simple-ols.html#cb217-7" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(beta[b]), </span>
<span id="cb217-8"><a href="simple-ols.html#cb217-8" tabindex="-1"></a>    <span class="at">xlim=</span><span class="fu">range</span>(<span class="fu">c</span>(<span class="dv">0</span>, boot_coefs)) )</span>
<span id="cb217-9"><a href="simple-ols.html#cb217-9" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_ci_percentile, <span class="at">lty=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>)</span>
<span id="cb217-10"><a href="simple-ols.html#cb217-10" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="dv">0</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p><strong>Impose the Null</strong>
We can also compute a null distribution using <em>data-driven</em> methods that assume much less about the data generating process. We focus on the simplest, the bootstrap, where loop through a large number of simulations. In each iteration of the loop, we drop impose the null hypothesis and reestimate the statistic of interest. We then calculate the standard deviation of the statistic across all ``resamples’’.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="simple-ols.html#cb218-1" tabindex="-1"></a><span class="do">## Example 1 Continued Again</span></span>
<span id="cb218-2"><a href="simple-ols.html#cb218-2" tabindex="-1"></a></span>
<span id="cb218-3"><a href="simple-ols.html#cb218-3" tabindex="-1"></a><span class="do">## Null Distribution for Beta</span></span>
<span id="cb218-4"><a href="simple-ols.html#cb218-4" tabindex="-1"></a>boots <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">399</span></span>
<span id="cb218-5"><a href="simple-ols.html#cb218-5" tabindex="-1"></a>boot_regs0 <span class="ot">&lt;-</span> <span class="fu">lapply</span>(boots, <span class="cf">function</span>(b){</span>
<span id="cb218-6"><a href="simple-ols.html#cb218-6" tabindex="-1"></a>    xy_b <span class="ot">&lt;-</span> xy</span>
<span id="cb218-7"><a href="simple-ols.html#cb218-7" tabindex="-1"></a>    xy_b<span class="sc">$</span>y <span class="ot">&lt;-</span> <span class="fu">sample</span>( xy_b<span class="sc">$</span>y, <span class="at">replace=</span>T)</span>
<span id="cb218-8"><a href="simple-ols.html#cb218-8" tabindex="-1"></a>    reg_b <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy_b)</span>
<span id="cb218-9"><a href="simple-ols.html#cb218-9" tabindex="-1"></a>})</span>
<span id="cb218-10"><a href="simple-ols.html#cb218-10" tabindex="-1"></a>boot_coefs0 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(boot_regs0, coef)[<span class="st">&#39;x&#39;</span>,]</span>
<span id="cb218-11"><a href="simple-ols.html#cb218-11" tabindex="-1"></a></span>
<span id="cb218-12"><a href="simple-ols.html#cb218-12" tabindex="-1"></a><span class="do">## Null Bootstrap Distribution</span></span>
<span id="cb218-13"><a href="simple-ols.html#cb218-13" tabindex="-1"></a>boot_ci_percentile0 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(boot_coefs0, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>,.<span class="dv">975</span>))</span>
<span id="cb218-14"><a href="simple-ols.html#cb218-14" tabindex="-1"></a><span class="fu">hist</span>(boot_coefs0, <span class="at">breaks=</span><span class="dv">25</span>, <span class="at">main=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb218-15"><a href="simple-ols.html#cb218-15" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(beta[b]),</span>
<span id="cb218-16"><a href="simple-ols.html#cb218-16" tabindex="-1"></a>    <span class="at">xlim=</span><span class="fu">range</span>(<span class="fu">c</span>(boot_coefs0, <span class="fu">coef</span>(reg)[<span class="st">&#39;x&#39;</span>])))</span>
<span id="cb218-17"><a href="simple-ols.html#cb218-17" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_ci_percentile0, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb218-18"><a href="simple-ols.html#cb218-18" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="fu">coef</span>(reg)[<span class="st">&#39;x&#39;</span>], <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Regardless of how we calculate standard errors, we can use them to conduct a t-test. We also compute the distribution of t-values under the null hypothesis, and compare how extreme the oberved value is.
<span class="math display">\[ \hat{t} = \frac{\hat{\beta} - \beta_{0} }{\hat{\sigma}_{\hat{\beta}}} \]</span></p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="simple-ols.html#cb219-1" tabindex="-1"></a><span class="do">## T Test</span></span>
<span id="cb219-2"><a href="simple-ols.html#cb219-2" tabindex="-1"></a>B0 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb219-3"><a href="simple-ols.html#cb219-3" tabindex="-1"></a>boot_t  <span class="ot">&lt;-</span> (<span class="fu">coef</span>(reg)[<span class="st">&#39;x&#39;</span>]<span class="sc">-</span>B0)<span class="sc">/</span>boot_se</span>
<span id="cb219-4"><a href="simple-ols.html#cb219-4" tabindex="-1"></a></span>
<span id="cb219-5"><a href="simple-ols.html#cb219-5" tabindex="-1"></a><span class="do">## Compute Bootstrap T-Values (without refinement)</span></span>
<span id="cb219-6"><a href="simple-ols.html#cb219-6" tabindex="-1"></a>boot_t_boot0 <span class="ot">&lt;-</span> <span class="fu">sapply</span>(boot_regs0, <span class="cf">function</span>(reg_b){</span>
<span id="cb219-7"><a href="simple-ols.html#cb219-7" tabindex="-1"></a>    beta_b <span class="ot">&lt;-</span> <span class="fu">coef</span>(reg_b)[[<span class="st">&#39;x&#39;</span>]]</span>
<span id="cb219-8"><a href="simple-ols.html#cb219-8" tabindex="-1"></a>    t_hat_b <span class="ot">&lt;-</span> (beta_b)<span class="sc">/</span>boot_se</span>
<span id="cb219-9"><a href="simple-ols.html#cb219-9" tabindex="-1"></a>    <span class="fu">return</span>(t_hat_b)</span>
<span id="cb219-10"><a href="simple-ols.html#cb219-10" tabindex="-1"></a>})</span>
<span id="cb219-11"><a href="simple-ols.html#cb219-11" tabindex="-1"></a><span class="fu">hist</span>(boot_t_boot0, <span class="at">breaks=</span><span class="dv">100</span>,</span>
<span id="cb219-12"><a href="simple-ols.html#cb219-12" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Bootstrapped t values&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;t&#39;</span>,</span>
<span id="cb219-13"><a href="simple-ols.html#cb219-13" tabindex="-1"></a>    <span class="at">xlim=</span><span class="fu">range</span>(<span class="fu">c</span>(boot_t_boot0, boot_t)) )</span>
<span id="cb219-14"><a href="simple-ols.html#cb219-14" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_t, <span class="at">lwd=</span><span class="dv">2</span>, <span class="at">col=</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>From this, we can calculate a <em>p-value</em>: the probability you would see something as extreme as your statistic under the null (assuming your null hypothesis was true). Note that the <span class="math inline">\(p\)</span> reported by your computer does not necessarily satisfy this definition. We can always calcuate a p-value from an explicit null distribution.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="simple-ols.html#cb220-1" tabindex="-1"></a><span class="do">## One Sided Test for P(t &gt; boot_t | Null)=1- P(t &lt; boot_t | Null)</span></span>
<span id="cb220-2"><a href="simple-ols.html#cb220-2" tabindex="-1"></a>That_NullDist1 <span class="ot">&lt;-</span> <span class="fu">ecdf</span>(boot_t_boot0)</span>
<span id="cb220-3"><a href="simple-ols.html#cb220-3" tabindex="-1"></a>Phat1  <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">That_NullDist1</span>(boot_t)</span>
<span id="cb220-4"><a href="simple-ols.html#cb220-4" tabindex="-1"></a></span>
<span id="cb220-5"><a href="simple-ols.html#cb220-5" tabindex="-1"></a><span class="do">## Two Sided Test for P(t &gt; jack_t or  t &lt; -jack_t | Null)</span></span>
<span id="cb220-6"><a href="simple-ols.html#cb220-6" tabindex="-1"></a>That_NullDist2 <span class="ot">&lt;-</span> <span class="fu">ecdf</span>(<span class="fu">abs</span>(boot_t_boot0))</span>
<span id="cb220-7"><a href="simple-ols.html#cb220-7" tabindex="-1"></a><span class="fu">plot</span>(That_NullDist2, <span class="at">xlim=</span><span class="fu">range</span>(boot_t_boot0, boot_t))</span>
<span id="cb220-8"><a href="simple-ols.html#cb220-8" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="fu">quantile</span>(That_NullDist2,<span class="at">probs=</span>.<span class="dv">95</span>), <span class="at">lty=</span><span class="dv">3</span>)</span>
<span id="cb220-9"><a href="simple-ols.html#cb220-9" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>boot_t, <span class="at">col=</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="simple-ols.html#cb221-1" tabindex="-1"></a>Phat2  <span class="ot">&lt;-</span>  <span class="dv">1</span><span class="sc">-</span><span class="fu">That_NullDist2</span>(boot_t)</span>
<span id="cb221-2"><a href="simple-ols.html#cb221-2" tabindex="-1"></a>Phat2</span></code></pre></div>
<pre><code>## [1] 0.6390977</code></pre>
<p>Under some assumptions, the null distribution is distributed <span class="math inline">\(t_{n-2}\)</span>. (For more on parametric t-testing based on statistical theory, see <a href="https://www.econometrics-with-r.org/4-lrwor.html" class="uri">https://www.econometrics-with-r.org/4-lrwor.html</a>.)</p>
</div>
<div id="prediction-intervals" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Prediction Intervals<a href="simple-ols.html#prediction-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In addition to confidence intervales, we can also compute a <em>prediction interval</em> which estimates the range of variability across different samples for the outcomes. These intervals also take into account the residuals— the variability of individuals around the mean.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="simple-ols.html#cb223-1" tabindex="-1"></a><span class="do">## Bootstrap Prediction Interval</span></span>
<span id="cb223-2"><a href="simple-ols.html#cb223-2" tabindex="-1"></a>boot_resids <span class="ot">&lt;-</span> <span class="fu">lapply</span>(boot_regs, <span class="cf">function</span>(reg_b){</span>
<span id="cb223-3"><a href="simple-ols.html#cb223-3" tabindex="-1"></a>    e_b <span class="ot">&lt;-</span> <span class="fu">resid</span>(reg_b)</span>
<span id="cb223-4"><a href="simple-ols.html#cb223-4" tabindex="-1"></a>    x_b <span class="ot">&lt;-</span> reg_b<span class="sc">$</span>model<span class="sc">$</span>x</span>
<span id="cb223-5"><a href="simple-ols.html#cb223-5" tabindex="-1"></a>    res_b <span class="ot">&lt;-</span> <span class="fu">cbind</span>(e_b, x_b)</span>
<span id="cb223-6"><a href="simple-ols.html#cb223-6" tabindex="-1"></a>})</span>
<span id="cb223-7"><a href="simple-ols.html#cb223-7" tabindex="-1"></a>boot_resids <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">do.call</span>(rbind, boot_resids))</span>
<span id="cb223-8"><a href="simple-ols.html#cb223-8" tabindex="-1"></a><span class="do">## Homoskedastic</span></span>
<span id="cb223-9"><a href="simple-ols.html#cb223-9" tabindex="-1"></a>ehat <span class="ot">&lt;-</span> <span class="fu">quantile</span>(boot_resids<span class="sc">$</span>e_b, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>, .<span class="dv">975</span>))</span>
<span id="cb223-10"><a href="simple-ols.html#cb223-10" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">quantile</span>(xy<span class="sc">$</span>x,<span class="at">probs=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span>.<span class="dv">1</span>))</span>
<span id="cb223-11"><a href="simple-ols.html#cb223-11" tabindex="-1"></a>boot_pi <span class="ot">&lt;-</span> <span class="fu">coef</span>(reg)[<span class="dv">1</span>] <span class="sc">+</span> x<span class="sc">*</span><span class="fu">coef</span>(reg)[<span class="st">&#39;x&#39;</span>]</span>
<span id="cb223-12"><a href="simple-ols.html#cb223-12" tabindex="-1"></a>boot_pi <span class="ot">&lt;-</span> <span class="fu">cbind</span>(boot_pi <span class="sc">+</span> ehat[<span class="dv">1</span>], boot_pi <span class="sc">+</span> ehat[<span class="dv">2</span>])</span>
<span id="cb223-13"><a href="simple-ols.html#cb223-13" tabindex="-1"></a></span>
<span id="cb223-14"><a href="simple-ols.html#cb223-14" tabindex="-1"></a><span class="do">## Plot Bootstrap PI</span></span>
<span id="cb223-15"><a href="simple-ols.html#cb223-15" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">main=</span><span class="st">&#39;Prediction Intervals&#39;</span>,</span>
<span id="cb223-16"><a href="simple-ols.html#cb223-16" tabindex="-1"></a><span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">20</span>))</span>
<span id="cb223-17"><a href="simple-ols.html#cb223-17" tabindex="-1"></a><span class="fu">polygon</span>( <span class="fu">c</span>(x, <span class="fu">rev</span>(x)), <span class="fu">c</span>(boot_pi[,<span class="dv">1</span>], <span class="fu">rev</span>(boot_pi[,<span class="dv">2</span>])),</span>
<span id="cb223-18"><a href="simple-ols.html#cb223-18" tabindex="-1"></a>    <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">2</span>), <span class="at">border=</span><span class="cn">NA</span>)</span>
<span id="cb223-19"><a href="simple-ols.html#cb223-19" tabindex="-1"></a></span>
<span id="cb223-20"><a href="simple-ols.html#cb223-20" tabindex="-1"></a><span class="do">## Parametric PI (For Comparison)</span></span>
<span id="cb223-21"><a href="simple-ols.html#cb223-21" tabindex="-1"></a>pi <span class="ot">&lt;-</span> <span class="fu">predict</span>(reg, <span class="at">interval=</span><span class="st">&#39;prediction&#39;</span>, <span class="at">newdata=</span><span class="fu">data.frame</span>(x))</span>
<span id="cb223-22"><a href="simple-ols.html#cb223-22" tabindex="-1"></a><span class="fu">lines</span>( x, pi[,<span class="st">&#39;lwr&#39;</span>], <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb223-23"><a href="simple-ols.html#cb223-23" tabindex="-1"></a><span class="fu">lines</span>( x, pi[,<span class="st">&#39;upr&#39;</span>], <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>There are many ways to improve upon the prediction intervals you just created. Probably the most basic way is to allow the residuals to be heteroskedastic.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="simple-ols.html#cb224-1" tabindex="-1"></a><span class="do">## Estimate Residual Quantiles seperately around X points</span></span>
<span id="cb224-2"><a href="simple-ols.html#cb224-2" tabindex="-1"></a>boot_resid_list <span class="ot">&lt;-</span> <span class="fu">split</span>(boot_resids,</span>
<span id="cb224-3"><a href="simple-ols.html#cb224-3" tabindex="-1"></a>    <span class="fu">cut</span>(boot_resids<span class="sc">$</span>x_b, x) )</span>
<span id="cb224-4"><a href="simple-ols.html#cb224-4" tabindex="-1"></a>boot_resid_est <span class="ot">&lt;-</span> <span class="fu">lapply</span>(boot_resid_list, <span class="cf">function</span>(res_b) {</span>
<span id="cb224-5"><a href="simple-ols.html#cb224-5" tabindex="-1"></a>    <span class="cf">if</span>( <span class="fu">nrow</span>(res_b)<span class="sc">==</span><span class="dv">0</span>){ <span class="do">## If Empty, Return Nothing</span></span>
<span id="cb224-6"><a href="simple-ols.html#cb224-6" tabindex="-1"></a>        ehat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="cn">NA</span>)</span>
<span id="cb224-7"><a href="simple-ols.html#cb224-7" tabindex="-1"></a>    } <span class="cf">else</span>{ <span class="do">## Estimate Quantiles of Residuals</span></span>
<span id="cb224-8"><a href="simple-ols.html#cb224-8" tabindex="-1"></a>        ehat <span class="ot">&lt;-</span> <span class="fu">quantile</span>(res_b<span class="sc">$</span>e_b, <span class="at">probs=</span><span class="fu">c</span>(.<span class="dv">025</span>, .<span class="dv">975</span>))</span>
<span id="cb224-9"><a href="simple-ols.html#cb224-9" tabindex="-1"></a>    }</span>
<span id="cb224-10"><a href="simple-ols.html#cb224-10" tabindex="-1"></a>    <span class="fu">return</span>(ehat)</span>
<span id="cb224-11"><a href="simple-ols.html#cb224-11" tabindex="-1"></a>    })</span>
<span id="cb224-12"><a href="simple-ols.html#cb224-12" tabindex="-1"></a>boot_resid_est <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, boot_resid_est)</span>
<span id="cb224-13"><a href="simple-ols.html#cb224-13" tabindex="-1"></a><span class="do">## Construct PI at x points</span></span>
<span id="cb224-14"><a href="simple-ols.html#cb224-14" tabindex="-1"></a>boot_x <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">1</span>] <span class="sc">-</span> <span class="fu">diff</span>(x)<span class="sc">/</span><span class="dv">2</span></span>
<span id="cb224-15"><a href="simple-ols.html#cb224-15" tabindex="-1"></a>boot_pi <span class="ot">&lt;-</span> <span class="fu">coef</span>(reg)[<span class="dv">1</span>] <span class="sc">+</span> boot_x<span class="sc">*</span><span class="fu">coef</span>(reg)[<span class="st">&#39;x&#39;</span>]</span>
<span id="cb224-16"><a href="simple-ols.html#cb224-16" tabindex="-1"></a>boot_pi <span class="ot">&lt;-</span> <span class="fu">cbind</span>(boot_pi <span class="sc">+</span> boot_resid_est[,<span class="dv">1</span>], boot_pi <span class="sc">+</span> boot_resid_est[,<span class="dv">2</span>])</span>
<span id="cb224-17"><a href="simple-ols.html#cb224-17" tabindex="-1"></a></span>
<span id="cb224-18"><a href="simple-ols.html#cb224-18" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, <span class="at">dat=</span>xy, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">main=</span><span class="st">&#39;Heteroskedastic P.I.&#39;</span>)</span>
<span id="cb224-19"><a href="simple-ols.html#cb224-19" tabindex="-1"></a><span class="fu">polygon</span>( <span class="fu">c</span>(boot_x, <span class="fu">rev</span>(boot_x)), <span class="fu">c</span>(boot_pi[,<span class="dv">1</span>], <span class="fu">rev</span>(boot_pi[,<span class="dv">2</span>])),</span>
<span id="cb224-20"><a href="simple-ols.html#cb224-20" tabindex="-1"></a>    <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">2</span>), <span class="at">border=</span><span class="cn">NA</span>)</span>
<span id="cb224-21"><a href="simple-ols.html#cb224-21" tabindex="-1"></a><span class="fu">rug</span>(boot_x)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>For a nice overview of different types of intervals, see <a href="https://www.jstor.org/stable/2685212" class="uri">https://www.jstor.org/stable/2685212</a>. For an indepth view, see “Statistical Intervals: A Guide for Practitioners and Researchers” or “Statistical Tolerance Regions: Theory, Applications, and Computation”. See <a href="https://robjhyndman.com/hyndsight/intervals/" class="uri">https://robjhyndman.com/hyndsight/intervals/</a> for constructing intervals for future observations in a time-series context. See Davison and Hinkley, chapters 5 and 6 (also Efron and Tibshirani, or Wehrens et al.)</p>
</div>
<div id="value-of-more-data-1" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Value of More Data<a href="simple-ols.html#value-of-more-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Just as before, there are diminishing returns to larger sample sizes with simple OLS.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="simple-ols.html#cb225-1" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb225-2"><a href="simple-ols.html#cb225-2" tabindex="-1"></a>Nseq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">3</span>,<span class="dv">100</span>, <span class="at">by=</span><span class="dv">1</span>)</span>
<span id="cb225-3"><a href="simple-ols.html#cb225-3" tabindex="-1"></a>SE <span class="ot">&lt;-</span> <span class="fu">sapply</span>(Nseq, <span class="cf">function</span>(n){</span>
<span id="cb225-4"><a href="simple-ols.html#cb225-4" tabindex="-1"></a>    sample_statistics <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="dv">1</span><span class="sc">:</span>B, <span class="cf">function</span>(b){</span>
<span id="cb225-5"><a href="simple-ols.html#cb225-5" tabindex="-1"></a>        x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb225-6"><a href="simple-ols.html#cb225-6" tabindex="-1"></a>        e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)        </span>
<span id="cb225-7"><a href="simple-ols.html#cb225-7" tabindex="-1"></a>        y <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="dv">2</span> <span class="sc">+</span> e</span>
<span id="cb225-8"><a href="simple-ols.html#cb225-8" tabindex="-1"></a>        reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>x)</span>
<span id="cb225-9"><a href="simple-ols.html#cb225-9" tabindex="-1"></a>        <span class="fu">coef</span>(reg)</span>
<span id="cb225-10"><a href="simple-ols.html#cb225-10" tabindex="-1"></a>        <span class="co">#se &lt;- sqrt(diag(vcov(vcov)))</span></span>
<span id="cb225-11"><a href="simple-ols.html#cb225-11" tabindex="-1"></a>    })</span>
<span id="cb225-12"><a href="simple-ols.html#cb225-12" tabindex="-1"></a>    <span class="fu">sd</span>(sample_statistics)</span>
<span id="cb225-13"><a href="simple-ols.html#cb225-13" tabindex="-1"></a>})</span>
<span id="cb225-14"><a href="simple-ols.html#cb225-14" tabindex="-1"></a></span>
<span id="cb225-15"><a href="simple-ols.html#cb225-15" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb225-16"><a href="simple-ols.html#cb225-16" tabindex="-1"></a><span class="fu">plot</span>(Nseq, SE, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">5</span>), <span class="at">main=</span><span class="st">&#39;Absolute Gain&#39;</span>,</span>
<span id="cb225-17"><a href="simple-ols.html#cb225-17" tabindex="-1"></a>    <span class="at">ylab=</span><span class="st">&#39;standard error&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;sample size&#39;</span>)</span>
<span id="cb225-18"><a href="simple-ols.html#cb225-18" tabindex="-1"></a><span class="fu">plot</span>(Nseq[<span class="sc">-</span><span class="dv">1</span>], <span class="fu">abs</span>(<span class="fu">diff</span>(SE)), <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">5</span>), <span class="at">main=</span><span class="st">&#39;Marginal Gain&#39;</span>, </span>
<span id="cb225-19"><a href="simple-ols.html#cb225-19" tabindex="-1"></a>    <span class="at">ylab=</span><span class="st">&#39;decrease in standard error&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;sample size&#39;</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>For some technical background, see, e.g., <a href="https://www.sagepub.com/sites/default/files/upm-binaries/21122_Chapter_21.pdf" class="uri">https://www.sagepub.com/sites/default/files/upm-binaries/21122_Chapter_21.pdf</a>. Also note that we can compute classic estimates for variability: denoting the Standard Error of the Regression as <span class="math inline">\(\hat{\sigma}\)</span>, and the Standard Error of the Coefficient Estimates as <span class="math inline">\(\hat{\sigma}_{\hat{\alpha}}\)</span> and <span class="math inline">\(\hat{\sigma}_{\hat{\beta}}~~\)</span> (or simply Standard Errors).
<span class="math display">\[
\hat{\sigma}^2 = \frac{1}{n-2}\sum_{i}\hat{\epsilon_{i}}^2\\
\hat{\sigma}^2_{\hat{\alpha}}=\hat{\sigma}^2\left[\frac{1}{n}+\frac{\bar{x}^2}{\sum_{i}(x_i-\bar{x})^2}\right]\\
\hat{\sigma}^2_{\hat{\beta}}=\frac{\hat{\sigma}^2}{\sum_{i}(x_i-\bar{x})^2}.
\]</span>
These equations are motivated by particular data generating proceses, which you can read more about this at <a href="https://www.econometrics-with-r.org/4-lrwor.html" class="uri">https://www.econometrics-with-r.org/4-lrwor.html</a>.<a href="simple-ols.html#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="beyond-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ols-multiple-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["index.pdf", "index.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
