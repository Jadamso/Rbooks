<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 10 Data Scientism | index</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content=" 10 Data Scientism | index" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 10 Data Scientism | index" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ols-and-endogeneity.html"/>
<link rel="next" href="why.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.8/profvis.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Primers</a></li>
<li class="toc-logo"><a href="./"><img src="Figures_Manual/Logo.png" width="140" height="100"></a></li>        

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="part"><span><b>I Programming in R</b></span></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#why-r"><i class="fa fa-check"></i><b>2.1</b> Why R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#interfacing-with-r"><i class="fa fa-check"></i><b>2.3</b> Interfacing with R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>3</b> Mathematics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematics.html"><a href="mathematics.html#scalars"><i class="fa fa-check"></i><b>3.1</b> Scalars</a></li>
<li class="chapter" data-level="3.2" data-path="mathematics.html"><a href="mathematics.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a></li>
<li class="chapter" data-level="3.4" data-path="mathematics.html"><a href="mathematics.html#matrices"><i class="fa fa-check"></i><b>3.4</b> Matrices</a></li>
<li class="chapter" data-level="3.5" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>3.5</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistics.html"><a href="statistics.html#random-variables"><i class="fa fa-check"></i><b>4.1</b> Random Variables</a></li>
<li class="chapter" data-level="4.2" data-path="statistics.html"><a href="statistics.html#functions-of-random-variables"><i class="fa fa-check"></i><b>4.2</b> Functions of Random Variables</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>5</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-analysis.html"><a href="data-analysis.html#data"><i class="fa fa-check"></i><b>5.1</b> Data</a></li>
<li class="chapter" data-level="5.2" data-path="data-analysis.html"><a href="data-analysis.html#plots"><i class="fa fa-check"></i><b>5.2</b> Plots</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-analysis.html"><a href="data-analysis.html#histograms"><i class="fa fa-check"></i><b>5.2.1</b> Histograms</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-analysis.html"><a href="data-analysis.html#boxplots"><i class="fa fa-check"></i><b>5.2.2</b> Boxplots</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-analysis.html"><a href="data-analysis.html#scatterplots"><i class="fa fa-check"></i><b>5.2.3</b> Scatterplots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="beyond-basics.html"><a href="beyond-basics.html"><i class="fa fa-check"></i><b>6</b> Beyond Basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="beyond-basics.html"><a href="beyond-basics.html#introductions-to-r"><i class="fa fa-check"></i><b>6.1</b> Introductions to R</a></li>
<li class="chapter" data-level="6.2" data-path="beyond-basics.html"><a href="beyond-basics.html#the-r-ecosystem"><i class="fa fa-check"></i><b>6.2</b> The R Ecosystem</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="beyond-basics.html"><a href="beyond-basics.html#packages"><i class="fa fa-check"></i><b>6.2.1</b> Packages</a></li>
<li class="chapter" data-level="6.2.2" data-path="beyond-basics.html"><a href="beyond-basics.html#task-views"><i class="fa fa-check"></i><b>6.2.2</b> Task Views</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="beyond-basics.html"><a href="beyond-basics.html#custom-figures"><i class="fa fa-check"></i><b>6.3</b> Custom figures</a></li>
</ul></li>
<li class="part"><span><b>II Linear Regression in R</b></span></li>
<li class="chapter" data-level="7" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html"><i class="fa fa-check"></i><b>7</b> Ordinary Least Squares</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#simple-ols-linear-regression"><i class="fa fa-check"></i><b>7.1</b> Simple OLS (linear regression)</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#variability-estimates"><i class="fa fa-check"></i><b>7.1.1</b> Variability Estimates</a></li>
<li class="chapter" data-level="7.1.2" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#hypothesis-tests"><i class="fa fa-check"></i><b>7.1.2</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="7.1.3" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#prediction-intervals"><i class="fa fa-check"></i><b>7.1.3</b> Prediction Intervals</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#ols-multiple-linear-regression"><i class="fa fa-check"></i><b>7.2</b> OLS (multiple linear regression)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#variability-estimates-and-hypothesis-tests"><i class="fa fa-check"></i><b>7.2.1</b> Variability Estimates and Hypothesis Tests</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#coefficient-interpretation"><i class="fa fa-check"></i><b>7.3</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="7.4" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#factor-variables"><i class="fa fa-check"></i><b>7.4</b> Factor Variables</a></li>
<li class="chapter" data-level="7.5" data-path="ordinary-least-squares.html"><a href="ordinary-least-squares.html#more-literature"><i class="fa fa-check"></i><b>7.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html"><i class="fa fa-check"></i><b>8</b> OLS Diagnostics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html#outliers"><i class="fa fa-check"></i><b>8.1</b> Outliers</a></li>
<li class="chapter" data-level="8.2" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html#normality"><i class="fa fa-check"></i><b>8.2</b> Normality</a></li>
<li class="chapter" data-level="8.3" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html#collinearity"><i class="fa fa-check"></i><b>8.3</b> Collinearity</a></li>
<li class="chapter" data-level="8.4" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html#linear-in-parameters"><i class="fa fa-check"></i><b>8.4</b> Linear in Parameters</a></li>
<li class="chapter" data-level="8.5" data-path="ols-diagnostics.html"><a href="ols-diagnostics.html#more-literature-1"><i class="fa fa-check"></i><b>8.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="ols-and-endogeneity.html"><a href="ols-and-endogeneity.html"><i class="fa fa-check"></i><b>9</b> OLS and Endogeneity</a>
<ul>
<li class="chapter" data-level="9.1" data-path="ols-and-endogeneity.html"><a href="ols-and-endogeneity.html#two-stage-least-squares-2sls"><i class="fa fa-check"></i><b>9.1</b> Two Stage Least Squares (2SLS)</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ols-and-endogeneity.html"><a href="ols-and-endogeneity.html#competitive-market-equilibrium"><i class="fa fa-check"></i><b>9.1.1</b> Competitive Market Equilibrium</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="ols-and-endogeneity.html"><a href="ols-and-endogeneity.html#regression-discontinuitieskink-rdrk"><i class="fa fa-check"></i><b>9.2</b> Regression Discontinuities/Kink (RD/RK)</a></li>
<li class="chapter" data-level="9.3" data-path="ols-and-endogeneity.html"><a href="ols-and-endogeneity.html#difference-in-differences-did"><i class="fa fa-check"></i><b>9.3</b> Difference in Differences (DID)</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>10</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-scientism.html"><a href="data-scientism.html#ols-in-the-age-of-big-data"><i class="fa fa-check"></i><b>10.1</b> OLS in the age of big data</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-scientism.html"><a href="data-scientism.html#us-govt-spending-on-science"><i class="fa fa-check"></i><b>10.1.1</b> US Gov’t Spending on Science</a></li>
<li class="chapter" data-level="10.1.2" data-path="data-scientism.html"><a href="data-scientism.html#false-positives-arise-from-errors"><i class="fa fa-check"></i><b>10.1.2</b> False Positives arise from errors</a></li>
<li class="chapter" data-level="10.1.3" data-path="data-scientism.html"><a href="data-scientism.html#false-positives-arise-from-regression-machines"><i class="fa fa-check"></i><b>10.1.3</b> False Positives arise from Regression Machines</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-scientism.html"><a href="data-scientism.html#causal-effects-sans-theory"><i class="fa fa-check"></i><b>10.2</b> Causal effects <em>sans theory</em></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-scientism.html"><a href="data-scientism.html#rdd"><i class="fa fa-check"></i><b>10.2.1</b> RDD</a></li>
<li class="chapter" data-level="10.2.2" data-path="data-scientism.html"><a href="data-scientism.html#did"><i class="fa fa-check"></i><b>10.2.2</b> DID</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Reproducible Research in R</b></span></li>
<li class="chapter" data-level="11" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i><b>11</b> Why?</a>
<ul>
<li class="chapter" data-level="11.1" data-path="why.html"><a href="why.html#an-example-workflow"><i class="fa fa-check"></i><b>11.1</b> An example workflow</a></li>
<li class="chapter" data-level="11.2" data-path="why.html"><a href="why.html#an-alternative-workflow"><i class="fa fa-check"></i><b>11.2</b> An alternative workflow</a></li>
<li class="chapter" data-level="11.3" data-path="why.html"><a href="why.html#r-and-r-markdown"><i class="fa fa-check"></i><b>11.3</b> R and R-Markdown</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="small-projects.html"><a href="small-projects.html"><i class="fa fa-check"></i><b>12</b> Small Projects</a>
<ul>
<li class="chapter" data-level="12.1" data-path="small-projects.html"><a href="small-projects.html#an-r-code-chunk"><i class="fa fa-check"></i><b>12.1</b> An R Code Chunk</a></li>
<li class="chapter" data-level="12.2" data-path="small-projects.html"><a href="small-projects.html#an-r-markdown-document"><i class="fa fa-check"></i><b>12.2</b> An R Markdown Document</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="small-projects.html"><a href="small-projects.html#copypaste-example"><i class="fa fa-check"></i><b>12.2.1</b> Copy/Paste Example</a></li>
<li class="chapter" data-level="12.2.2" data-path="small-projects.html"><a href="small-projects.html#a-homework-example"><i class="fa fa-check"></i><b>12.2.2</b> A Homework Example</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="small-projects.html"><a href="small-projects.html#posters-and-slides"><i class="fa fa-check"></i><b>12.3</b> Posters and Slides</a></li>
<li class="chapter" data-level="12.4" data-path="small-projects.html"><a href="small-projects.html#getting-help-w-r-markdown"><i class="fa fa-check"></i><b>12.4</b> Getting help w/ R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="large-projects.html"><a href="large-projects.html"><i class="fa fa-check"></i><b>13</b> Large Projects</a>
<ul>
<li class="chapter" data-level="13.1" data-path="large-projects.html"><a href="large-projects.html#makefile"><i class="fa fa-check"></i><b>13.1</b> MAKEFILE</a></li>
<li class="chapter" data-level="13.2" data-path="large-projects.html"><a href="large-projects.html#loggingsinking"><i class="fa fa-check"></i><b>13.2</b> Logging/Sinking</a></li>
<li class="chapter" data-level="13.3" data-path="large-projects.html"><a href="large-projects.html#class-projects"><i class="fa fa-check"></i><b>13.3</b> Class Projects</a></li>
<li class="chapter" data-level="13.4" data-path="large-projects.html"><a href="large-projects.html#debugging"><i class="fa fa-check"></i><b>13.4</b> Debugging</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="large-projects.html"><a href="large-projects.html#tracing-errors"><i class="fa fa-check"></i><b>13.4.1</b> Tracing Errors</a></li>
<li class="chapter" data-level="13.4.2" data-path="large-projects.html"><a href="large-projects.html#checking-problems"><i class="fa fa-check"></i><b>13.4.2</b> Checking problems</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="large-projects.html"><a href="large-projects.html#being-proactive"><i class="fa fa-check"></i><b>13.5</b> Being Proactive</a></li>
<li class="chapter" data-level="13.6" data-path="large-projects.html"><a href="large-projects.html#optimizing"><i class="fa fa-check"></i><b>13.6</b> Optimizing</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="large-projects.html"><a href="large-projects.html#benchmarking"><i class="fa fa-check"></i><b>13.6.1</b> Benchmarking</a></li>
<li class="chapter" data-level="13.6.2" data-path="large-projects.html"><a href="large-projects.html#bottlenecks"><i class="fa fa-check"></i><b>13.6.2</b> Bottlenecks</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="large-projects.html"><a href="large-projects.html#advanced-programming"><i class="fa fa-check"></i><b>13.7</b> Advanced Programming</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>14</b> Shiny</a>
<ul>
<li class="chapter" data-level="14.0.1" data-path="shiny.html"><a href="shiny.html#programming-guidance"><i class="fa fa-check"></i><b>14.0.1</b> Programming Guidance</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>15</b> Software</a>
<ul>
<li class="chapter" data-level="15.1" data-path="software.html"><a href="software.html#latest-versions"><i class="fa fa-check"></i><b>15.1</b> Latest versions</a></li>
<li class="chapter" data-level="15.2" data-path="software.html"><a href="software.html#stata"><i class="fa fa-check"></i><b>15.2</b> Stata</a></li>
<li class="chapter" data-level="15.3" data-path="software.html"><a href="software.html#general-workflow"><i class="fa fa-check"></i><b>15.3</b> General Workflow</a></li>
<li class="chapter" data-level="15.4" data-path="software.html"><a href="software.html#sweave"><i class="fa fa-check"></i><b>15.4</b> Sweave</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-scientism" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number"> 10</span> Data Scientism<a href="data-scientism.html#data-scientism" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<p>There is currently a boom in empirical research centered around linear regression analysis. This is not for the first boom in empirical research, and we’d be wise to recall some earlier wisdom from economists on the matter.</p>
<blockquote>
<p>The blind transfer of the striving for quantitative measurements to a field where the specific conditions are not present which give it its basic importance in the natural sciences is the result of an entirely unfounded prejudice. It is probably responsible for the worst aberrations and absurdities produced by scientism in the social sciences. It not only leads frequently to the selection for study of the most irrelevant aspects of the phenomena because they happen to be measurable, but also to “measurements” and assignments of numerical values which are absolutely meaningless. What a distinguished philosopher recently wrote about psychology is at least equally true of the social sciences, namely that it is only too easy “to rush off to measure something without considering what it is we are measuring, or what measurement means. In this respect some recent measurements are of the same logical type as Plato’s determination that a just ruler is 729 times as happy as an unjust one.”</p>
<p>— F.A. Hayek, 1943</p>
</blockquote>
<blockquote>
<p>if you torture the data long enough, it will confess</p>
<p>— R. Coase (Source Unknown)</p>
</blockquote>
<blockquote>
<p>the definition of a causal parameter is not always clearly stated, and formal statements of identifying conditions in terms of well-specified economic models are rarely presented. Moreover, the absence of explicit structural frameworks makes it difficult to cumulate knowledge across studies conducted within this framework. Many studies produced by this research program have a `stand alone’ feature and neither inform nor are influenced by the general body of empirical knowledge in economics.</p>
<p>— J.J. Heckman, 2000</p>
</blockquote>
<blockquote>
<p>without explicit prior consideration of the effect of the instrument choice on the parameter being estimated, such a procedure is effectively the opposite of standard statistical practice in which a parameter of interest is defined first, followed by an estimator that delivers that parameter. Instead, we have a procedure in which the choice of the instrument, which is guided by criteria designed for a situation in which there is no heterogeneity, is implicitly allowed to determine the parameter of interest. This goes beyond the old story of looking for an object where the light is strong enough to see; rather, we have at least some control over the light but choose to let it fall where it may and then proclaim that whatever it illuminates is what we were looking for all along.</p>
<p>— A. Deaton, 2010</p>
</blockquote>
<p>The OLS examples are familiar are subject to current research. At the end are two simple examples of scientism with the ‘’latest and greatest’’ empirical recipes—we don’t have many theoretical results yet but I think you can understand the issue with the numerical example.</p>
<div id="ols-in-the-age-of-big-data" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> OLS in the age of big data<a href="data-scientism.html#ols-in-the-age-of-big-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We begin with a motivating empirical example and then an simulation excercise.</p>
<div id="us-govt-spending-on-science" class="section level3 hasAnchor" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> US Gov’t Spending on Science<a href="data-scientism.html#us-govt-spending-on-science" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Get and inspect some data from <a href="https://tylervigen.com/spurious-correlations" class="uri">https://tylervigen.com/spurious-correlations</a></p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="data-scientism.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Your data is not made up in the computer (hopefully!)</span></span>
<span id="cb286-2"><a href="data-scientism.html#cb286-2" aria-hidden="true" tabindex="-1"></a><span class="do">## will normally be an address on your PC</span></span>
<span id="cb286-3"><a href="data-scientism.html#cb286-3" aria-hidden="true" tabindex="-1"></a>vigen_csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>( <span class="fu">paste0</span>(</span>
<span id="cb286-4"><a href="data-scientism.html#cb286-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;https://raw.githubusercontent.com/the-mad-statter/&#39;</span>,</span>
<span id="cb286-5"><a href="data-scientism.html#cb286-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;whysospurious/master/data-raw/tylervigen.csv&#39;</span>) ) </span>
<span id="cb286-6"><a href="data-scientism.html#cb286-6" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vigen_csv)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="data-scientism.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(vigen_csv)</span></code></pre></div>
<pre><code>##  [1] &quot;year&quot;                         &quot;science_spending&quot;            
##  [3] &quot;hanging_suicides&quot;             &quot;pool_fall_drownings&quot;         
##  [5] &quot;cage_films&quot;                   &quot;cheese_percap&quot;               
##  [7] &quot;bed_deaths&quot;                   &quot;maine_divorce_rate&quot;          
##  [9] &quot;margarine_percap&quot;             &quot;miss_usa_age&quot;                
## [11] &quot;steam_murders&quot;                &quot;arcade_revenue&quot;              
## [13] &quot;computer_science_doctorates&quot;  &quot;noncom_space_launches&quot;       
## [15] &quot;sociology_doctorates&quot;         &quot;mozzarella_percap&quot;           
## [17] &quot;civil_engineering_doctorates&quot; &quot;fishing_drownings&quot;           
## [19] &quot;kentucky_marriage_rate&quot;       &quot;oil_imports_norway&quot;          
## [21] &quot;chicken_percap&quot;               &quot;train_collision_deaths&quot;      
## [23] &quot;oil_imports_total&quot;            &quot;pool_drownings&quot;              
## [25] &quot;nuclear_power&quot;                &quot;japanese_cars_sold&quot;          
## [27] &quot;motor_vehicle_suicides&quot;       &quot;spelling_bee_word_length&quot;    
## [29] &quot;spider_deaths&quot;                &quot;math_doctorates&quot;             
## [31] &quot;uranium&quot;</code></pre>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="data-scientism.html#cb290-1" aria-hidden="true" tabindex="-1"></a>vigen_csv[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>##   year science_spending hanging_suicides pool_fall_drownings cage_films
## 1 1996               NA               NA                  NA         NA
## 2 1997               NA               NA                  NA         NA
## 3 1998               NA               NA                  NA         NA
## 4 1999            18079             5427                 109          2
## 5 2000            18594             5688                 102          2</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="data-scientism.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="do">## similar `apply&#39; functions</span></span>
<span id="cb292-2"><a href="data-scientism.html#cb292-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(vigen_csv[,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], class) <span class="do">## like apply, but for lists</span></span></code></pre></div>
<pre><code>## $year
## [1] &quot;integer&quot;
## 
## $science_spending
## [1] &quot;integer&quot;
## 
## $hanging_suicides
## [1] &quot;integer&quot;
## 
## $pool_fall_drownings
## [1] &quot;integer&quot;
## 
## $cage_films
## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="data-scientism.html#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(vigen_csv[,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], class) <span class="do">## lapply, formatted to a vector</span></span></code></pre></div>
<pre><code>##                year    science_spending    hanging_suicides pool_fall_drownings 
##           &quot;integer&quot;           &quot;integer&quot;           &quot;integer&quot;           &quot;integer&quot; 
##          cage_films 
##           &quot;integer&quot;</code></pre>
<p>The US government spending on science is ruining cinema
(p&lt;.001)!?</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="data-scientism.html#cb296-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Drop Data before 1999</span></span>
<span id="cb296-2"><a href="data-scientism.html#cb296-2" aria-hidden="true" tabindex="-1"></a>vigen_csv <span class="ot">&lt;-</span> vigen_csv[vigen_csv<span class="sc">$</span>year <span class="sc">&gt;=</span> <span class="dv">1999</span>,] </span>
<span id="cb296-3"><a href="data-scientism.html#cb296-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-4"><a href="data-scientism.html#cb296-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Run OLS Regression $</span></span>
<span id="cb296-5"><a href="data-scientism.html#cb296-5" aria-hidden="true" tabindex="-1"></a>reg1 <span class="ot">&lt;-</span>  <span class="fu">lm</span>(cage_films <span class="sc">~</span> <span class="sc">-</span><span class="dv">1</span> <span class="sc">+</span> science_spending,</span>
<span id="cb296-6"><a href="data-scientism.html#cb296-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">data=</span>vigen_csv)</span>
<span id="cb296-7"><a href="data-scientism.html#cb296-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg1)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = cage_films ~ -1 + science_spending, data = vigen_csv)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -1.7670 -0.7165  0.1447  0.7890  1.4531 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## science_spending 9.978e-05  1.350e-05    7.39 2.34e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.033 on 10 degrees of freedom
##   (1 observation deleted due to missingness)
## Multiple R-squared:  0.8452, Adjusted R-squared:  0.8297 
## F-statistic: 54.61 on 1 and 10 DF,  p-value: 2.343e-05</code></pre>
<p>It’s not all bad, people in maine stay married longer?</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="data-scientism.html#cb298-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb298-2"><a href="data-scientism.html#cb298-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.window</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">1999</span>, <span class="dv">2009</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">9</span>))</span>
<span id="cb298-3"><a href="data-scientism.html#cb298-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">log</span>(maine_divorce_rate<span class="sc">*</span><span class="dv">1000</span>)<span class="sc">~</span>year, <span class="at">data=</span>vigen_csv)</span>
<span id="cb298-4"><a href="data-scientism.html#cb298-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">log</span>(science_spending<span class="sc">/</span><span class="dv">10</span>)<span class="sc">~</span>year, <span class="at">data=</span>vigen_csv, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb298-5"><a href="data-scientism.html#cb298-5" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>)</span>
<span id="cb298-6"><a href="data-scientism.html#cb298-6" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>)</span>
<span id="cb298-7"><a href="data-scientism.html#cb298-7" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&#39;topright&#39;</span>, <span class="at">lty=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">legend=</span><span class="fu">c</span>(</span>
<span id="cb298-8"><a href="data-scientism.html#cb298-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;log(maine_divorce_rate*1000)&#39;</span>,</span>
<span id="cb298-9"><a href="data-scientism.html#cb298-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;log(science_spending/10)&#39;</span>))</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="data-scientism.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>))</span>
<span id="cb299-2"><a href="data-scientism.html#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb299-3"><a href="data-scientism.html#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.window</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">1999</span>, <span class="dv">2009</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">9</span>)<span class="sc">*</span><span class="dv">1000</span>)</span>
<span id="cb299-4"><a href="data-scientism.html#cb299-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(science_spending<span class="sc">/</span><span class="dv">3</span><span class="sc">~</span>year, <span class="at">data=</span>vigen_csv, <span class="at">lty=</span><span class="dv">1</span>, <span class="at">col=</span><span class="dv">2</span>, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb299-5"><a href="data-scientism.html#cb299-5" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2003</span>, <span class="dv">8200</span>, <span class="st">&#39;US spending on science, space, technology (USD/3)&#39;</span>, <span class="at">col=</span><span class="dv">2</span>, <span class="at">cex=</span>.<span class="dv">6</span>, <span class="at">srt=</span><span class="dv">30</span>)</span>
<span id="cb299-6"><a href="data-scientism.html#cb299-6" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(hanging_suicides<span class="sc">~</span>year, <span class="at">data=</span>vigen_csv, <span class="at">lty=</span><span class="dv">1</span>, <span class="at">col=</span><span class="dv">4</span>, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb299-7"><a href="data-scientism.html#cb299-7" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2004</span>, <span class="dv">6500</span>, <span class="st">&#39;US Suicides by hanging, strangulation, suffocation (Deaths)&#39;</span>, <span class="at">col=</span><span class="dv">4</span>, <span class="at">cex=</span>.<span class="dv">6</span>, <span class="at">srt=</span><span class="dv">30</span>)</span>
<span id="cb299-8"><a href="data-scientism.html#cb299-8" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>)</span>
<span id="cb299-9"><a href="data-scientism.html#cb299-9" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>)</span>
<span id="cb299-10"><a href="data-scientism.html#cb299-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-11"><a href="data-scientism.html#cb299-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-12"><a href="data-scientism.html#cb299-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.new</span>()</span>
<span id="cb299-13"><a href="data-scientism.html#cb299-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.window</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">2002</span>, <span class="dv">2009</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">5</span>))</span>
<span id="cb299-14"><a href="data-scientism.html#cb299-14" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(cage_films<span class="sc">~</span>year, <span class="at">data=</span>vigen_csv[vigen_csv<span class="sc">$</span>year<span class="sc">&gt;=</span><span class="dv">2002</span>,], <span class="at">lty=</span><span class="dv">1</span>, <span class="at">col=</span><span class="dv">2</span>, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb299-15"><a href="data-scientism.html#cb299-15" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2006</span>, <span class="fl">0.5</span>, <span class="st">&#39;Number of films with Nicolas Cage (Films)&#39;</span>, <span class="at">col=</span><span class="dv">2</span>, <span class="at">cex=</span>.<span class="dv">6</span>, <span class="at">srt=</span><span class="dv">0</span>)</span>
<span id="cb299-16"><a href="data-scientism.html#cb299-16" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(pool_fall_drownings<span class="sc">/</span><span class="dv">25</span><span class="sc">~</span>year, <span class="at">data=</span>vigen_csv[vigen_csv<span class="sc">$</span>year<span class="sc">&gt;=</span><span class="dv">2002</span>,], <span class="at">lty=</span><span class="dv">1</span>, <span class="at">col=</span><span class="dv">4</span>, <span class="at">pch=</span><span class="dv">16</span>)</span>
<span id="cb299-17"><a href="data-scientism.html#cb299-17" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="dv">2006</span>, <span class="fl">4.5</span>, <span class="st">&#39;Number of drownings by falling into pool (US Deaths/25)&#39;</span>, <span class="at">col=</span><span class="dv">4</span>, <span class="at">cex=</span>.<span class="dv">6</span>, <span class="at">srt=</span><span class="dv">0</span>)</span>
<span id="cb299-18"><a href="data-scientism.html#cb299-18" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>)</span>
<span id="cb299-19"><a href="data-scientism.html#cb299-19" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="data-scientism.html#cb300-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Include an intercept to regression 1</span></span>
<span id="cb300-2"><a href="data-scientism.html#cb300-2" aria-hidden="true" tabindex="-1"></a><span class="co">#reg2 &lt;-  lm(cage_films ~ science_spending, data=vigen_csv)</span></span>
<span id="cb300-3"><a href="data-scientism.html#cb300-3" aria-hidden="true" tabindex="-1"></a><span class="co">#suppressMessages(library(stargazer))</span></span>
<span id="cb300-4"><a href="data-scientism.html#cb300-4" aria-hidden="true" tabindex="-1"></a><span class="co">#stargazer(reg1, reg2, type=&#39;html&#39;)</span></span></code></pre></div>
</div>
<div id="false-positives-arise-from-errors" class="section level3 hasAnchor" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> False Positives arise from errors<a href="data-scientism.html#false-positives-arise-from-errors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A huge amount of data normally means a huge amount of data cleaning/merging/aggregating. Some spurious results are driven by errors in this process, so be careful.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="data-scientism.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Function to Create Sample Datasets</span></span>
<span id="cb301-2"><a href="data-scientism.html#cb301-2" aria-hidden="true" tabindex="-1"></a>make_noisy_data <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">b=</span><span class="dv">0</span>){</span>
<span id="cb301-3"><a href="data-scientism.html#cb301-3" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="at">length.out=</span>n)</span>
<span id="cb301-4"><a href="data-scientism.html#cb301-4" aria-hidden="true" tabindex="-1"></a>    e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb301-5"><a href="data-scientism.html#cb301-5" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> b<span class="sc">*</span>x <span class="sc">+</span> e</span>
<span id="cb301-6"><a href="data-scientism.html#cb301-6" aria-hidden="true" tabindex="-1"></a>    xy_mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span><span class="fu">seq</span>(x), <span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb301-7"><a href="data-scientism.html#cb301-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(xy_mat)</span>
<span id="cb301-8"><a href="data-scientism.html#cb301-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb301-9"><a href="data-scientism.html#cb301-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-10"><a href="data-scientism.html#cb301-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Two sample datasets</span></span>
<span id="cb301-11"><a href="data-scientism.html#cb301-11" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb301-12"><a href="data-scientism.html#cb301-12" aria-hidden="true" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb301-13"><a href="data-scientism.html#cb301-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-14"><a href="data-scientism.html#cb301-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Merging data in wide format</span></span>
<span id="cb301-15"><a href="data-scientism.html#cb301-15" aria-hidden="true" tabindex="-1"></a>dat_merged_wide <span class="ot">&lt;-</span> <span class="fu">merge</span>(dat1, dat2,</span>
<span id="cb301-16"><a href="data-scientism.html#cb301-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">by=</span><span class="st">&#39;ID&#39;</span>, <span class="at">suffixes=</span><span class="fu">c</span>(<span class="st">&#39;.1&#39;</span>,<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb301-17"><a href="data-scientism.html#cb301-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-18"><a href="data-scientism.html#cb301-18" aria-hidden="true" tabindex="-1"></a><span class="do">## merging data in long format and reshaping to wide</span></span>
<span id="cb301-19"><a href="data-scientism.html#cb301-19" aria-hidden="true" tabindex="-1"></a>dat_merged_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>( <span class="fu">cbind</span>(dat1,<span class="at">DF=</span><span class="dv">1</span>),<span class="fu">cbind</span>(dat2,<span class="at">DF=</span><span class="dv">2</span>))</span>
<span id="cb301-20"><a href="data-scientism.html#cb301-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb301-21"><a href="data-scientism.html#cb301-21" aria-hidden="true" tabindex="-1"></a>dat_melted <span class="ot">&lt;-</span> <span class="fu">melt</span>(dat_merged_long, <span class="at">id.vars=</span><span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="st">&#39;DF&#39;</span>))</span>
<span id="cb301-22"><a href="data-scientism.html#cb301-22" aria-hidden="true" tabindex="-1"></a>dat_merged_wide2 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dat_melted, ID<span class="sc">~</span>DF<span class="sc">+</span>variable)</span>
<span id="cb301-23"><a href="data-scientism.html#cb301-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-24"><a href="data-scientism.html#cb301-24" aria-hidden="true" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb301-25"><a href="data-scientism.html#cb301-25" aria-hidden="true" tabindex="-1"></a>dat_merged_wide <span class="sc">==</span> dat_merged_wide2</span></code></pre></div>
<pre><code>##        ID  x.1  y.1  x.2  y.2
## [1,] TRUE TRUE TRUE TRUE TRUE
## [2,] TRUE TRUE TRUE TRUE TRUE
## [3,] TRUE TRUE TRUE TRUE TRUE
## [4,] TRUE TRUE TRUE TRUE TRUE
## [5,] TRUE TRUE TRUE TRUE TRUE
## [6,] TRUE TRUE TRUE TRUE TRUE</code></pre>
<p>Nevertheless, data transformation is often necessary before regression analysis. For downloading tips, see <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf" class="uri">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf</a>
<!--\url{https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf}--></p>
</div>
<div id="false-positives-arise-from-regression-machines" class="section level3 hasAnchor" number="10.1.3">
<h3><span class="header-section-number">10.1.3</span> False Positives arise from Regression Machines<a href="data-scientism.html#false-positives-arise-from-regression-machines" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Another class of errors pertains to P-hacking (and it’s various synonyms)</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="data-scientism.html#cb303-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb303-2"><a href="data-scientism.html#cb303-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb303-3"><a href="data-scientism.html#cb303-3" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb303-4"><a href="data-scientism.html#cb303-4" aria-hidden="true" tabindex="-1"></a>X1 <span class="ot">&lt;-</span> <span class="fu">runif</span>(n)</span>
<span id="cb303-5"><a href="data-scientism.html#cb303-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-6"><a href="data-scientism.html#cb303-6" aria-hidden="true" tabindex="-1"></a><span class="do">## P-hacking</span></span>
<span id="cb303-7"><a href="data-scientism.html#cb303-7" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(p <span class="sc">&gt;=</span> .<span class="dv">001</span>){ <span class="do">## stops when p &lt; .001</span></span>
<span id="cb303-8"><a href="data-scientism.html#cb303-8" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Get Random Covariate</span></span>
<span id="cb303-9"><a href="data-scientism.html#cb303-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(i)</span>
<span id="cb303-10"><a href="data-scientism.html#cb303-10" aria-hidden="true" tabindex="-1"></a>    X2 <span class="ot">&lt;-</span>  <span class="fu">runif</span>(n)</span>
<span id="cb303-11"><a href="data-scientism.html#cb303-11" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Merge and `Analyze&#39;</span></span>
<span id="cb303-12"><a href="data-scientism.html#cb303-12" aria-hidden="true" tabindex="-1"></a>    dat_i <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(X1,X2)</span>
<span id="cb303-13"><a href="data-scientism.html#cb303-13" aria-hidden="true" tabindex="-1"></a>    reg_i <span class="ot">&lt;-</span> <span class="fu">lm</span>(X1<span class="sc">~</span>X2, <span class="at">data=</span>dat_i)</span>
<span id="cb303-14"><a href="data-scientism.html#cb303-14" aria-hidden="true" tabindex="-1"></a>    <span class="do">## update results in global environment</span></span>
<span id="cb303-15"><a href="data-scientism.html#cb303-15" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> <span class="fu">summary</span>(reg_i)<span class="sc">$</span>coefficients[<span class="dv">2</span>,<span class="dv">4</span>]</span>
<span id="cb303-16"><a href="data-scientism.html#cb303-16" aria-hidden="true" tabindex="-1"></a>    i <span class="ot">&lt;-</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb303-17"><a href="data-scientism.html#cb303-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb303-18"><a href="data-scientism.html#cb303-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb303-19"><a href="data-scientism.html#cb303-19" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(X1<span class="sc">~</span>X2, <span class="at">data=</span>dat_i,</span>
<span id="cb303-20"><a href="data-scientism.html#cb303-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>),</span>
<span id="cb303-21"><a href="data-scientism.html#cb303-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">main=</span><span class="fu">paste0</span>(<span class="st">&#39;Random Dataset &#39;</span>, i))</span>
<span id="cb303-22"><a href="data-scientism.html#cb303-22" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(reg_i)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-53-1.png" width="672" /></p>
<p>For more intuition on spurious correlations, try <a href="http://shiny.calpoly.sh/Corr_Reg_Game/" class="uri">http://shiny.calpoly.sh/Corr_Reg_Game/</a></p>
</div>
</div>
<div id="causal-effects-sans-theory" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Causal effects <em>sans theory</em><a href="data-scientism.html#causal-effects-sans-theory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We simply apply ``credible methods’’ to a couple of random walks; finding a treatment that fits mold and adding various robustness checks that make the treatment appear robust. The analysis sounds scientific, and you could probably be convinced if it were not just random noise.</p>
<div id="rdd" class="section level3 hasAnchor" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> RDD<a href="data-scientism.html#rdd" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="data-scientism.html#cb304-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb304-2"><a href="data-scientism.html#cb304-2" aria-hidden="true" tabindex="-1"></a>n_index <span class="ot">&lt;-</span> <span class="fu">seq</span>(n)</span>
<span id="cb304-3"><a href="data-scientism.html#cb304-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-4"><a href="data-scientism.html#cb304-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb304-5"><a href="data-scientism.html#cb304-5" aria-hidden="true" tabindex="-1"></a>random_walk1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">runif</span>(n,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb304-6"><a href="data-scientism.html#cb304-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-7"><a href="data-scientism.html#cb304-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2</span>)</span>
<span id="cb304-8"><a href="data-scientism.html#cb304-8" aria-hidden="true" tabindex="-1"></a>random_walk2 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">runif</span>(n,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb304-9"><a href="data-scientism.html#cb304-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb304-10"><a href="data-scientism.html#cb304-10" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb304-11"><a href="data-scientism.html#cb304-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(random_walk1, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>))</span>
<span id="cb304-12"><a href="data-scientism.html#cb304-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(random_walk2, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>))</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-54-1.png" width="672" /></p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="data-scientism.html#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Let the data take shape</span></span>
<span id="cb305-2"><a href="data-scientism.html#cb305-2" aria-hidden="true" tabindex="-1"></a><span class="do">## (around the large differences before and after)</span></span>
<span id="cb305-3"><a href="data-scientism.html#cb305-3" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">&lt;-</span> <span class="dv">290</span></span>
<span id="cb305-4"><a href="data-scientism.html#cb305-4" aria-hidden="true" tabindex="-1"></a>wind1 <span class="ot">&lt;-</span> <span class="fu">c</span>(n1<span class="dv">-300</span>,n1<span class="sc">+</span><span class="dv">300</span>)</span>
<span id="cb305-5"><a href="data-scientism.html#cb305-5" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t=</span>n_index, <span class="at">y=</span>random_walk1, <span class="at">d=</span><span class="dv">1</span><span class="sc">*</span>(n_index <span class="sc">&gt;</span> n1))</span>
<span id="cb305-6"><a href="data-scientism.html#cb305-6" aria-hidden="true" tabindex="-1"></a>dat1_sub <span class="ot">&lt;-</span> dat1[ n_index<span class="sc">&gt;</span>wind1[<span class="dv">1</span>] <span class="sc">&amp;</span> n_index <span class="sc">&lt;</span> wind1[<span class="dv">2</span>],]</span>
<span id="cb305-7"><a href="data-scientism.html#cb305-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-8"><a href="data-scientism.html#cb305-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Then find your big break</span></span>
<span id="cb305-9"><a href="data-scientism.html#cb305-9" aria-hidden="true" tabindex="-1"></a>reg0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>t, <span class="at">data=</span>dat1_sub[dat1_sub<span class="sc">$</span>d<span class="sc">==</span><span class="dv">0</span>,])</span>
<span id="cb305-10"><a href="data-scientism.html#cb305-10" aria-hidden="true" tabindex="-1"></a>reg1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>t, <span class="at">data=</span>dat1_sub[dat1_sub<span class="sc">$</span>d<span class="sc">==</span><span class="dv">1</span>,])</span>
<span id="cb305-11"><a href="data-scientism.html#cb305-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-12"><a href="data-scientism.html#cb305-12" aria-hidden="true" tabindex="-1"></a><span class="do">## The evidence should show openly (it&#39;s just science)</span></span>
<span id="cb305-13"><a href="data-scientism.html#cb305-13" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(random_walk1, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">grey</span>(.<span class="dv">5</span>,.<span class="dv">5</span>), <span class="at">xlim=</span>wind1)</span>
<span id="cb305-14"><a href="data-scientism.html#cb305-14" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>n1, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb305-15"><a href="data-scientism.html#cb305-15" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(reg0<span class="sc">$</span>model<span class="sc">$</span>t, reg0<span class="sc">$</span>fitted.values, <span class="at">col=</span><span class="dv">2</span>)</span>
<span id="cb305-16"><a href="data-scientism.html#cb305-16" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(reg1<span class="sc">$</span>model<span class="sc">$</span>t, reg1<span class="sc">$</span>fitted.values, <span class="at">col=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="data-scientism.html#cb306-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Dress with some statistics for added credibility</span></span>
<span id="cb306-2"><a href="data-scientism.html#cb306-2" aria-hidden="true" tabindex="-1"></a>rdd_sub <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>d<span class="sc">+</span>t<span class="sc">+</span>d<span class="sc">*</span>t, <span class="at">data=</span>dat1_sub)</span>
<span id="cb306-3"><a href="data-scientism.html#cb306-3" aria-hidden="true" tabindex="-1"></a>rdd_full <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>d<span class="sc">+</span>t<span class="sc">+</span>d<span class="sc">*</span>t, <span class="at">data=</span>dat1)</span>
<span id="cb306-4"><a href="data-scientism.html#cb306-4" aria-hidden="true" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(rdd_sub, rdd_full, </span>
<span id="cb306-5"><a href="data-scientism.html#cb306-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;html&#39;</span>,</span>
<span id="cb306-6"><a href="data-scientism.html#cb306-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Recipe RDD&#39;</span>,</span>
<span id="cb306-7"><a href="data-scientism.html#cb306-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">header=</span>F,</span>
<span id="cb306-8"><a href="data-scientism.html#cb306-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">omit=</span><span class="fu">c</span>(<span class="st">&#39;Constant&#39;</span>),</span>
<span id="cb306-9"><a href="data-scientism.html#cb306-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes=</span><span class="fu">c</span>(<span class="st">&#39;First column uses a dataset around the discontinuity.&#39;</span>,</span>
<span id="cb306-10"><a href="data-scientism.html#cb306-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;Smaller windows are more causal, and where the effect is bigger.&#39;</span>))</span></code></pre></div>
<table style="text-align:center">
<caption>
<strong>Recipe RDD</strong>
</caption>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
y
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
d
</td>
<td>
-13.169<sup>***</sup>
</td>
<td>
-9.639<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.569)
</td>
<td>
(0.527)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
t
</td>
<td>
0.011<sup>***</sup>
</td>
<td>
0.011<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.001)
</td>
<td>
(0.002)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
d:t
</td>
<td>
0.009<sup>***</sup>
</td>
<td>
0.004<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.002)
</td>
<td>
(0.002)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
589
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.771
</td>
<td>
0.447
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.770
</td>
<td>
0.446
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
1.764 (df = 585)
</td>
<td>
3.081 (df = 996)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
658.281<sup>***</sup> (df = 3; 585)
</td>
<td>
268.763<sup>***</sup> (df = 3; 996)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2" style="text-align:right">
First column uses a dataset around the discontinuity.
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2" style="text-align:right">
Smaller windows are more causal, and where the effect is bigger.
</td>
</tr>
</table>
</div>
<div id="did" class="section level3 hasAnchor" number="10.2.2">
<h3><span class="header-section-number">10.2.2</span> DID<a href="data-scientism.html#did" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="data-scientism.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Find a reversal of fortune</span></span>
<span id="cb307-2"><a href="data-scientism.html#cb307-2" aria-hidden="true" tabindex="-1"></a><span class="do">## (A good story always goes well with a nice pre-trend)</span></span>
<span id="cb307-3"><a href="data-scientism.html#cb307-3" aria-hidden="true" tabindex="-1"></a>n2 <span class="ot">&lt;-</span> <span class="dv">318</span></span>
<span id="cb307-4"><a href="data-scientism.html#cb307-4" aria-hidden="true" tabindex="-1"></a>wind2 <span class="ot">&lt;-</span> <span class="fu">c</span>(n2<span class="dv">-20</span>,n2<span class="sc">+</span><span class="dv">20</span>)</span>
<span id="cb307-5"><a href="data-scientism.html#cb307-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(random_walk2, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="dv">4</span>, <span class="at">xlim=</span>wind2, <span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">15</span>,<span class="dv">15</span>))</span>
<span id="cb307-6"><a href="data-scientism.html#cb307-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(random_walk1, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="dv">2</span>)</span>
<span id="cb307-7"><a href="data-scientism.html#cb307-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span>n2, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="03-ROLS_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="data-scientism.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Knead out any effects that are non-causal </span></span>
<span id="cb308-2"><a href="data-scientism.html#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="do">## (or even just correlation)</span></span>
<span id="cb308-3"><a href="data-scientism.html#cb308-3" aria-hidden="true" tabindex="-1"></a>dat2A <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t=</span>n_index, <span class="at">y=</span>random_walk1, <span class="at">d=</span><span class="dv">1</span><span class="sc">*</span>(n_index <span class="sc">&gt;</span> n2), <span class="at">RWid=</span><span class="dv">1</span>)</span>
<span id="cb308-4"><a href="data-scientism.html#cb308-4" aria-hidden="true" tabindex="-1"></a>dat2B <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t=</span>n_index, <span class="at">y=</span>random_walk2, <span class="at">d=</span><span class="dv">0</span>, <span class="at">RWid=</span><span class="dv">2</span>)</span>
<span id="cb308-5"><a href="data-scientism.html#cb308-5" aria-hidden="true" tabindex="-1"></a>dat2  <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dat2A, dat2B)</span>
<span id="cb308-6"><a href="data-scientism.html#cb308-6" aria-hidden="true" tabindex="-1"></a>dat2<span class="sc">$</span>RWid <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(dat2<span class="sc">$</span>RWid)</span>
<span id="cb308-7"><a href="data-scientism.html#cb308-7" aria-hidden="true" tabindex="-1"></a>dat2<span class="sc">$</span>tid <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(dat2<span class="sc">$</span>t)</span>
<span id="cb308-8"><a href="data-scientism.html#cb308-8" aria-hidden="true" tabindex="-1"></a>dat2_sub <span class="ot">&lt;-</span> dat2[ dat2<span class="sc">$</span>t<span class="sc">&gt;</span>wind2[<span class="dv">1</span>] <span class="sc">&amp;</span> dat2<span class="sc">$</span>t <span class="sc">&lt;</span> wind2[<span class="dv">2</span>],]</span>
<span id="cb308-9"><a href="data-scientism.html#cb308-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb308-10"><a href="data-scientism.html#cb308-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Report the stars for all to enjoy</span></span>
<span id="cb308-11"><a href="data-scientism.html#cb308-11" aria-hidden="true" tabindex="-1"></a><span class="do">## (and remind that stable coefficients are the good ones)</span></span>
<span id="cb308-12"><a href="data-scientism.html#cb308-12" aria-hidden="true" tabindex="-1"></a>did_fe1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>d<span class="sc">+</span>tid, <span class="at">data=</span>dat2_sub)</span>
<span id="cb308-13"><a href="data-scientism.html#cb308-13" aria-hidden="true" tabindex="-1"></a>did_fe2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>d<span class="sc">+</span>RWid, <span class="at">data=</span>dat2_sub)</span>
<span id="cb308-14"><a href="data-scientism.html#cb308-14" aria-hidden="true" tabindex="-1"></a>did_fe3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y<span class="sc">~</span>d<span class="sc">*</span>RWid<span class="sc">+</span>tid, <span class="at">data=</span>dat2_sub)</span>
<span id="cb308-15"><a href="data-scientism.html#cb308-15" aria-hidden="true" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(did_fe1, did_fe2, did_fe3,</span>
<span id="cb308-16"><a href="data-scientism.html#cb308-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;html&#39;</span>,</span>
<span id="cb308-17"><a href="data-scientism.html#cb308-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Recipe DID&#39;</span>,</span>
<span id="cb308-18"><a href="data-scientism.html#cb308-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">header=</span>F,</span>
<span id="cb308-19"><a href="data-scientism.html#cb308-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">omit=</span><span class="fu">c</span>(<span class="st">&#39;tid&#39;</span>,<span class="st">&#39;RWid&#39;</span>, <span class="st">&#39;Constant&#39;</span>),</span>
<span id="cb308-20"><a href="data-scientism.html#cb308-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes=</span><span class="fu">c</span>(</span>
<span id="cb308-21"><a href="data-scientism.html#cb308-21" aria-hidden="true" tabindex="-1"></a>     <span class="st">&#39;Fixed effects for time in column 1, for id in column 2, and both in column 3.&#39;</span>,</span>
<span id="cb308-22"><a href="data-scientism.html#cb308-22" aria-hidden="true" tabindex="-1"></a>     <span class="st">&#39;Fixed effects control for most of your concerns.&#39;</span>,</span>
<span id="cb308-23"><a href="data-scientism.html#cb308-23" aria-hidden="true" tabindex="-1"></a>     <span class="st">&#39;Anything else creates a bias in the opposite direction.&#39;</span>))</span></code></pre></div>
<table style="text-align:center">
<caption>
<strong>Recipe DID</strong>
</caption>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
y
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
d
</td>
<td>
1.804<sup>*</sup>
</td>
<td>
1.847<sup>***</sup>
</td>
<td>
5.851<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.892)
</td>
<td>
(0.652)
</td>
<td>
(0.828)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
78
</td>
<td>
78
</td>
<td>
78
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.227
</td>
<td>
0.164
</td>
<td>
0.668
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
-0.566
</td>
<td>
0.142
</td>
<td>
0.309
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
2.750 (df = 38)
</td>
<td>
2.035 (df = 75)
</td>
<td>
1.827 (df = 37)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
0.287 (df = 39; 38)
</td>
<td>
7.379<sup>***</sup> (df = 2; 75)
</td>
<td>
1.860<sup>**</sup> (df = 40; 37)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3" style="text-align:right">
Fixed effects for time in column 1, for id in column 2, and both in column 3.
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3" style="text-align:right">
Fixed effects control for most of your concerns.
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3" style="text-align:right">
Anything else creates a bias in the opposite direction.
</td>
</tr>
</table>

</div>
</div>
</div>



<ul>
<li>Replicable: someone collecting new data comes to the same results.</li>
<li>Reproducibile: someone reusing your data comes to the same results.</li>
</ul>
<p>Will we cover some of both below. Note that you can read more about the distinction in many places, including</p>
<ul>
<li><a href="https://www.annualreviews.org/doi/10.1146/annurev-psych-020821-114157" class="uri">https://www.annualreviews.org/doi/10.1146/annurev-psych-020821-114157</a></li>
<li><a href="https://nceas.github.io/sasap-training/materials/reproducible_research_in_r_fairbanks/" class="uri">https://nceas.github.io/sasap-training/materials/reproducible_research_in_r_fairbanks/</a></li>
</ul>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ols-and-endogeneity.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="why.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["index.pdf", "index.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
