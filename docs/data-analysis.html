<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 8 Data Analysis | Introductory Economic Statistics: Data-Driven Analysis in R</title>
  <meta name="description" content=" 8 Data Analysis | Introductory Economic Statistics: Data-Driven Analysis in R" />
  <meta name="generator" content="bookdown 0.44 and GitBook 2.6.7" />

  <meta property="og:title" content=" 8 Data Analysis | Introductory Economic Statistics: Data-Driven Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 8 Data Analysis | Introductory Economic Statistics: Data-Driven Analysis in R" />
  
  
  

<meta name="author" content="Jordan Adamson" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hypothesis-tests.html"/>
<link rel="next" href="bivariate-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-18.2.0/react.min.js"></script>
<script src="libs/react-18.2.0/react-dom.min.js"></script>
<script src="libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="libs/reactable-binding-0.4.4/reactable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li> </li>
<li class="divider"></li>
<li><a href="index.html#index" id="toc-index"></a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Introduction to Data Analysis</b></span></li>
<li class="chapter" data-level="1" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>1</b> First Steps</a>
<ul>
<li class="chapter" data-level="1.1" data-path="first-steps.html"><a href="first-steps.html#why-program-in-r"><i class="fa fa-check"></i><b>1.1</b> Why Program in R?</a></li>
<li class="chapter" data-level="1.2" data-path="first-steps.html"><a href="first-steps.html#first-steps-1"><i class="fa fa-check"></i><b>1.2</b> First Steps</a></li>
<li class="chapter" data-level="1.3" data-path="first-steps.html"><a href="first-steps.html#further-reading"><i class="fa fa-check"></i><b>1.3</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>2</b> Mathematics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="mathematics.html"><a href="mathematics.html#objects"><i class="fa fa-check"></i><b>2.1</b> Objects</a></li>
<li class="chapter" data-level="2.2" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>2.2</b> Functions</a></li>
<li class="chapter" data-level="2.3" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>2.3</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#types"><i class="fa fa-check"></i><b>3.1</b> Types</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#densities-and-distributions"><i class="fa fa-check"></i><b>3.2</b> Densities and Distributions</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#joint-distributions"><i class="fa fa-check"></i><b>3.3</b> Joint Distributions</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#conditional-distributions"><i class="fa fa-check"></i><b>3.4</b> Conditional Distributions</a></li>
<li class="chapter" data-level="3.5" data-path="data.html"><a href="data.html#further-reading-1"><i class="fa fa-check"></i><b>3.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="random-variables.html"><a href="random-variables.html"><i class="fa fa-check"></i><b>4</b> Random Variables</a>
<ul>
<li class="chapter" data-level="4.1" data-path="random-variables.html"><a href="random-variables.html#discrete"><i class="fa fa-check"></i><b>4.1</b> Discrete</a></li>
<li class="chapter" data-level="4.2" data-path="random-variables.html"><a href="random-variables.html#continuous"><i class="fa fa-check"></i><b>4.2</b> Continuous</a></li>
<li class="chapter" data-level="4.3" data-path="random-variables.html"><a href="random-variables.html#drawing-samples"><i class="fa fa-check"></i><b>4.3</b> Drawing Samples</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>5</b> Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistics.html"><a href="statistics.html#mean-and-variance"><i class="fa fa-check"></i><b>5.1</b> Mean and Variance</a></li>
<li class="chapter" data-level="5.2" data-path="statistics.html"><a href="statistics.html#other-centerspread-statistics"><i class="fa fa-check"></i><b>5.2</b> Other Center/Spread Statistics</a></li>
<li class="chapter" data-level="5.3" data-path="statistics.html"><a href="statistics.html#shape-statistics"><i class="fa fa-check"></i><b>5.3</b> Shape Statistics</a></li>
<li class="chapter" data-level="5.4" data-path="statistics.html"><a href="statistics.html#probability-theory"><i class="fa fa-check"></i><b>5.4</b> Probability Theory</a></li>
<li class="chapter" data-level="5.5" data-path="statistics.html"><a href="statistics.html#further-reading-2"><i class="fa fa-check"></i><b>5.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>6</b> (Re)Sampling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="resampling.html"><a href="resampling.html#sample-distributions"><i class="fa fa-check"></i><b>6.1</b> Sample Distributions</a></li>
<li class="chapter" data-level="6.2" data-path="resampling.html"><a href="resampling.html#intervals"><i class="fa fa-check"></i><b>6.2</b> Intervals</a></li>
<li class="chapter" data-level="6.3" data-path="resampling.html"><a href="resampling.html#resampling-1"><i class="fa fa-check"></i><b>6.3</b> Resampling</a></li>
<li class="chapter" data-level="6.4" data-path="resampling.html"><a href="resampling.html#further-reading-3"><i class="fa fa-check"></i><b>6.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>7</b> Hypothesis Tests</a>
<ul>
<li class="chapter" data-level="7.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#basic-ideas"><i class="fa fa-check"></i><b>7.1</b> Basic Ideas</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#default-statistics"><i class="fa fa-check"></i><b>7.2</b> Default Statistics</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#two-sample-differences"><i class="fa fa-check"></i><b>7.3</b> Two-Sample Differences</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#further-reading-4"><i class="fa fa-check"></i><b>7.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>8</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-analysis.html"><a href="data-analysis.html#beyond-basics"><i class="fa fa-check"></i><b>8.1</b> Beyond Basics</a></li>
<li class="chapter" data-level="8.2" data-path="data-analysis.html"><a href="data-analysis.html#inputs"><i class="fa fa-check"></i><b>8.2</b> Inputs</a></li>
<li class="chapter" data-level="8.3" data-path="data-analysis.html"><a href="data-analysis.html#outputs"><i class="fa fa-check"></i><b>8.3</b> Outputs</a></li>
<li class="chapter" data-level="8.4" data-path="data-analysis.html"><a href="data-analysis.html#r-markdown-reports"><i class="fa fa-check"></i><b>8.4</b> R-Markdown Reports</a></li>
<li class="chapter" data-level="8.5" data-path="data-analysis.html"><a href="data-analysis.html#further-reading-5"><i class="fa fa-check"></i><b>8.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="bivariate-data.html"><a href="bivariate-data.html"><i class="fa fa-check"></i><b>9</b> Bivariate Data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="bivariate-data.html"><a href="bivariate-data.html#statistics-1"><i class="fa fa-check"></i><b>9.1</b> Statistics</a></li>
<li class="chapter" data-level="9.2" data-path="bivariate-data.html"><a href="bivariate-data.html#probability-theory-1"><i class="fa fa-check"></i><b>9.2</b> Probability Theory</a></li>
<li class="chapter" data-level="9.3" data-path="bivariate-data.html"><a href="bivariate-data.html#further-reading-6"><i class="fa fa-check"></i><b>9.3</b> Further Reading</a></li>
</ul></li>
<li class="part"><span><b>II Introduction to Linear Regression</b></span></li>
<li class="chapter" data-level="10" data-path="basic-regression.html"><a href="basic-regression.html"><i class="fa fa-check"></i><b>10</b> Basic Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="basic-regression.html"><a href="basic-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>10.1</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="10.2" data-path="basic-regression.html"><a href="basic-regression.html#variability-estimates"><i class="fa fa-check"></i><b>10.2</b> Variability Estimates</a></li>
<li class="chapter" data-level="10.3" data-path="basic-regression.html"><a href="basic-regression.html#hypothesis-tests-1"><i class="fa fa-check"></i><b>10.3</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="10.4" data-path="basic-regression.html"><a href="basic-regression.html#local-linear-regression"><i class="fa fa-check"></i><b>10.4</b> Local Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="intermediate-regression.html"><a href="intermediate-regression.html"><i class="fa fa-check"></i><b>11</b> Intermediate Regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="intermediate-regression.html"><a href="intermediate-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="11.2" data-path="intermediate-regression.html"><a href="intermediate-regression.html#factor-variables"><i class="fa fa-check"></i><b>11.2</b> Factor Variables</a></li>
<li class="chapter" data-level="11.3" data-path="intermediate-regression.html"><a href="intermediate-regression.html#variability-estimates-1"><i class="fa fa-check"></i><b>11.3</b> Variability Estimates</a></li>
<li class="chapter" data-level="11.4" data-path="intermediate-regression.html"><a href="intermediate-regression.html#hypothesis-tests-2"><i class="fa fa-check"></i><b>11.4</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="11.5" data-path="intermediate-regression.html"><a href="intermediate-regression.html#further-reading-7"><i class="fa fa-check"></i><b>11.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html"><i class="fa fa-check"></i><b>12</b> Intermediate Regression II</a>
<ul>
<li class="chapter" data-level="12.1" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html#coefficient-interpretation"><i class="fa fa-check"></i><b>12.1</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="12.2" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html#diagnostics"><i class="fa fa-check"></i><b>12.2</b> Diagnostics</a></li>
<li class="chapter" data-level="12.3" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html#transformations"><i class="fa fa-check"></i><b>12.3</b> Transformations</a></li>
<li class="chapter" data-level="12.4" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html#regressograms"><i class="fa fa-check"></i><b>12.4</b> Regressograms</a></li>
<li class="chapter" data-level="12.5" data-path="intermediate-regression-ii.html"><a href="intermediate-regression-ii.html#more-literature"><i class="fa fa-check"></i><b>12.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="observational-data.html"><a href="observational-data.html"><i class="fa fa-check"></i><b>13</b> Observational Data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="observational-data.html"><a href="observational-data.html#temporal-interdependence"><i class="fa fa-check"></i><b>13.1</b> Temporal Interdependence</a></li>
<li class="chapter" data-level="13.2" data-path="observational-data.html"><a href="observational-data.html#spatial-interdependence"><i class="fa fa-check"></i><b>13.2</b> Spatial Interdependence</a></li>
<li class="chapter" data-level="13.3" data-path="observational-data.html"><a href="observational-data.html#variable-interdependence"><i class="fa fa-check"></i><b>13.3</b> Variable Interdependence</a></li>
<li class="chapter" data-level="13.4" data-path="observational-data.html"><a href="observational-data.html#further-reading-8"><i class="fa fa-check"></i><b>13.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="experimental-data.html"><a href="experimental-data.html"><i class="fa fa-check"></i><b>14</b> Experimental Data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="experimental-data.html"><a href="experimental-data.html#design-basics"><i class="fa fa-check"></i><b>14.1</b> Design Basics</a></li>
<li class="chapter" data-level="14.2" data-path="experimental-data.html"><a href="experimental-data.html#comparisons-over-time"><i class="fa fa-check"></i><b>14.2</b> Comparisons Over Time</a></li>
<li class="chapter" data-level="14.3" data-path="experimental-data.html"><a href="experimental-data.html#natural-experiments"><i class="fa fa-check"></i><b>14.3</b> “Natural” Experiments</a></li>
<li class="chapter" data-level="14.4" data-path="experimental-data.html"><a href="experimental-data.html#further-reading-9"><i class="fa fa-check"></i><b>14.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>15</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-scientism.html"><a href="data-scientism.html#false-positives"><i class="fa fa-check"></i><b>15.1</b> False Positives</a></li>
<li class="chapter" data-level="15.2" data-path="data-scientism.html"><a href="data-scientism.html#spurious-regression"><i class="fa fa-check"></i><b>15.2</b> Spurious Regression</a></li>
<li class="chapter" data-level="15.3" data-path="data-scientism.html"><a href="data-scientism.html#spurious-causal-impacts"><i class="fa fa-check"></i><b>15.3</b> Spurious Causal Impacts</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="misc.-topics.html"><a href="misc.-topics.html"><i class="fa fa-check"></i><b>16</b> Misc. Topics</a>
<ul>
<li class="chapter" data-level="16.1" data-path="misc.-topics.html"><a href="misc.-topics.html#locally-linear-multiple-regression"><i class="fa fa-check"></i><b>16.1</b> Locally Linear Multiple Regression</a></li>
<li class="chapter" data-level="16.2" data-path="misc.-topics.html"><a href="misc.-topics.html#nonparametric-tests"><i class="fa fa-check"></i><b>16.2</b> Nonparametric Tests</a></li>
<li class="chapter" data-level="16.3" data-path="misc.-topics.html"><a href="misc.-topics.html#prediction"><i class="fa fa-check"></i><b>16.3</b> Prediction</a></li>
<li class="chapter" data-level="16.4" data-path="misc.-topics.html"><a href="misc.-topics.html#decision-theory"><i class="fa fa-check"></i><b>16.4</b> Decision Theory</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introductory Economic Statistics: Data-Driven Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-analysis" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number"> 8</span> Data Analysis<a href="data-analysis.html#data-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<div id="beyond-basics" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Beyond Basics<a href="data-analysis.html#beyond-basics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use expansion “packages” for less common procedures and more functionality</p>
<div id="cran." class="section level4 unnumbered hasAnchor">
<h4><strong>CRAN</strong>.<a href="data-analysis.html#cran." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Most packages can be found on CRAN and can be easily installed</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-analysis.html#cb119-1" tabindex="-1"></a><span class="co"># commonly used packages</span></span>
<span id="cb119-2"><a href="data-analysis.html#cb119-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;stargazer&quot;</span>)</span>
<span id="cb119-3"><a href="data-analysis.html#cb119-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;data.table&quot;</span>)</span>
<span id="cb119-4"><a href="data-analysis.html#cb119-4" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>)</span>
<span id="cb119-5"><a href="data-analysis.html#cb119-5" tabindex="-1"></a><span class="co"># other statistical packages</span></span>
<span id="cb119-6"><a href="data-analysis.html#cb119-6" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;extraDistr&quot;</span>)</span>
<span id="cb119-7"><a href="data-analysis.html#cb119-7" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;twosamples&quot;</span>)</span>
<span id="cb119-8"><a href="data-analysis.html#cb119-8" tabindex="-1"></a><span class="co"># install.packages(&quot;purrr&quot;)</span></span>
<span id="cb119-9"><a href="data-analysis.html#cb119-9" tabindex="-1"></a><span class="co"># install.packages(&quot;reshape2&quot;)</span></span></code></pre></div>
</details>
<p>The most common tasks also have <a href="https://www.rstudio.com/resources/cheatsheets/">cheatsheets</a> you can use.</p>
<p>For example, to generate ‘exotic’ probability distributions</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-analysis.html#cb120-1" tabindex="-1"></a><span class="fu">library</span>(extraDistr)</span>
<span id="cb120-2"><a href="data-analysis.html#cb120-2" tabindex="-1"></a></span>
<span id="cb120-3"><a href="data-analysis.html#cb120-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb120-4"><a href="data-analysis.html#cb120-4" tabindex="-1"></a><span class="cf">for</span>(p <span class="cf">in</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">5</span>,<span class="dv">0</span>)){</span>
<span id="cb120-5"><a href="data-analysis.html#cb120-5" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">rgev</span>(<span class="dv">2000</span>, <span class="at">mu=</span><span class="dv">0</span>, <span class="at">sigma=</span><span class="dv">1</span>, <span class="at">xi=</span>p)</span>
<span id="cb120-6"><a href="data-analysis.html#cb120-6" tabindex="-1"></a>    <span class="fu">hist</span>(x, <span class="at">breaks=</span><span class="dv">50</span>, <span class="at">border=</span><span class="cn">NA</span>, <span class="at">main=</span><span class="cn">NA</span>, <span class="at">freq=</span>F)</span>
<span id="cb120-7"><a href="data-analysis.html#cb120-7" tabindex="-1"></a>}</span>
<span id="cb120-8"><a href="data-analysis.html#cb120-8" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;GEV densities&#39;</span>, <span class="at">outer=</span>T, <span class="at">line=</span><span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
</details>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-113-1.png" width="672" /></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-analysis.html#cb121-1" tabindex="-1"></a><span class="fu">library</span>(extraDistr)</span>
<span id="cb121-2"><a href="data-analysis.html#cb121-2" tabindex="-1"></a></span>
<span id="cb121-3"><a href="data-analysis.html#cb121-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb121-4"><a href="data-analysis.html#cb121-4" tabindex="-1"></a><span class="cf">for</span>(p <span class="cf">in</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">2</span>)){</span>
<span id="cb121-5"><a href="data-analysis.html#cb121-5" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">rtlambda</span>(<span class="dv">2000</span>, p)</span>
<span id="cb121-6"><a href="data-analysis.html#cb121-6" tabindex="-1"></a>    <span class="fu">hist</span>(x, <span class="at">breaks=</span><span class="dv">100</span>, <span class="at">border=</span><span class="cn">NA</span>, <span class="at">main=</span><span class="cn">NA</span>, <span class="at">freq=</span>F)</span>
<span id="cb121-7"><a href="data-analysis.html#cb121-7" tabindex="-1"></a>}</span>
<span id="cb121-8"><a href="data-analysis.html#cb121-8" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;Tukey-Lambda densities&#39;</span>, <span class="at">outer=</span>T, <span class="at">line=</span><span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
</details>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-114-1.png" width="672" /></p>
</div>
<div id="github." class="section level4 unnumbered hasAnchor">
<h4><strong>Github</strong>.<a href="data-analysis.html#github." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Sometimes you will want to install a package from GitHub. For this, you can use <a href="https://devtools.r-lib.org/">devtools</a> or its light-weight version <a href="https://remotes.r-lib.org/">remotes</a></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-analysis.html#cb122-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb122-2"><a href="data-analysis.html#cb122-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;remotes&quot;</span>)</span></code></pre></div>
</details>
<p>Note that to install <code>devtools</code>, you also need to have developer tools installed on your computer.</p>
<ul>
<li>Windows: <a href="https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html">Rtools</a></li>
<li>Mac: <a href="https://apps.apple.com/us/app/xcode/id497799835?mt=12">Xcode</a></li>
</ul>
<p>To color terminal output on Linux systems, you can use the colorout package</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-analysis.html#cb123-1" tabindex="-1"></a><span class="fu">library</span>(remotes)</span>
<span id="cb123-2"><a href="data-analysis.html#cb123-2" tabindex="-1"></a><span class="co"># Install https://github.com/jalvesaq/colorout</span></span>
<span id="cb123-3"><a href="data-analysis.html#cb123-3" tabindex="-1"></a><span class="co"># to .libPaths()[1]</span></span>
<span id="cb123-4"><a href="data-analysis.html#cb123-4" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&#39;jalvesaq/colorout&#39;</span>)</span>
<span id="cb123-5"><a href="data-analysis.html#cb123-5" tabindex="-1"></a><span class="fu">library</span>(colorout)</span></code></pre></div>
</details>
</div>
<div id="base." class="section level4 unnumbered hasAnchor">
<h4><strong>Base</strong>.<a href="data-analysis.html#base." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>While additional packages can make your code faster, they also create dependancies that can lead to problems. So learn base R well before becoming dependant on other packages</p>
<ul>
<li><a href="https://bitsofanalytics.org/posts/base-vs-tidy/" class="uri">https://bitsofanalytics.org/posts/base-vs-tidy/</a></li>
<li><a href="https://jtr13.github.io/cc21fall2/comparison-among-base-r-tidyverse-and-datatable.html" class="uri">https://jtr13.github.io/cc21fall2/comparison-among-base-r-tidyverse-and-datatable.html</a></li>
</ul>
</div>
<div id="updating." class="section level4 unnumbered hasAnchor">
<h4>Updating.<a href="data-analysis.html#updating." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Make sure R and your packages are up to date. The current version of R and any packages used can be found (and recorded) with</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-analysis.html#cb124-1" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
</details>
<p>To update your R packages, use</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-analysis.html#cb125-1" tabindex="-1"></a><span class="fu">update.packages</span>()</span></code></pre></div>
</details>
<p><strong>Rarely Used Tricks:</strong>
Note that after updating R, you can update <em>all</em> packages stored in <em>all</em> <code>.libPaths()</code> with the following command</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-analysis.html#cb126-1" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">checkBuilt=</span>T, <span class="at">ask=</span>F)</span>
<span id="cb126-2"><a href="data-analysis.html#cb126-2" tabindex="-1"></a><span class="co"># install.packages(old.packages(checkBuilt=T)[,&quot;Package&quot;])</span></span></code></pre></div>
</details>
<p>Sometimes there is a problem. To find specific broken packages after an update</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-analysis.html#cb127-1" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb127-2"><a href="data-analysis.html#cb127-2" tabindex="-1"></a></span>
<span id="cb127-3"><a href="data-analysis.html#cb127-3" tabindex="-1"></a><span class="fu">set_names</span>(<span class="fu">.libPaths</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb127-4"><a href="data-analysis.html#cb127-4" tabindex="-1"></a>  <span class="fu">map</span>(<span class="cf">function</span>(lib) {</span>
<span id="cb127-5"><a href="data-analysis.html#cb127-5" tabindex="-1"></a>    <span class="fu">.packages</span>(<span class="at">all.available =</span> <span class="cn">TRUE</span>, <span class="at">lib.loc =</span> lib) <span class="sc">%&gt;%</span></span>
<span id="cb127-6"><a href="data-analysis.html#cb127-6" tabindex="-1"></a>        <span class="fu">keep</span>(<span class="cf">function</span>(pkg) {</span>
<span id="cb127-7"><a href="data-analysis.html#cb127-7" tabindex="-1"></a>            f <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&#39;Meta&#39;</span>, <span class="st">&#39;package.rds&#39;</span>, <span class="at">package =</span> pkg, <span class="at">lib.loc =</span> lib)</span>
<span id="cb127-8"><a href="data-analysis.html#cb127-8" tabindex="-1"></a>            <span class="fu">tryCatch</span>({<span class="fu">readRDS</span>(f); <span class="cn">FALSE</span>}, <span class="at">error =</span> <span class="cf">function</span>(e) <span class="cn">TRUE</span>)</span>
<span id="cb127-9"><a href="data-analysis.html#cb127-9" tabindex="-1"></a>        })</span>
<span id="cb127-10"><a href="data-analysis.html#cb127-10" tabindex="-1"></a>  })</span>
<span id="cb127-11"><a href="data-analysis.html#cb127-11" tabindex="-1"></a><span class="co"># https://stackoverflow.com/questions/31935516/installing-r-packages-error-in-readrdsfile-error-reading-from-connection/55997765</span></span></code></pre></div>
</details>
<p>To remove packages duplicated in multiple libraries</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="data-analysis.html#cb128-1" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb128-2"><a href="data-analysis.html#cb128-2" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">installed.packages</span>()</span>
<span id="cb128-3"><a href="data-analysis.html#cb128-3" tabindex="-1"></a>libs <span class="ot">&lt;-</span> <span class="fu">.libPaths</span>()</span>
<span id="cb128-4"><a href="data-analysis.html#cb128-4" tabindex="-1"></a><span class="co"># Find Duplicated Packages</span></span>
<span id="cb128-5"><a href="data-analysis.html#cb128-5" tabindex="-1"></a>i1 <span class="ot">&lt;-</span> i[ i[,<span class="st">&#39;LibPath&#39;</span>]<span class="sc">==</span>libs[<span class="dv">1</span>], ]</span>
<span id="cb128-6"><a href="data-analysis.html#cb128-6" tabindex="-1"></a>i2 <span class="ot">&lt;-</span> i[ i[,<span class="st">&#39;LibPath&#39;</span>]<span class="sc">==</span>libs[<span class="dv">2</span>], ]</span>
<span id="cb128-7"><a href="data-analysis.html#cb128-7" tabindex="-1"></a>dups <span class="ot">&lt;-</span> i2[,<span class="st">&#39;Package&#39;</span>] <span class="sc">%in%</span> i1[,<span class="st">&#39;Package&#39;</span>]</span>
<span id="cb128-8"><a href="data-analysis.html#cb128-8" tabindex="-1"></a><span class="fu">all</span>( dups )</span>
<span id="cb128-9"><a href="data-analysis.html#cb128-9" tabindex="-1"></a><span class="co"># Remove</span></span>
<span id="cb128-10"><a href="data-analysis.html#cb128-10" tabindex="-1"></a><span class="fu">remove.packages</span>(  i2[,<span class="st">&#39;Package&#39;</span>], libs[<span class="dv">2</span>] )</span></code></pre></div>
</details>
</div>
</div>
<div id="inputs" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Inputs<a href="data-analysis.html#inputs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="reading-data." class="section level4 unnumbered hasAnchor">
<h4><strong>Reading Data</strong>.<a href="data-analysis.html#reading-data." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The first step in data analysis is getting data into R. There are many ways to do this, depending on your data structure. Perhaps the most common case is reading in a csv file.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="data-analysis.html#cb129-1" tabindex="-1"></a><span class="co"># Read in csv (downloaded from online)</span></span>
<span id="cb129-2"><a href="data-analysis.html#cb129-2" tabindex="-1"></a><span class="co"># download source &#39;http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF19-3.csv&#39;</span></span>
<span id="cb129-3"><a href="data-analysis.html#cb129-3" tabindex="-1"></a><span class="co"># download destination &#39;~/TableF19-3.csv&#39;</span></span>
<span id="cb129-4"><a href="data-analysis.html#cb129-4" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="st">&#39;~/TableF19-3.csv&#39;</span>)</span>
<span id="cb129-5"><a href="data-analysis.html#cb129-5" tabindex="-1"></a> </span>
<span id="cb129-6"><a href="data-analysis.html#cb129-6" tabindex="-1"></a><span class="co"># Can read in csv (directly from online)</span></span>
<span id="cb129-7"><a href="data-analysis.html#cb129-7" tabindex="-1"></a><span class="co"># dat_csv &lt;- read.csv(&#39;http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF19-3.csv&#39;)</span></span></code></pre></div>
</details>
<p>Reading in other types of data can require the use of “packages”. For example, the “wooldridge” package contains datasets on crime. To use this data, we must first install the package on our computer. Then, to access the data, we must first load the package.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data-analysis.html#cb130-1" tabindex="-1"></a><span class="co"># Install R Data Package and Load in</span></span>
<span id="cb130-2"><a href="data-analysis.html#cb130-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;wooldridge&#39;</span>) <span class="co"># only once</span></span>
<span id="cb130-3"><a href="data-analysis.html#cb130-3" tabindex="-1"></a><span class="fu">library</span>(wooldridge) <span class="co"># anytime you want to use the data</span></span>
<span id="cb130-4"><a href="data-analysis.html#cb130-4" tabindex="-1"></a></span>
<span id="cb130-5"><a href="data-analysis.html#cb130-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime2&#39;</span>) </span>
<span id="cb130-6"><a href="data-analysis.html#cb130-6" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime4&#39;</span>)</span></code></pre></div>
</details>
<p>We can use packages to access many different types of data. To read in a Stata data file, for example, we can use the “haven” package.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-analysis.html#cb131-1" tabindex="-1"></a><span class="co"># Read in stata data file from online</span></span>
<span id="cb131-2"><a href="data-analysis.html#cb131-2" tabindex="-1"></a><span class="co">#library(haven)</span></span>
<span id="cb131-3"><a href="data-analysis.html#cb131-3" tabindex="-1"></a><span class="co">#dat_stata &lt;- read_dta(&#39;https://www.ssc.wisc.edu/~bhansen/econometrics/DS2004.dta&#39;)</span></span>
<span id="cb131-4"><a href="data-analysis.html#cb131-4" tabindex="-1"></a><span class="co">#dat_stata &lt;- as.data.frame(dat_stata)</span></span>
<span id="cb131-5"><a href="data-analysis.html#cb131-5" tabindex="-1"></a></span>
<span id="cb131-6"><a href="data-analysis.html#cb131-6" tabindex="-1"></a><span class="co"># For More Introductory Econometrics Data, see </span></span>
<span id="cb131-7"><a href="data-analysis.html#cb131-7" tabindex="-1"></a><span class="co"># https://www.ssc.wisc.edu/~bhansen/econometrics/Econometrics%20Data.zip</span></span>
<span id="cb131-8"><a href="data-analysis.html#cb131-8" tabindex="-1"></a><span class="co"># https://pages.stern.nyu.edu/~wgreene/Text/Edition7/tablelist8new.htm</span></span>
<span id="cb131-9"><a href="data-analysis.html#cb131-9" tabindex="-1"></a><span class="co"># R packages: wooldridge, causaldata, Ecdat, AER, ....</span></span></code></pre></div>
</details>
</div>
<div id="cleaning-data." class="section level4 unnumbered hasAnchor">
<h4><strong>Cleaning Data</strong>.<a href="data-analysis.html#cleaning-data." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Data transformation is often necessary before analysis, so remember to be careful and check your code is doing what you want. (If you have large datasets, you can always test out the code on a sample.)</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="data-analysis.html#cb132-1" tabindex="-1"></a><span class="co"># Function to Create Sample Datasets</span></span>
<span id="cb132-2"><a href="data-analysis.html#cb132-2" tabindex="-1"></a>make_noisy_data <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">b=</span><span class="dv">0</span>){</span>
<span id="cb132-3"><a href="data-analysis.html#cb132-3" tabindex="-1"></a>    <span class="co"># Simple Data Generating Process</span></span>
<span id="cb132-4"><a href="data-analysis.html#cb132-4" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="at">length.out=</span>n) </span>
<span id="cb132-5"><a href="data-analysis.html#cb132-5" tabindex="-1"></a>    e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb132-6"><a href="data-analysis.html#cb132-6" tabindex="-1"></a>    y <span class="ot">&lt;-</span> b<span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb132-7"><a href="data-analysis.html#cb132-7" tabindex="-1"></a>    <span class="co"># Obervations</span></span>
<span id="cb132-8"><a href="data-analysis.html#cb132-8" tabindex="-1"></a>    xy_mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span><span class="fu">seq</span>(x), <span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb132-9"><a href="data-analysis.html#cb132-9" tabindex="-1"></a>    <span class="fu">return</span>(xy_mat)</span>
<span id="cb132-10"><a href="data-analysis.html#cb132-10" tabindex="-1"></a>}</span>
<span id="cb132-11"><a href="data-analysis.html#cb132-11" tabindex="-1"></a></span>
<span id="cb132-12"><a href="data-analysis.html#cb132-12" tabindex="-1"></a><span class="co"># Two simulated datasets</span></span>
<span id="cb132-13"><a href="data-analysis.html#cb132-13" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb132-14"><a href="data-analysis.html#cb132-14" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb132-15"><a href="data-analysis.html#cb132-15" tabindex="-1"></a></span>
<span id="cb132-16"><a href="data-analysis.html#cb132-16" tabindex="-1"></a><span class="co"># Merging data in long format</span></span>
<span id="cb132-17"><a href="data-analysis.html#cb132-17" tabindex="-1"></a>dat_merged_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb132-18"><a href="data-analysis.html#cb132-18" tabindex="-1"></a>    <span class="fu">cbind</span>(dat1,<span class="at">DF=</span><span class="dv">1</span>),</span>
<span id="cb132-19"><a href="data-analysis.html#cb132-19" tabindex="-1"></a>    <span class="fu">cbind</span>(dat2,<span class="at">DF=</span><span class="dv">2</span>))</span></code></pre></div>
</details>
<p>Now suppose we want to transform into wide format</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-analysis.html#cb133-1" tabindex="-1"></a><span class="co"># Merging data in wide format, First Attempt</span></span>
<span id="cb133-2"><a href="data-analysis.html#cb133-2" tabindex="-1"></a>dat_merged_wide <span class="ot">&lt;-</span> <span class="fu">cbind</span>( dat1, dat2)</span>
<span id="cb133-3"><a href="data-analysis.html#cb133-3" tabindex="-1"></a><span class="fu">names</span>(dat_merged_wide) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="fu">names</span>(dat1),<span class="st">&#39;.1&#39;</span>), <span class="fu">paste0</span>(<span class="fu">names</span>(dat2),<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb133-4"><a href="data-analysis.html#cb133-4" tabindex="-1"></a></span>
<span id="cb133-5"><a href="data-analysis.html#cb133-5" tabindex="-1"></a><span class="co"># Merging data in wide format, Second Attempt</span></span>
<span id="cb133-6"><a href="data-analysis.html#cb133-6" tabindex="-1"></a><span class="co"># higher performance</span></span>
<span id="cb133-7"><a href="data-analysis.html#cb133-7" tabindex="-1"></a>dat_merged_wide2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(dat1, dat2,</span>
<span id="cb133-8"><a href="data-analysis.html#cb133-8" tabindex="-1"></a>    <span class="at">by=</span><span class="st">&#39;ID&#39;</span>, <span class="at">suffixes=</span><span class="fu">c</span>(<span class="st">&#39;.1&#39;</span>,<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb133-9"><a href="data-analysis.html#cb133-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb133-10"><a href="data-analysis.html#cb133-10" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide, dat_merged_wide2)</span>
<span id="cb133-11"><a href="data-analysis.html#cb133-11" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb133-12"><a href="data-analysis.html#cb133-12" tabindex="-1"></a><span class="co"># Inspect any differences</span></span>
<span id="cb133-13"><a href="data-analysis.html#cb133-13" tabindex="-1"></a></span>
<span id="cb133-14"><a href="data-analysis.html#cb133-14" tabindex="-1"></a><span class="co"># Merging data in wide format, Third Attempt with dedicated package</span></span>
<span id="cb133-15"><a href="data-analysis.html#cb133-15" tabindex="-1"></a><span class="co"># (highest performance but with new type of object)</span></span>
<span id="cb133-16"><a href="data-analysis.html#cb133-16" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb133-17"><a href="data-analysis.html#cb133-17" tabindex="-1"></a>dat_merged_longDT <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(dat_merged_long)</span>
<span id="cb133-18"><a href="data-analysis.html#cb133-18" tabindex="-1"></a>dat_melted <span class="ot">&lt;-</span> <span class="fu">melt</span>(dat_merged_longDT, <span class="at">id.vars=</span><span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="st">&#39;DF&#39;</span>))</span>
<span id="cb133-19"><a href="data-analysis.html#cb133-19" tabindex="-1"></a>dat_merged_wide3 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dat_melted, ID<span class="sc">~</span>DF<span class="sc">+</span>variable)</span>
<span id="cb133-20"><a href="data-analysis.html#cb133-20" tabindex="-1"></a></span>
<span id="cb133-21"><a href="data-analysis.html#cb133-21" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb133-22"><a href="data-analysis.html#cb133-22" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide, dat_merged_wide3)</span>
<span id="cb133-23"><a href="data-analysis.html#cb133-23" tabindex="-1"></a><span class="do">## [1] FALSE</span></span></code></pre></div>
</details>
<p>Often, however, we ultimately want data in long format</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-analysis.html#cb134-1" tabindex="-1"></a><span class="co"># Merging data in long format, Second Attempt with dedicated package </span></span>
<span id="cb134-2"><a href="data-analysis.html#cb134-2" tabindex="-1"></a>dat_melted2 <span class="ot">&lt;-</span> <span class="fu">melt</span>(dat_merged_wide3, <span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;1_x&quot;</span>,<span class="st">&quot;1_y&quot;</span>,<span class="st">&quot;2_x&quot;</span>,<span class="st">&quot;2_y&quot;</span>))</span>
<span id="cb134-3"><a href="data-analysis.html#cb134-3" tabindex="-1"></a>melt_vars <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">as.character</span>(dat_melted2<span class="sc">$</span>variable),<span class="st">&#39;_&#39;</span>)</span>
<span id="cb134-4"><a href="data-analysis.html#cb134-4" tabindex="-1"></a>dat_melted2<span class="sc">$</span>DF <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">1</span>)</span>
<span id="cb134-5"><a href="data-analysis.html#cb134-5" tabindex="-1"></a>dat_melted2<span class="sc">$</span>variable <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">2</span>)</span>
<span id="cb134-6"><a href="data-analysis.html#cb134-6" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dat_melted2, DF<span class="sc">+</span>ID<span class="sc">~</span>variable)</span>
<span id="cb134-7"><a href="data-analysis.html#cb134-7" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat_merged_long2)</span>
<span id="cb134-8"><a href="data-analysis.html#cb134-8" tabindex="-1"></a></span>
<span id="cb134-9"><a href="data-analysis.html#cb134-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb134-10"><a href="data-analysis.html#cb134-10" tabindex="-1"></a><span class="fu">identical</span>( dat_merged_long2, dat_merged_long)</span>
<span id="cb134-11"><a href="data-analysis.html#cb134-11" tabindex="-1"></a><span class="do">## [1] FALSE</span></span>
<span id="cb134-12"><a href="data-analysis.html#cb134-12" tabindex="-1"></a></span>
<span id="cb134-13"><a href="data-analysis.html#cb134-13" tabindex="-1"></a><span class="co"># Further Inspect</span></span>
<span id="cb134-14"><a href="data-analysis.html#cb134-14" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> dat_merged_long2[,<span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>,<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;DF&#39;</span>)]</span>
<span id="cb134-15"><a href="data-analysis.html#cb134-15" tabindex="-1"></a><span class="fu">mapply</span>( identical, dat_merged_long2, dat_merged_long)</span>
<span id="cb134-16"><a href="data-analysis.html#cb134-16" tabindex="-1"></a><span class="do">##    ID     x     y    DF </span></span>
<span id="cb134-17"><a href="data-analysis.html#cb134-17" tabindex="-1"></a><span class="do">##  TRUE  TRUE  TRUE FALSE</span></span></code></pre></div>
</details>
<p>For more tips, see <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf" class="uri">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf</a> and <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html" class="uri">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html</a>
<!--\url{https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf}--></p>
</div>
</div>
<div id="outputs" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Outputs<a href="data-analysis.html#outputs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="polishing." class="section level4 unnumbered hasAnchor">
<h4><strong>Polishing</strong>.<a href="data-analysis.html#polishing." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Your first figures are typically standard.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-analysis.html#cb135-1" tabindex="-1"></a><span class="co"># Random Data</span></span>
<span id="cb135-2"><a href="data-analysis.html#cb135-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="at">by=</span>.<span class="dv">0002</span>)</span>
<span id="cb135-3"><a href="data-analysis.html#cb135-3" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">1</span>)</span>
<span id="cb135-4"><a href="data-analysis.html#cb135-4" tabindex="-1"></a>y <span class="ot">&lt;-</span> .<span class="dv">25</span><span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb135-5"><a href="data-analysis.html#cb135-5" tabindex="-1"></a></span>
<span id="cb135-6"><a href="data-analysis.html#cb135-6" tabindex="-1"></a><span class="co"># First Drafts</span></span>
<span id="cb135-7"><a href="data-analysis.html#cb135-7" tabindex="-1"></a><span class="co"># qqplot(x, y)</span></span>
<span id="cb135-8"><a href="data-analysis.html#cb135-8" tabindex="-1"></a><span class="co"># plot(x, y)</span></span></code></pre></div>
</details>
<p>Edit your plot to focus on the most useful information. For others to easily comprehend your work, you must also polish the plot.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-analysis.html#cb136-1" tabindex="-1"></a><span class="co"># Second Draft: Focus</span></span>
<span id="cb136-2"><a href="data-analysis.html#cb136-2" tabindex="-1"></a><span class="co"># (In this example: comparing shapes)</span></span>
<span id="cb136-3"><a href="data-analysis.html#cb136-3" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">scale</span>(x)</span>
<span id="cb136-4"><a href="data-analysis.html#cb136-4" tabindex="-1"></a>ys <span class="ot">&lt;-</span> <span class="fu">scale</span>(y)</span>
<span id="cb136-5"><a href="data-analysis.html#cb136-5" tabindex="-1"></a><span class="co"># qqplot(xs, ys)</span></span>
<span id="cb136-6"><a href="data-analysis.html#cb136-6" tabindex="-1"></a></span>
<span id="cb136-7"><a href="data-analysis.html#cb136-7" tabindex="-1"></a><span class="co"># Third Draft: Polish</span></span>
<span id="cb136-8"><a href="data-analysis.html#cb136-8" tabindex="-1"></a><span class="fu">qqplot</span>(ys, xs, </span>
<span id="cb136-9"><a href="data-analysis.html#cb136-9" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(<span class="st">&#39;[&#39;</span><span class="sc">~</span>X<span class="sc">-</span><span class="fu">bar</span>(X)<span class="sc">~</span><span class="st">&#39;] /&#39;</span><span class="sc">~</span>s[X]),</span>
<span id="cb136-10"><a href="data-analysis.html#cb136-10" tabindex="-1"></a>    <span class="at">ylab=</span><span class="fu">expression</span>(<span class="st">&#39;[&#39;</span><span class="sc">~</span>Y<span class="sc">-</span><span class="fu">bar</span>(Y)<span class="sc">~</span><span class="st">&#39;] /&#39;</span><span class="sc">~</span>s[Y]),</span>
<span id="cb136-11"><a href="data-analysis.html#cb136-11" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">cex=</span>.<span class="dv">5</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">2</span>))</span>
<span id="cb136-12"><a href="data-analysis.html#cb136-12" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a=</span><span class="dv">0</span>, <span class="at">b=</span><span class="dv">1</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
</details>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<p>When polishing, you must do two things</p>
<ul>
<li>Add details that are necessary to understand the figure</li>
<li>Remove unnecessary details (see e.g., <a href="https://www.edwardtufte.com/notebook/chartjunk/" class="uri">https://www.edwardtufte.com/notebook/chartjunk/</a> and <a href="https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/" class="uri">https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/</a>)</li>
</ul>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-analysis.html#cb137-1" tabindex="-1"></a><span class="co"># Another Example</span></span>
<span id="cb137-2"><a href="data-analysis.html#cb137-2" tabindex="-1"></a>xy_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb137-3"><a href="data-analysis.html#cb137-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.9</span>), <span class="at">new=</span>F)</span>
<span id="cb137-4"><a href="data-analysis.html#cb137-4" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, xy_dat, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">05</span>), <span class="at">cex=</span>.<span class="dv">5</span>,</span>
<span id="cb137-5"><a href="data-analysis.html#cb137-5" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">&#39;&#39;</span>, <span class="at">ylab=</span><span class="st">&#39;&#39;</span>) <span class="co"># Format Axis Labels Seperately</span></span>
<span id="cb137-6"><a href="data-analysis.html#cb137-6" tabindex="-1"></a><span class="fu">mtext</span>( <span class="st">&#39;y=0.25 x + e</span><span class="sc">\n</span><span class="st"> e ~ standard-normal&#39;</span>, <span class="dv">2</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb137-7"><a href="data-analysis.html#cb137-7" tabindex="-1"></a><span class="fu">mtext</span>( <span class="fu">expression</span>(x<span class="sc">%in%</span><span class="er">~</span><span class="st">&#39;[0,10]&#39;</span>), <span class="dv">1</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb137-8"><a href="data-analysis.html#cb137-8" tabindex="-1"></a><span class="co">#abline( lm(y~x, data=xy_dat), lty=2)</span></span>
<span id="cb137-9"><a href="data-analysis.html#cb137-9" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;Plot with good features, but too excessive in several ways&#39;</span>,</span>
<span id="cb137-10"><a href="data-analysis.html#cb137-10" tabindex="-1"></a>    <span class="at">adj=</span><span class="dv">0</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb137-11"><a href="data-analysis.html#cb137-11" tabindex="-1"></a></span>
<span id="cb137-12"><a href="data-analysis.html#cb137-12" tabindex="-1"></a><span class="co"># Outer Legend (https://stackoverflow.com/questions/3932038/)</span></span>
<span id="cb137-13"><a href="data-analysis.html#cb137-13" tabindex="-1"></a>outer_legend <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb137-14"><a href="data-analysis.html#cb137-14" tabindex="-1"></a>  opar <span class="ot">&lt;-</span> <span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb137-15"><a href="data-analysis.html#cb137-15" tabindex="-1"></a>    <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb137-16"><a href="data-analysis.html#cb137-16" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">par</span>(opar))</span>
<span id="cb137-17"><a href="data-analysis.html#cb137-17" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">type=</span><span class="st">&#39;n&#39;</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>)</span>
<span id="cb137-18"><a href="data-analysis.html#cb137-18" tabindex="-1"></a>  <span class="fu">legend</span>(...)</span>
<span id="cb137-19"><a href="data-analysis.html#cb137-19" tabindex="-1"></a>}</span>
<span id="cb137-20"><a href="data-analysis.html#cb137-20" tabindex="-1"></a><span class="fu">outer_legend</span>(<span class="st">&#39;topright&#39;</span>, <span class="at">legend=</span><span class="st">&#39;single data point&#39;</span>,</span>
<span id="cb137-21"><a href="data-analysis.html#cb137-21" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;do you see the normal distribution?&#39;</span>,</span>
<span id="cb137-22"><a href="data-analysis.html#cb137-22" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">1</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>)</span></code></pre></div>
</details>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
<p>For useful tips, see C. Wilke (2019) “Fundamentals of Data Visualization: A Primer on Making Informative and
Compelling Figures” <a href="https://clauswilke.com/dataviz/" class="uri">https://clauswilke.com/dataviz/</a></p>
</div>
<div id="saving." class="section level4 unnumbered hasAnchor">
<h4><strong>Saving</strong>.<a href="data-analysis.html#saving." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can export figures with specific dimensions</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-analysis.html#cb138-1" tabindex="-1"></a><span class="fu">pdf</span>( <span class="st">&#39;Figures/plot_example.pdf&#39;</span>, <span class="at">height=</span><span class="dv">5</span>, <span class="at">width=</span><span class="dv">5</span>)</span>
<span id="cb138-2"><a href="data-analysis.html#cb138-2" tabindex="-1"></a><span class="co"># plot goes here</span></span>
<span id="cb138-3"><a href="data-analysis.html#cb138-3" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</details>
<p>For plotting math, see
<a href="https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html" class="uri">https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html</a> and
<a href="https://library.virginia.edu/data/articles/mathematical-annotation-in-r" class="uri">https://library.virginia.edu/data/articles/mathematical-annotation-in-r</a></p>
<p>For exporting options, see <code>?pdf</code>.
For saving other types of files, see <code>png("*.png")</code>, <code>tiff("*.tiff")</code>, and <code>jpeg("*.jpg")</code></p>
<p>For some things to avoid, see <a href="https://www.data-to-viz.com/caveats.html" class="uri">https://www.data-to-viz.com/caveats.html</a></p>
</div>
<div id="interactive-figures." class="section level4 unnumbered hasAnchor">
<h4><strong>Interactive Figures</strong>.<a href="data-analysis.html#interactive-figures." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>Histograms</strong>. See <a href="https://plotly.com/r/histograms/" class="uri">https://plotly.com/r/histograms/</a></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-analysis.html#cb139-1" tabindex="-1"></a>pop_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(USArrests<span class="sc">$</span>UrbanPop)</span>
<span id="cb139-2"><a href="data-analysis.html#cb139-2" tabindex="-1"></a>murder_lowpop <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&lt;</span> pop_mean,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb139-3"><a href="data-analysis.html#cb139-3" tabindex="-1"></a>murder_highpop <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&gt;=</span> pop_mean,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb139-4"><a href="data-analysis.html#cb139-4" tabindex="-1"></a></span>
<span id="cb139-5"><a href="data-analysis.html#cb139-5" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb139-6"><a href="data-analysis.html#cb139-6" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">alpha=</span><span class="fl">0.6</span>, </span>
<span id="cb139-7"><a href="data-analysis.html#cb139-7" tabindex="-1"></a>    <span class="at">hovertemplate=</span><span class="st">&quot;%{y}&quot;</span>)</span>
<span id="cb139-8"><a href="data-analysis.html#cb139-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(murder_lowpop, <span class="at">name=</span><span class="st">&#39;Low Pop. (&lt; Mean)&#39;</span>)</span>
<span id="cb139-9"><a href="data-analysis.html#cb139-9" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(murder_highpop, <span class="at">name=</span><span class="st">&#39;High Pop (&gt;= Mean)&#39;</span>)</span>
<span id="cb139-10"><a href="data-analysis.html#cb139-10" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">barmode=</span><span class="st">&quot;stack&quot;</span>) <span class="co"># barmode=&quot;overlay&quot;</span></span>
<span id="cb139-11"><a href="data-analysis.html#cb139-11" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb139-12"><a href="data-analysis.html#cb139-12" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Crime and Urbanization in America 1975&quot;</span>,</span>
<span id="cb139-13"><a href="data-analysis.html#cb139-13" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>),</span>
<span id="cb139-14"><a href="data-analysis.html#cb139-14" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Number of States&#39;</span>),</span>
<span id="cb139-15"><a href="data-analysis.html#cb139-15" tabindex="-1"></a>    <span class="at">legend=</span><span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text=</span><span class="st">&#39;&lt;b&gt; % Urban Pop. &lt;/b&gt;&#39;</span>))</span>
<span id="cb139-16"><a href="data-analysis.html#cb139-16" tabindex="-1"></a>)</span>
<span id="cb139-17"><a href="data-analysis.html#cb139-17" tabindex="-1"></a>fig</span></code></pre></div>
</details>
<div class="plotly html-widget html-fill-item" id="htmlwidget-ad5be67f15e820ee3ed2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ad5be67f15e820ee3ed2">{"x":{"visdat":{"11bdf1bdb2af1":["function () ","plotlyVisDat"]},"cur_data":"11bdf1bdb2af1","attrs":{"11bdf1bdb2af1":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"Low Pop. (< Mean)","inherit":true},"11bdf1bdb2af1.1":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":"High Pop (>= Mean)","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of States"},"legend":{"title":{"text":"<b> % Urban Pop. <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"Low Pop. (< Mean)","marker":{"color":"rgba(31,119,180,0.6)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,0.6)"},"error_x":{"color":"rgba(31,119,180,0.6)"},"xaxis":"x","yaxis":"y","frame":null},{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":"High Pop (>= Mean)","marker":{"color":"rgba(255,127,14,0.6)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,0.6)"},"error_x":{"color":"rgba(255,127,14,0.6)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Boxplots</strong>. See <a href="https://plotly.com/r/box-plots/" class="uri">https://plotly.com/r/box-plots/</a></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-analysis.html#cb140-1" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb140-2"><a href="data-analysis.html#cb140-2" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(USArrests,</span>
<span id="cb140-3"><a href="data-analysis.html#cb140-3" tabindex="-1"></a>    <span class="at">y=</span><span class="sc">~</span>Murder, <span class="at">color=</span><span class="sc">~</span><span class="fu">cut</span>(UrbanPop,<span class="dv">4</span>),</span>
<span id="cb140-4"><a href="data-analysis.html#cb140-4" tabindex="-1"></a>    <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">type=</span><span class="st">&quot;box&quot;</span>,</span>
<span id="cb140-5"><a href="data-analysis.html#cb140-5" tabindex="-1"></a>    <span class="at">pointpos=</span><span class="dv">0</span>, <span class="at">boxpoints =</span> <span class="st">&#39;all&#39;</span>,</span>
<span id="cb140-6"><a href="data-analysis.html#cb140-6" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,    </span>
<span id="cb140-7"><a href="data-analysis.html#cb140-7" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb140-8"><a href="data-analysis.html#cb140-8" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb140-9"><a href="data-analysis.html#cb140-9" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb140-10"><a href="data-analysis.html#cb140-10" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder))    </span>
<span id="cb140-11"><a href="data-analysis.html#cb140-11" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">layout</span>(fig,</span>
<span id="cb140-12"><a href="data-analysis.html#cb140-12" tabindex="-1"></a>    <span class="at">showlegend=</span><span class="cn">FALSE</span>,</span>
<span id="cb140-13"><a href="data-analysis.html#cb140-13" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb140-14"><a href="data-analysis.html#cb140-14" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb140-15"><a href="data-analysis.html#cb140-15" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>))</span>
<span id="cb140-16"><a href="data-analysis.html#cb140-16" tabindex="-1"></a>fig</span></code></pre></div>
</details>
<div class="plotly html-widget html-fill-item" id="htmlwidget-1ed3baf16c6ef7730bda" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1ed3baf16c6ef7730bda">{"x":{"visdat":{"11bdf4551a773":["function () ","plotlyVisDat"]},"cur_data":"11bdf4551a773","attrs":{"11bdf4551a773":{"y":{},"pointpos":0,"boxpoints":"all","hoverinfo":"text","text":{},"color":{},"alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(102,194,165,0.6)","y":[16.100000000000001,13,0.80000000000000004,3.7999999999999998,2.2000000000000002,5.7000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text"],"text":["<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7"],"type":"box","name":"(31.9,46.8]","marker":{"color":"rgba(102,194,165,0.6)","line":{"color":"rgba(102,194,165,1)"}},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.6)","y":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,2.2000000000000002,9.6999999999999993,2.1000000000000001,6,2.1000000000000001,14.4,13.199999999999999,6.7999999999999998],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"type":"box","name":"(46.8,61.5]","marker":{"color":"rgba(252,141,98,0.6)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.6)","y":[5.9000000000000004,7.2000000000000002,6,15.4,11.300000000000001,12.1,2.7000000000000002,9,4.2999999999999998,11.4,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,8.5,4,2.6000000000000001],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6"],"type":"box","name":"(61.5,76.2]","marker":{"color":"rgba(141,160,203,0.6)","line":{"color":"rgba(141,160,203,1)"}},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(231,138,195,0.6)","y":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,15.4,5.2999999999999998,10.4,4.4000000000000004,12.199999999999999,7.4000000000000004,11.1,3.3999999999999999,12.699999999999999,3.2000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2"],"type":"box","name":"(76.2,91.1]","marker":{"color":"rgba(231,138,195,0.6)","line":{"color":"rgba(231,138,195,1)"}},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Scatterplots</strong>. See <a href="https://plotly.com/r/bubble-charts/" class="uri">https://plotly.com/r/bubble-charts/</a></p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-analysis.html#cb141-1" tabindex="-1"></a><span class="co"># Simple Scatter Plot</span></span>
<span id="cb141-2"><a href="data-analysis.html#cb141-2" tabindex="-1"></a><span class="co">#plot(Assault~UrbanPop, USArrests, col=grey(0,.5), pch=16,</span></span>
<span id="cb141-3"><a href="data-analysis.html#cb141-3" tabindex="-1"></a><span class="co">#    cex=USArrests$Murder/diff(range(USArrests$Murder))*2,</span></span>
<span id="cb141-4"><a href="data-analysis.html#cb141-4" tabindex="-1"></a><span class="co">#    main=&#39;US Murder arrests (per 100,000)&#39;)</span></span>
<span id="cb141-5"><a href="data-analysis.html#cb141-5" tabindex="-1"></a></span>
<span id="cb141-6"><a href="data-analysis.html#cb141-6" tabindex="-1"></a><span class="co"># Scatter Plot</span></span>
<span id="cb141-7"><a href="data-analysis.html#cb141-7" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb141-8"><a href="data-analysis.html#cb141-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb141-9"><a href="data-analysis.html#cb141-9" tabindex="-1"></a>    USArrests, <span class="at">x =</span> <span class="sc">~</span>UrbanPop, <span class="at">y =</span> <span class="sc">~</span>Assault,</span>
<span id="cb141-10"><a href="data-analysis.html#cb141-10" tabindex="-1"></a>    <span class="at">mode=</span><span class="st">&#39;markers&#39;</span>,</span>
<span id="cb141-11"><a href="data-analysis.html#cb141-11" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb141-12"><a href="data-analysis.html#cb141-12" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,</span>
<span id="cb141-13"><a href="data-analysis.html#cb141-13" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb141-14"><a href="data-analysis.html#cb141-14" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb141-15"><a href="data-analysis.html#cb141-15" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb141-16"><a href="data-analysis.html#cb141-16" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder),</span>
<span id="cb141-17"><a href="data-analysis.html#cb141-17" tabindex="-1"></a>    <span class="at">color=</span><span class="sc">~</span>Murder,</span>
<span id="cb141-18"><a href="data-analysis.html#cb141-18" tabindex="-1"></a>    <span class="at">marker=</span><span class="fu">list</span>(</span>
<span id="cb141-19"><a href="data-analysis.html#cb141-19" tabindex="-1"></a>        <span class="at">size=</span><span class="sc">~</span>Murder,</span>
<span id="cb141-20"><a href="data-analysis.html#cb141-20" tabindex="-1"></a>        <span class="at">opacity=</span><span class="fl">0.5</span>,</span>
<span id="cb141-21"><a href="data-analysis.html#cb141-21" tabindex="-1"></a>        <span class="at">showscale=</span>T,  </span>
<span id="cb141-22"><a href="data-analysis.html#cb141-22" tabindex="-1"></a>        <span class="at">colorbar =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murder Arrests (per 100,000)&#39;</span>)))</span>
<span id="cb141-23"><a href="data-analysis.html#cb141-23" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">layout</span>(fig,</span>
<span id="cb141-24"><a href="data-analysis.html#cb141-24" tabindex="-1"></a>    <span class="at">showlegend=</span>F,</span>
<span id="cb141-25"><a href="data-analysis.html#cb141-25" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb141-26"><a href="data-analysis.html#cb141-26" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb141-27"><a href="data-analysis.html#cb141-27" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Assault Arrests per 100,000 People&#39;</span>))</span>
<span id="cb141-28"><a href="data-analysis.html#cb141-28" tabindex="-1"></a>fig</span></code></pre></div>
</details>
<div class="plotly html-widget html-fill-item" id="htmlwidget-698f92e23f6e5bd07007" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-698f92e23f6e5bd07007">{"x":{"visdat":{"11bdf5208ee12":["function () ","plotlyVisDat"]},"cur_data":"11bdf5208ee12","attrs":{"11bdf5208ee12":{"x":{},"y":{},"mode":"markers","hoverinfo":"text","text":{},"marker":{"size":{},"opacity":0.5,"showscale":true,"colorbar":{"title":"Murder Arrests (per 100,000)"}},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Assault Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[58,48,80,50,91,78,77,72,80,60,83,54,83,65,57,66,52,66,51,67,85,74,66,44,70,53,62,81,56,89,70,86,45,44,75,68,67,72,87,48,45,59,80,80,32,63,73,39,66,60],"y":[236,263,294,190,276,204,110,238,335,211,46,120,249,113,56,115,109,249,83,300,149,255,72,259,178,109,102,252,57,159,285,254,337,45,120,151,159,106,174,279,86,188,201,120,48,156,145,81,53,161],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"marker":{"colorbar":{"title":"Murder Arrests (per 100,000)","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"size":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"opacity":0.5,"line":{"colorbar":{"title":"","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998]}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null},{"x":[32,91],"y":[45,337],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Murder","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.80000000000000004,17.399999999999999],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>If you have many point, you can also use a 2D histogram instead. <a href="https://plotly.com/r/2D-Histogram/" class="uri">https://plotly.com/r/2D-Histogram/</a>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-analysis.html#cb142-1" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb142-2"><a href="data-analysis.html#cb142-2" tabindex="-1"></a>    USArrests, <span class="at">x =</span> <span class="sc">~</span>UrbanPop, <span class="at">y =</span> <span class="sc">~</span>Assault)</span>
<span id="cb142-3"><a href="data-analysis.html#cb142-3" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">add_histogram2d</span>(fig, <span class="at">nbinsx=</span><span class="dv">25</span>, <span class="at">nbinsy=</span><span class="dv">25</span>)</span>
<span id="cb142-4"><a href="data-analysis.html#cb142-4" tabindex="-1"></a>fig</span></code></pre></div>
</details>
</div>
<div id="tables." class="section level4 unnumbered hasAnchor">
<h4><strong>Tables</strong>.<a href="data-analysis.html#tables." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can also export tables in a variety of formats, for other software programs to easily read</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data-analysis.html#cb143-1" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb143-2"><a href="data-analysis.html#cb143-2" tabindex="-1"></a><span class="co"># summary statistics</span></span>
<span id="cb143-3"><a href="data-analysis.html#cb143-3" tabindex="-1"></a><span class="fu">stargazer</span>(USArrests,</span>
<span id="cb143-4"><a href="data-analysis.html#cb143-4" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;html&#39;</span>, </span>
<span id="cb143-5"><a href="data-analysis.html#cb143-5" tabindex="-1"></a>    <span class="at">summary=</span>T,</span>
<span id="cb143-6"><a href="data-analysis.html#cb143-6" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Summary Statistics for USArrests&#39;</span>)</span></code></pre></div>
</details>
<table style="text-align:center">
<caption>
<strong>Summary Statistics for USArrests</strong>
</caption>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Murder
</td>
<td>
50
</td>
<td>
7.788
</td>
<td>
4.356
</td>
<td>
0.800
</td>
<td>
17.400
</td>
</tr>
<tr>
<td style="text-align:left">
Assault
</td>
<td>
50
</td>
<td>
170.760
</td>
<td>
83.338
</td>
<td>
45
</td>
<td>
337
</td>
</tr>
<tr>
<td style="text-align:left">
UrbanPop
</td>
<td>
50
</td>
<td>
65.540
</td>
<td>
14.475
</td>
<td>
32
</td>
<td>
91
</td>
</tr>
<tr>
<td style="text-align:left">
Rape
</td>
<td>
50
</td>
<td>
21.232
</td>
<td>
9.366
</td>
<td>
7.300
</td>
<td>
46.000
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>You can create a basic interactive table to explore raw data.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-analysis.html#cb144-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;USArrests&quot;</span>)</span>
<span id="cb144-2"><a href="data-analysis.html#cb144-2" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb144-3"><a href="data-analysis.html#cb144-3" tabindex="-1"></a><span class="fu">reactable</span>(USArrests, <span class="at">filterable=</span>T, <span class="at">highlight=</span>T)</span></code></pre></div>
</details>
<div class="reactable html-widget html-fill-item" id="htmlwidget-f55662fd77682aab1341" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f55662fd77682aab1341">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],"Murder":[13.2,10,8.1,8.8,9,7.9,3.3,5.9,15.4,17.4,5.3,2.6,10.4,7.2,2.2,6,9.7,15.4,2.1,11.3,4.4,12.1,2.7,16.1,9,6,4.3,12.2,2.1,7.4,11.4,11.1,13,0.8,7.3,6.6,4.9,6.3,3.4,14.4,3.8,13.2,12.7,3.2,2.2,8.5,4,5.7,2.6,6.8],"Assault":[236,263,294,190,276,204,110,238,335,211,46,120,249,113,56,115,109,249,83,300,149,255,72,259,178,109,102,252,57,159,285,254,337,45,120,151,159,106,174,279,86,188,201,120,48,156,145,81,53,161],"UrbanPop":[58,48,80,50,91,78,77,72,80,60,83,54,83,65,57,66,52,66,51,67,85,74,66,44,70,53,62,81,56,89,70,86,45,44,75,68,67,72,87,48,45,59,80,80,32,63,73,39,66,60],"Rape":[21.2,44.5,31,19.5,40.6,38.7,11.1,15.8,31.9,25.8,20.2,14.2,24,21,11.3,18,16.3,22.2,7.8,27.8,16.3,35.1,14.9,17.1,28.2,16.4,16.5,46,9.5,18.8,32.1,26.1,16.1,7.3,21.4,20,29.3,14.9,8.3,22.5,12.8,26.9,25.5,22.9,11.2,20.7,26.2,9.3,10.8,15.6]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"Murder","name":"Murder","type":"numeric"},{"id":"Assault","name":"Assault","type":"numeric"},{"id":"UrbanPop","name":"UrbanPop","type":"numeric"},{"id":"Rape","name":"Rape","type":"numeric"}],"filterable":true,"highlight":true,"dataKey":"c49af85e0b2038b0b71caf77db2bacb3"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>For further data exploration, your plots can also be made <a href="https://r-graph-gallery.com/interactive-charts.html">interactive</a> via <a href="https://plotly.com/r/" class="uri">https://plotly.com/r/</a>. For more details, see <a href="https://plotly-r.com/">examples</a> and then <a href="https://bookdown.org/paulcbauer/applied-data-visualization/10-plotly.html">applications</a>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data-analysis.html#cb145-1" tabindex="-1"></a><span class="co">#install.packages(&quot;plotly&quot;)</span></span>
<span id="cb145-2"><a href="data-analysis.html#cb145-2" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
</details>
</div>
<div id="custom-figures." class="section level4 unnumbered hasAnchor">
<h4><strong>Custom Figures</strong>.<a href="data-analysis.html#custom-figures." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Many of the best plots are custom made (see <a href="https://www.r-graph-gallery.com/" class="uri">https://www.r-graph-gallery.com/</a>). Here are some ones that I have made over the years.</p>
<!-- ## CONVERT IMAGES
for pdfile in *.pdf ; do 
convert -verbose -density 500  "${pdfile}" "${pdfile%.*}".png;
done
-->
<p><img src="Figures_Manual/Vegetation.png" width="2400" /></p>
<p><img src="Figures_Manual/Balances_Trial.png" width="3000" /></p>
<p><img src="Figures_Manual/PopulationDensity2.png" width="3000" /></p>
<p><img src="Figures_Manual/SampleExample.png" width="1750" /></p>
<p><img src="Figures_Manual/SemiInclusive_Example.png" width="3000" /></p>
<p><img src="Figures_Manual/Stability_3.png" width="1000" /></p>
<p><img src="Figures_Manual/EvolutionaryDynamics.png" width="3000" /></p>
<p><img src="Figures_Manual/Experiment_Timeline.png" width="1750" /></p>
</div>
</div>
<div id="r-markdown-reports" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> R-Markdown Reports<a href="data-analysis.html#r-markdown-reports" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will use R Markdown for communicating results to each other. Note that R and R Markdown are both languages. R studio interprets R code make statistical computations and interprets R Markdown code to produce pretty documents that contain both writing and statistics. Altogether, your project will use</p>
<ul>
<li>R: does statistical computations</li>
<li>R Markdown: formats statistical computations for sharing</li>
<li>Rstudio: graphical user interface that allows you to easily use both R and R Markdown.</li>
</ul>
<p>Homework reports are probably the smallest document you can create. These little reports are almost entirely self-contained (showing both code and output). To make them, you will need to</p>
<p>First install <a href="http://pandoc.org">Pandoc</a> on your computer.</p>
<p>Then install any required packages</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-analysis.html#cb146-1" tabindex="-1"></a><span class="co"># Packages for Rmarkdown</span></span>
<span id="cb146-2"><a href="data-analysis.html#cb146-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;knitr&quot;</span>)</span>
<span id="cb146-3"><a href="data-analysis.html#cb146-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;rmarkdown&quot;</span>)</span>
<span id="cb146-4"><a href="data-analysis.html#cb146-4" tabindex="-1"></a></span>
<span id="cb146-5"><a href="data-analysis.html#cb146-5" tabindex="-1"></a><span class="co"># Other packages frequently used</span></span>
<span id="cb146-6"><a href="data-analysis.html#cb146-6" tabindex="-1"></a><span class="co">#install.packages(&quot;plotly&quot;) #for interactive plots</span></span>
<span id="cb146-7"><a href="data-analysis.html#cb146-7" tabindex="-1"></a><span class="co">#install.packages(&quot;sf&quot;) #for spatial data</span></span></code></pre></div>
</details>
<p>We will create simple reproducible reports via R Markdown.</p>
<div id="example-1-data-scientism." class="section level4 unnumbered hasAnchor">
<h4><strong>Example 1: Data Scientism</strong>.<a href="data-analysis.html#example-1-data-scientism." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!-- 
**Clean workspace**.
Delete any temporary files which you do not want (or start a fresh session).

(for example *summarytable_example.txt* and *plot_example.pdf* and section *Data analysis examples: custom figures*)
-->
<p>See <a href="https://jadamso.github.io/Rbooks/Templates/DataScientism.html">DataScientism.html</a> and then create it by</p>
<ul>
<li>Clicking the “Code” button in the top right and then “Download Rmd”</li>
<li>Open with Rstudio</li>
<li>Change the name and title <em>to your own</em>, make other edits</li>
<li>Then point-and-click “knit”</li>
</ul>
<p>Alternatively,</p>
<ul>
<li>Download the source file from <a href="https://jadamso.github.io/Rbooks/Templates/DataScientism.Rmd">DataScientism.Rmd</a></li>
<li>Change the name and title <em>to your own</em>, make other edits</li>
<li>Use the console to run</li>
</ul>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-analysis.html#cb147-1" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">&#39;DataScientism.Rmd&#39;</span>)</span></code></pre></div>
</details>
</div>
<div id="example-2-homework-assignment." class="section level4 unnumbered hasAnchor">
<h4><strong>Example 2: Homework Assignment</strong>.<a href="data-analysis.html#example-2-homework-assignment." class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Below is a template of what homework questions (and answers) look like. Create a new <em>.Rmd</em> file from scratch and produce a <em>.html</em> file that looks similar to this:</p>
<p><em>Problem:</em>
Simulate 100 random observations of the form <span class="math inline">\(y=x\beta+\epsilon\)</span> and plot the relationship. Plot and explore the data interactively via plotly, <a href="https://plotly.com/r/line-and-scatter/" class="uri">https://plotly.com/r/line-and-scatter/</a>. Then play around with different styles, <a href="https://www.r-graph-gallery.com/13-scatter-plot.html" class="uri">https://www.r-graph-gallery.com/13-scatter-plot.html</a>, to best express your point.</p>
<p><em>Solution:</em>
I simulate <span class="math inline">\(400\)</span> observations for <span class="math inline">\(\epsilon \sim 2\times N(0,1)\)</span> and <span class="math inline">\(\beta=4\)</span>, as seen in this single chunk. Notice an upward trend.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-analysis.html#cb148-1" tabindex="-1"></a><span class="co"># Simulation</span></span>
<span id="cb148-2"><a href="data-analysis.html#cb148-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb148-3"><a href="data-analysis.html#cb148-3" tabindex="-1"></a>E <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n)</span>
<span id="cb148-4"><a href="data-analysis.html#cb148-4" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">seq</span>(n)</span>
<span id="cb148-5"><a href="data-analysis.html#cb148-5" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="dv">4</span><span class="sc">*</span>X <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>E</span>
<span id="cb148-6"><a href="data-analysis.html#cb148-6" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb148-7"><a href="data-analysis.html#cb148-7" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb148-8"><a href="data-analysis.html#cb148-8" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">X=</span>X,<span class="at">Y=</span>Y)</span>
<span id="cb148-9"><a href="data-analysis.html#cb148-9" tabindex="-1"></a><span class="fu">plot_ly</span>( <span class="at">data=</span>dat, <span class="at">x=</span><span class="sc">~</span>X, <span class="at">y=</span><span class="sc">~</span>Y)</span></code></pre></div>
</details>
<div class="plotly html-widget html-fill-item" id="htmlwidget-21e81abc8fcc26c5ded2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-21e81abc8fcc26c5ded2">{"x":{"visdat":{"11bdf391b9120":["function () ","plotlyVisDat"]},"cur_data":"11bdf391b9120","attrs":{"11bdf391b9120":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"X"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Y"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100],"y":[3.2099031982496227,9.2498680919275156,10.820422189796359,14.397096368498191,20.319445740845367,25.351911496794667,29.947217084671017,33.310452110787004,37.299360397651846,40.475278378943507,44.770855724791026,46.354721833395985,55.021229624624254,56.222879960354007,62.859336043005271,66.224884287956826,69.261357072029099,71.032757370235984,73.119101915215353,78.227962249160726,86.124835008268164,91.209388091384099,94.526198376743352,93.814988212264282,100.13461275468805,102.48791052576253,105.94404517021736,110.22976961304758,117.36314159699107,122.22155749831229,122.86842163201798,129.00507377517226,132.57735455554692,138.11606367246785,141.50323514654858,146.27239939602083,148.14248574007701,151.73663165644379,153.22361626715292,159.96935191622688,163.64092662838789,166.3679285467741,168.90828599008483,172.62064059879356,182.36069730158388,184.97258904498341,183.25800533719666,195.36803833353866,194.46609462283635,196.23649662080177,201.11178608867982,210.06582164105112,213.91263142992057,217.00681541974456,221.39417104010403,224.63372084833875,226.7238307792814,231.70218102590974,239.61443216835329,238.49560396892372,245.04860733617934,245.70862651868487,255.49114234983278,256.06018503227762,263.05990548891896,266.98534882627837,269.96577840410993,274.00831958665037,277.02432003431386,280.91828901485184,285.2976351812228,288.87390025790791,290.46372339574714,293.54795304813922,301.56588154129292,302.98289045836322,307.95373985619602,311.47011214609853,314.26287903426993,320.04956835232258,322.48083729808229,330.17970919910846,332.05747564149101,334.09684200102635,335.44514504164653,343.95991576198975,346.56799580194621,356.12888562041843,358.98258036500931,358.44144729464864,367.6017155265663,372.45123502113427,367.36840691642362,377.15143769211772,379.90783636878109,386.42506523071086,384.18758729731007,389.88696117178517,398.17962192370152,397.74445583228697],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data-analysis.html#cb149-1" tabindex="-1"></a></span>
<span id="cb149-2"><a href="data-analysis.html#cb149-2" tabindex="-1"></a><span class="co"># To Do:</span></span>
<span id="cb149-3"><a href="data-analysis.html#cb149-3" tabindex="-1"></a><span class="co"># 1. Fit a regression line</span></span>
<span id="cb149-4"><a href="data-analysis.html#cb149-4" tabindex="-1"></a><span class="co"># 2. Color points by their residual value</span></span></code></pre></div>
</details>
<!---
*Question 2:*
Verify the definition of a line segment for points $A=(0,3), B=(1,5)$ using a $101 \times 101$ grid. Recall a line segment is all points $s$ that have $d(s, A) + d(s, B) = d(A, B)$.

*Answer* 

``` r
library(sf)
s_1 <- c(0,3)
s_2 <- c(1,5)
Seg1 <- st_linestring( rbind(s_1,s_2) )
grid_pts <- expand.grid(
    x=seq(s_1[1],s_2[1], length.out=101),
    y=seq(s_1[2],s_2[2], length.out=101)
)

Seg1_dist <- dist( Seg1 )
grid_pts$dist <- apply(grid_pts, 1, function(s){
    dist( rbind(s,s_1) ) + dist( rbind(s,s_2) ) })
grid_pts$seg <- grid_pts$dist == Seg1_dist

D_point_seg <- st_multipoint( as.matrix(grid_pts[grid_pts$seg==T,1:2]) ) 
D_point_notseg <- st_multipoint( as.matrix(grid_pts[grid_pts$seg==F,1:2]) ) 

plot(Seg1)
points(D_point_notseg, col=2, pch='.')
points(D_point_seg, pch=16)
box()
```
--->
</div>
</div>
<div id="further-reading-5" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Further Reading<a href="data-analysis.html#further-reading-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For more guidance on how to create Rmarkdown documents, see</p>
<ul>
<li><a href="https://github.com/rstudio/cheatsheets/blob/main/rmarkdown.pdf" class="uri">https://github.com/rstudio/cheatsheets/blob/main/rmarkdown.pdf</a></li>
<li><a href="https://cran.r-project.org/web/packages/rmarkdown/vignettes/rmarkdown.html" class="uri">https://cran.r-project.org/web/packages/rmarkdown/vignettes/rmarkdown.html</a></li>
<li><a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/" class="uri">https://bookdown.org/yihui/rmarkdown-cookbook/</a></li>
<li><a href="https://dept.stat.lsa.umich.edu/~jerrick/courses/stat701/notes/rmarkdown.html" class="uri">https://dept.stat.lsa.umich.edu/~jerrick/courses/stat701/notes/rmarkdown.html</a></li>
<li>An Introduction to the Advanced Theory and Practice of Nonparametric Econometrics. Raccine 2019. Appendices B &amp; D.</li>
<li><a href="https://rmd4sci.njtierney.com/using-rmarkdown.html" class="uri">https://rmd4sci.njtierney.com/using-rmarkdown.html</a></li>
<li><a href="https://alexd106.github.io/intro2R/Rmarkdown_intro.html" class="uri">https://alexd106.github.io/intro2R/Rmarkdown_intro.html</a></li>
</ul>
<p>If you are still lost, try one of the many online tutorials (such as these)</p>
<ul>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf</a></li>
<li><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" class="uri">https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet</a></li>
<li><a href="https://www.neonscience.org/resources/learning-hub/tutorials/rmd-code-intro" class="uri">https://www.neonscience.org/resources/learning-hub/tutorials/rmd-code-intro</a></li>
<li><a href="https://m-clark.github.io/Introduction-to-Rmarkdown/" class="uri">https://m-clark.github.io/Introduction-to-Rmarkdown/</a></li>
<li><a href="https://www.stat.cmu.edu/~cshalizi/rmarkdown/" class="uri">https://www.stat.cmu.edu/~cshalizi/rmarkdown/</a></li>
<li><a href="http://math.wsu.edu/faculty/xchen/stat412/HwWriteUp.Rmd" class="uri">http://math.wsu.edu/faculty/xchen/stat412/HwWriteUp.Rmd</a></li>
<li><a href="http://math.wsu.edu/faculty/xchen/stat412/HwWriteUp.html" class="uri">http://math.wsu.edu/faculty/xchen/stat412/HwWriteUp.html</a></li>
<li><a href="https://holtzy.github.io/Pimp-my-rmd/" class="uri">https://holtzy.github.io/Pimp-my-rmd/</a></li>
<li><a href="https://ntaback.github.io/UofT_STA130/Rmarkdownforclassreports.html" class="uri">https://ntaback.github.io/UofT_STA130/Rmarkdownforclassreports.html</a></li>
<li><a href="https://crd150.github.io/hw_guidelines.html" class="uri">https://crd150.github.io/hw_guidelines.html</a></li>
<li><a href="https://r4ds.had.co.nz/r-markdown.html" class="uri">https://r4ds.had.co.nz/r-markdown.html</a></li>
<li><a href="http://www.stat.cmu.edu/~cshalizi/rmarkdown" class="uri">http://www.stat.cmu.edu/~cshalizi/rmarkdown</a></li>
<li><a href="http://www.ssc.wisc.edu/sscc/pubs/RFR/RFR_RMarkdown.html" class="uri">http://www.ssc.wisc.edu/sscc/pubs/RFR/RFR_RMarkdown.html</a></li>
<li><a href="http://kbroman.org/knitr_knutshell/pages/Rmarkdown.html" class="uri">http://kbroman.org/knitr_knutshell/pages/Rmarkdown.html</a></li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hypothesis-tests.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bivariate-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["index.pdf", "index.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
