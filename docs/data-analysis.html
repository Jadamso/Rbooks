<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 5 Data Analysis | index</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content=" 5 Data Analysis | index" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 5 Data Analysis | index" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistics.html"/>
<link rel="next" href="beyond-basics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.8/profvis.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rbooks</a></li>
<li class="toc-logo"><a href="./"><img src="Figures_Manual/Logo.png" width="140" height="100"></a></li>        

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="part"><span><b>I Programming in R</b></span></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#why-r"><i class="fa fa-check"></i><b>2.1</b> Why R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#interfacing-with-r"><i class="fa fa-check"></i><b>2.3</b> Interfacing with R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>3</b> Mathematics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematics.html"><a href="mathematics.html#scalars"><i class="fa fa-check"></i><b>3.1</b> Scalars</a></li>
<li class="chapter" data-level="3.2" data-path="mathematics.html"><a href="mathematics.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a></li>
<li class="chapter" data-level="3.4" data-path="mathematics.html"><a href="mathematics.html#matrices"><i class="fa fa-check"></i><b>3.4</b> Matrices</a></li>
<li class="chapter" data-level="3.5" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>3.5</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>4</b> Statistics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistics.html"><a href="statistics.html#data-types"><i class="fa fa-check"></i><b>4.1</b> Data Types</a></li>
<li class="chapter" data-level="4.2" data-path="statistics.html"><a href="statistics.html#random-variables"><i class="fa fa-check"></i><b>4.2</b> Random Variables</a></li>
<li class="chapter" data-level="4.3" data-path="statistics.html"><a href="statistics.html#functions-of-data"><i class="fa fa-check"></i><b>4.3</b> Functions of Data</a></li>
<li class="chapter" data-level="4.4" data-path="statistics.html"><a href="statistics.html#value-of-more-data"><i class="fa fa-check"></i><b>4.4</b> Value of More Data</a></li>
<li class="chapter" data-level="4.5" data-path="statistics.html"><a href="statistics.html#further-reading"><i class="fa fa-check"></i><b>4.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>5</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-analysis.html"><a href="data-analysis.html#cleaning-data"><i class="fa fa-check"></i><b>5.1</b> Cleaning Data</a></li>
<li class="chapter" data-level="5.2" data-path="data-analysis.html"><a href="data-analysis.html#static-plots"><i class="fa fa-check"></i><b>5.2</b> Static Plots</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data-analysis.html"><a href="data-analysis.html#histograms"><i class="fa fa-check"></i><b>5.2.1</b> Histograms</a></li>
<li class="chapter" data-level="5.2.2" data-path="data-analysis.html"><a href="data-analysis.html#boxplots"><i class="fa fa-check"></i><b>5.2.2</b> Boxplots</a></li>
<li class="chapter" data-level="5.2.3" data-path="data-analysis.html"><a href="data-analysis.html#scatterplots"><i class="fa fa-check"></i><b>5.2.3</b> Scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data-analysis.html"><a href="data-analysis.html#interactive-plots"><i class="fa fa-check"></i><b>5.3</b> Interactive Plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="beyond-basics.html"><a href="beyond-basics.html"><i class="fa fa-check"></i><b>6</b> Beyond Basics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="beyond-basics.html"><a href="beyond-basics.html#the-r-ecosystem"><i class="fa fa-check"></i><b>6.1</b> The R Ecosystem</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="beyond-basics.html"><a href="beyond-basics.html#packages"><i class="fa fa-check"></i><b>6.1.1</b> Packages</a></li>
<li class="chapter" data-level="6.1.2" data-path="beyond-basics.html"><a href="beyond-basics.html#task-views"><i class="fa fa-check"></i><b>6.1.2</b> Task Views</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="beyond-basics.html"><a href="beyond-basics.html#introductions-to-r"><i class="fa fa-check"></i><b>6.2</b> Introductions to R</a></li>
<li class="chapter" data-level="6.3" data-path="beyond-basics.html"><a href="beyond-basics.html#custom-figures"><i class="fa fa-check"></i><b>6.3</b> Custom Figures</a></li>
</ul></li>
<li class="part"><span><b>II Linear Regression in R</b></span></li>
<li class="chapter" data-level="7" data-path="simple-ols.html"><a href="simple-ols.html"><i class="fa fa-check"></i><b>7</b> Simple OLS</a>
<ul>
<li class="chapter" data-level="7.1" data-path="simple-ols.html"><a href="simple-ols.html#variability-estimates"><i class="fa fa-check"></i><b>7.1</b> Variability Estimates</a></li>
<li class="chapter" data-level="7.2" data-path="simple-ols.html"><a href="simple-ols.html#hypothesis-tests"><i class="fa fa-check"></i><b>7.2</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="7.3" data-path="simple-ols.html"><a href="simple-ols.html#prediction-intervals"><i class="fa fa-check"></i><b>7.3</b> Prediction Intervals</a></li>
<li class="chapter" data-level="7.4" data-path="simple-ols.html"><a href="simple-ols.html#value-of-more-data-1"><i class="fa fa-check"></i><b>7.4</b> Value of More Data</a></li>
<li class="chapter" data-level="7.5" data-path="simple-ols.html"><a href="simple-ols.html#locally-linear"><i class="fa fa-check"></i><b>7.5</b> Locally Linear</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html"><i class="fa fa-check"></i><b>8</b> OLS (multiple linear regression)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#variability-estimates-and-hypothesis-tests"><i class="fa fa-check"></i><b>8.1</b> Variability Estimates and Hypothesis Tests</a></li>
<li class="chapter" data-level="8.2" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#factor-variables"><i class="fa fa-check"></i><b>8.2</b> Factor Variables</a></li>
<li class="chapter" data-level="8.3" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#coefficient-interpretation"><i class="fa fa-check"></i><b>8.3</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="8.4" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#diagnostics"><i class="fa fa-check"></i><b>8.4</b> Diagnostics</a></li>
<li class="chapter" data-level="8.5" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#linear-in-parameters"><i class="fa fa-check"></i><b>8.5</b> Linear in Parameters</a></li>
<li class="chapter" data-level="8.6" data-path="ols-multiple-linear-regression.html"><a href="ols-multiple-linear-regression.html#more-literature"><i class="fa fa-check"></i><b>8.6</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html"><i class="fa fa-check"></i><b>9</b> Endogeneity Issues</a>
<ul>
<li class="chapter" data-level="9.1" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#two-stage-least-squares-2sls"><i class="fa fa-check"></i><b>9.1</b> Two Stage Least Squares (2SLS)</a></li>
<li class="chapter" data-level="9.2" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#regression-discontinuitieskink-rdrk"><i class="fa fa-check"></i><b>9.2</b> Regression Discontinuities/Kink (RD/RK)</a></li>
<li class="chapter" data-level="9.3" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#difference-in-differences-did"><i class="fa fa-check"></i><b>9.3</b> Difference in Differences (DID)</a></li>
<li class="chapter" data-level="9.4" data-path="endogeneity-issues.html"><a href="endogeneity-issues.html#more-literature-1"><i class="fa fa-check"></i><b>9.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>10</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-scientism.html"><a href="data-scientism.html#data-errors"><i class="fa fa-check"></i><b>10.1</b> Data Errors</a></li>
<li class="chapter" data-level="10.2" data-path="data-scientism.html"><a href="data-scientism.html#p-hacking"><i class="fa fa-check"></i><b>10.2</b> P-Hacking</a></li>
<li class="chapter" data-level="10.3" data-path="data-scientism.html"><a href="data-scientism.html#spurious-regression"><i class="fa fa-check"></i><b>10.3</b> Spurious Regression</a></li>
<li class="chapter" data-level="10.4" data-path="data-scientism.html"><a href="data-scientism.html#spurious-causal-impacts"><i class="fa fa-check"></i><b>10.4</b> Spurious Causal Impacts</a></li>
</ul></li>
<li class="part"><span><b>III Reproducible Research in R</b></span></li>
<li class="chapter" data-level="11" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i><b>11</b> Why?</a>
<ul>
<li class="chapter" data-level="11.1" data-path="why.html"><a href="why.html#an-example-workflow"><i class="fa fa-check"></i><b>11.1</b> An example workflow</a></li>
<li class="chapter" data-level="11.2" data-path="why.html"><a href="why.html#an-alternative-workflow"><i class="fa fa-check"></i><b>11.2</b> An alternative workflow</a></li>
<li class="chapter" data-level="11.3" data-path="why.html"><a href="why.html#replicable"><i class="fa fa-check"></i><b>11.3</b> Replicable</a></li>
<li class="chapter" data-level="11.4" data-path="why.html"><a href="why.html#r-and-r-markdown"><i class="fa fa-check"></i><b>11.4</b> R and R-Markdown</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="small-projects.html"><a href="small-projects.html"><i class="fa fa-check"></i><b>12</b> Small Projects</a>
<ul>
<li class="chapter" data-level="12.1" data-path="small-projects.html"><a href="small-projects.html#code-chunks"><i class="fa fa-check"></i><b>12.1</b> Code Chunks</a></li>
<li class="chapter" data-level="12.2" data-path="small-projects.html"><a href="small-projects.html#reports"><i class="fa fa-check"></i><b>12.2</b> Reports</a></li>
<li class="chapter" data-level="12.3" data-path="small-projects.html"><a href="small-projects.html#posters-and-slides"><i class="fa fa-check"></i><b>12.3</b> Posters and Slides</a></li>
<li class="chapter" data-level="12.4" data-path="small-projects.html"><a href="small-projects.html#more-literature-2"><i class="fa fa-check"></i><b>12.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="large-projects.html"><a href="large-projects.html"><i class="fa fa-check"></i><b>13</b> Large Projects</a>
<ul>
<li class="chapter" data-level="13.1" data-path="large-projects.html"><a href="large-projects.html#loggingsinking"><i class="fa fa-check"></i><b>13.1</b> Logging/Sinking</a></li>
<li class="chapter" data-level="13.2" data-path="large-projects.html"><a href="large-projects.html#class-projects"><i class="fa fa-check"></i><b>13.2</b> Class Projects</a></li>
<li class="chapter" data-level="13.3" data-path="large-projects.html"><a href="large-projects.html#debugging"><i class="fa fa-check"></i><b>13.3</b> Debugging</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="large-projects.html"><a href="large-projects.html#tracing"><i class="fa fa-check"></i><b>13.3.1</b> Tracing</a></li>
<li class="chapter" data-level="13.3.2" data-path="large-projects.html"><a href="large-projects.html#isolating"><i class="fa fa-check"></i><b>13.3.2</b> Isolating</a></li>
<li class="chapter" data-level="13.3.3" data-path="large-projects.html"><a href="large-projects.html#handling"><i class="fa fa-check"></i><b>13.3.3</b> Handling</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="large-projects.html"><a href="large-projects.html#optimizing"><i class="fa fa-check"></i><b>13.4</b> Optimizing</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="large-projects.html"><a href="large-projects.html#benchmarking"><i class="fa fa-check"></i><b>13.4.1</b> Benchmarking</a></li>
<li class="chapter" data-level="13.4.2" data-path="large-projects.html"><a href="large-projects.html#speed-ups"><i class="fa fa-check"></i><b>13.4.2</b> Speed-Ups</a></li>
<li class="chapter" data-level="13.4.3" data-path="large-projects.html"><a href="large-projects.html#bottlenecks"><i class="fa fa-check"></i><b>13.4.3</b> Bottlenecks</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="large-projects.html"><a href="large-projects.html#more-literature-3"><i class="fa fa-check"></i><b>13.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="web-applications.html"><a href="web-applications.html"><i class="fa fa-check"></i><b>14</b> Web Applications</a>
<ul>
<li class="chapter" data-level="14.1" data-path="web-applications.html"><a href="web-applications.html#more-literature-4"><i class="fa fa-check"></i><b>14.1</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>15</b> Software</a>
<ul>
<li class="chapter" data-level="15.1" data-path="software.html"><a href="software.html#latest-versions"><i class="fa fa-check"></i><b>15.1</b> Latest versions</a></li>
<li class="chapter" data-level="15.2" data-path="software.html"><a href="software.html#general-workflow"><i class="fa fa-check"></i><b>15.2</b> General Workflow</a></li>
<li class="chapter" data-level="15.3" data-path="software.html"><a href="software.html#sweave"><i class="fa fa-check"></i><b>15.3</b> Sweave</a></li>
<li class="chapter" data-level="15.4" data-path="software.html"><a href="software.html#stata"><i class="fa fa-check"></i><b>15.4</b> Stata</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-analysis" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number"> 5</span> Data Analysis<a href="data-analysis.html#data-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<p>Reading in</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="data-analysis.html#cb172-1" tabindex="-1"></a><span class="do">## Install R Data Package and Load in</span></span>
<span id="cb172-2"><a href="data-analysis.html#cb172-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;wooldridge&#39;</span>)</span>
<span id="cb172-3"><a href="data-analysis.html#cb172-3" tabindex="-1"></a><span class="fu">library</span>(wooldridge)</span>
<span id="cb172-4"><a href="data-analysis.html#cb172-4" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime2&#39;</span>)</span>
<span id="cb172-5"><a href="data-analysis.html#cb172-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime4&#39;</span>)</span>
<span id="cb172-6"><a href="data-analysis.html#cb172-6" tabindex="-1"></a></span>
<span id="cb172-7"><a href="data-analysis.html#cb172-7" tabindex="-1"></a><span class="do">## Read in csv from online</span></span>
<span id="cb172-8"><a href="data-analysis.html#cb172-8" tabindex="-1"></a>dat_csv <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&#39;http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF19-3.csv&#39;</span>)</span>
<span id="cb172-9"><a href="data-analysis.html#cb172-9" tabindex="-1"></a>dat_csv <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat_csv)</span>
<span id="cb172-10"><a href="data-analysis.html#cb172-10" tabindex="-1"></a></span>
<span id="cb172-11"><a href="data-analysis.html#cb172-11" tabindex="-1"></a><span class="do">## Read in csv from online</span></span>
<span id="cb172-12"><a href="data-analysis.html#cb172-12" tabindex="-1"></a>dat_stata <span class="ot">&lt;-</span> haven<span class="sc">::</span><span class="fu">read_dta</span>(<span class="st">&#39;https://www.ssc.wisc.edu/~bhansen/econometrics/DS2004.dta&#39;</span>)</span>
<span id="cb172-13"><a href="data-analysis.html#cb172-13" tabindex="-1"></a>dat_stata <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat_stata)</span>
<span id="cb172-14"><a href="data-analysis.html#cb172-14" tabindex="-1"></a></span>
<span id="cb172-15"><a href="data-analysis.html#cb172-15" tabindex="-1"></a><span class="do">## For More Introductory Econometrics Data, see </span></span>
<span id="cb172-16"><a href="data-analysis.html#cb172-16" tabindex="-1"></a><span class="co"># https://www.ssc.wisc.edu/~bhansen/econometrics/Econometrics%20Data.zip</span></span>
<span id="cb172-17"><a href="data-analysis.html#cb172-17" tabindex="-1"></a><span class="co"># https://pages.stern.nyu.edu/~wgreene/Text/Edition7/tablelist8new.htm</span></span>
<span id="cb172-18"><a href="data-analysis.html#cb172-18" tabindex="-1"></a><span class="co"># R packages: wooldridge, causaldata, Ecdat, AER, ....</span></span></code></pre></div>
<p>Read in some historical data on crime in the US</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="data-analysis.html#cb173-1" tabindex="-1"></a><span class="fu">head</span>(USArrests)</span></code></pre></div>
<pre><code>##            Murder Assault UrbanPop Rape
## Alabama      13.2     236       58 21.2
## Alaska       10.0     263       48 44.5
## Arizona       8.1     294       80 31.0
## Arkansas      8.8     190       50 19.5
## California    9.0     276       91 40.6
## Colorado      7.9     204       78 38.7</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="data-analysis.html#cb175-1" tabindex="-1"></a><span class="fu">summary</span>(USArrests)</span></code></pre></div>
<pre><code>##      Murder          Assault         UrbanPop          Rape      
##  Min.   : 0.800   Min.   : 45.0   Min.   :32.00   Min.   : 7.30  
##  1st Qu.: 4.075   1st Qu.:109.0   1st Qu.:54.50   1st Qu.:15.07  
##  Median : 7.250   Median :159.0   Median :66.00   Median :20.10  
##  Mean   : 7.788   Mean   :170.8   Mean   :65.54   Mean   :21.23  
##  3rd Qu.:11.250   3rd Qu.:249.0   3rd Qu.:77.75   3rd Qu.:26.18  
##  Max.   :17.400   Max.   :337.0   Max.   :91.00   Max.   :46.00</code></pre>
<div id="cleaning-data" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Cleaning Data<a href="data-analysis.html#cleaning-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data transformation is often necessary before analysis, so remember to be careful and check your code is doing what you want. (If you have large datasets, you can always test out the code on a sample.)</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="data-analysis.html#cb177-1" tabindex="-1"></a><span class="do">## Function to Create Sample Datasets</span></span>
<span id="cb177-2"><a href="data-analysis.html#cb177-2" tabindex="-1"></a>make_noisy_data <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">b=</span><span class="dv">0</span>){</span>
<span id="cb177-3"><a href="data-analysis.html#cb177-3" tabindex="-1"></a>    <span class="do">## Simple Data Generating Process</span></span>
<span id="cb177-4"><a href="data-analysis.html#cb177-4" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="at">length.out=</span>n) </span>
<span id="cb177-5"><a href="data-analysis.html#cb177-5" tabindex="-1"></a>    e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb177-6"><a href="data-analysis.html#cb177-6" tabindex="-1"></a>    y <span class="ot">&lt;-</span> b<span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb177-7"><a href="data-analysis.html#cb177-7" tabindex="-1"></a>    <span class="do">## Obervations</span></span>
<span id="cb177-8"><a href="data-analysis.html#cb177-8" tabindex="-1"></a>    xy_mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span><span class="fu">seq</span>(x), <span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb177-9"><a href="data-analysis.html#cb177-9" tabindex="-1"></a>    <span class="fu">return</span>(xy_mat)</span>
<span id="cb177-10"><a href="data-analysis.html#cb177-10" tabindex="-1"></a>}</span>
<span id="cb177-11"><a href="data-analysis.html#cb177-11" tabindex="-1"></a></span>
<span id="cb177-12"><a href="data-analysis.html#cb177-12" tabindex="-1"></a><span class="do">## Two simulated datasets</span></span>
<span id="cb177-13"><a href="data-analysis.html#cb177-13" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb177-14"><a href="data-analysis.html#cb177-14" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb177-15"><a href="data-analysis.html#cb177-15" tabindex="-1"></a></span>
<span id="cb177-16"><a href="data-analysis.html#cb177-16" tabindex="-1"></a><span class="do">## Merging data in long format</span></span>
<span id="cb177-17"><a href="data-analysis.html#cb177-17" tabindex="-1"></a>dat_merged_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>( <span class="fu">cbind</span>(dat1,<span class="at">DF=</span><span class="dv">1</span>), <span class="fu">cbind</span>(dat2,<span class="at">DF=</span><span class="dv">2</span>))</span></code></pre></div>
<p>Now suppose we want to transform into long format</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="data-analysis.html#cb178-1" tabindex="-1"></a><span class="do">## Merging data in wide format, First Attempt</span></span>
<span id="cb178-2"><a href="data-analysis.html#cb178-2" tabindex="-1"></a>dat_merged_wide <span class="ot">&lt;-</span> <span class="fu">cbind</span>( dat1, dat2)</span>
<span id="cb178-3"><a href="data-analysis.html#cb178-3" tabindex="-1"></a><span class="fu">names</span>(dat_merged_wide) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="fu">names</span>(dat1),<span class="st">&#39;.1&#39;</span>), <span class="fu">paste0</span>(<span class="fu">names</span>(dat2),<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb178-4"><a href="data-analysis.html#cb178-4" tabindex="-1"></a></span>
<span id="cb178-5"><a href="data-analysis.html#cb178-5" tabindex="-1"></a><span class="do">## Merging data in wide format, Second Attempt</span></span>
<span id="cb178-6"><a href="data-analysis.html#cb178-6" tabindex="-1"></a><span class="do">## higher performance</span></span>
<span id="cb178-7"><a href="data-analysis.html#cb178-7" tabindex="-1"></a>dat_merged_wide2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(dat1, dat2,</span>
<span id="cb178-8"><a href="data-analysis.html#cb178-8" tabindex="-1"></a>    <span class="at">by=</span><span class="st">&#39;ID&#39;</span>, <span class="at">suffixes=</span><span class="fu">c</span>(<span class="st">&#39;.1&#39;</span>,<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb178-9"><a href="data-analysis.html#cb178-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb178-10"><a href="data-analysis.html#cb178-10" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide, dat_merged_wide2)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="data-analysis.html#cb180-1" tabindex="-1"></a><span class="do">## Merging data in wide format, Third Attempt</span></span>
<span id="cb180-2"><a href="data-analysis.html#cb180-2" tabindex="-1"></a><span class="do">## more flexibility</span></span>
<span id="cb180-3"><a href="data-analysis.html#cb180-3" tabindex="-1"></a>dat_melted <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">melt</span>(dat_merged_long, <span class="at">id.vars=</span><span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="st">&#39;DF&#39;</span>))</span>
<span id="cb180-4"><a href="data-analysis.html#cb180-4" tabindex="-1"></a>dat_merged_wide3 <span class="ot">&lt;-</span> reshape2<span class="sc">::</span><span class="fu">dcast</span>(dat_melted, ID<span class="sc">~</span>DF<span class="sc">+</span>variable)</span>
<span id="cb180-5"><a href="data-analysis.html#cb180-5" tabindex="-1"></a></span>
<span id="cb180-6"><a href="data-analysis.html#cb180-6" tabindex="-1"></a><span class="do">## Merging data in wide format, Fourth Attempt</span></span>
<span id="cb180-7"><a href="data-analysis.html#cb180-7" tabindex="-1"></a><span class="do">## highest performance but with new type of object</span></span>
<span id="cb180-8"><a href="data-analysis.html#cb180-8" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb180-9"><a href="data-analysis.html#cb180-9" tabindex="-1"></a>dat_merged_longDT <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(dat_merged_long)</span>
<span id="cb180-10"><a href="data-analysis.html#cb180-10" tabindex="-1"></a>dat_melted <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">melt</span>(dat_merged_longDT, <span class="at">id.vars=</span><span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="st">&#39;DF&#39;</span>))</span>
<span id="cb180-11"><a href="data-analysis.html#cb180-11" tabindex="-1"></a>dat_merged_wide4 <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">dcast</span>(dat_melted, ID<span class="sc">~</span>DF<span class="sc">+</span>variable)</span>
<span id="cb180-12"><a href="data-analysis.html#cb180-12" tabindex="-1"></a><span class="do">## dat_merged_wide4 &lt;- as.data.frame(dat_merged_wide4)</span></span>
<span id="cb180-13"><a href="data-analysis.html#cb180-13" tabindex="-1"></a></span>
<span id="cb180-14"><a href="data-analysis.html#cb180-14" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb180-15"><a href="data-analysis.html#cb180-15" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide3, dat_merged_wide4)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Often, however, we ultimately want data in long format</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="data-analysis.html#cb182-1" tabindex="-1"></a><span class="do">## Merging data in long format, Second Attempt </span></span>
<span id="cb182-2"><a href="data-analysis.html#cb182-2" tabindex="-1"></a>dat_melted2 <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">melt</span>(dat_merged_wide4, <span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;1_x&quot;</span>,<span class="st">&quot;1_y&quot;</span>,<span class="st">&quot;2_x&quot;</span>,<span class="st">&quot;2_y&quot;</span>))</span>
<span id="cb182-3"><a href="data-analysis.html#cb182-3" tabindex="-1"></a>melt_vars <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">as.character</span>(dat_melted2<span class="sc">$</span>variable),<span class="st">&#39;_&#39;</span>)</span>
<span id="cb182-4"><a href="data-analysis.html#cb182-4" tabindex="-1"></a>dat_melted2<span class="sc">$</span>DF <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">1</span>)</span>
<span id="cb182-5"><a href="data-analysis.html#cb182-5" tabindex="-1"></a>dat_melted2<span class="sc">$</span>variable <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">2</span>)</span>
<span id="cb182-6"><a href="data-analysis.html#cb182-6" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">dcast</span>(dat_melted2, DF<span class="sc">+</span>ID<span class="sc">~</span>variable)</span>
<span id="cb182-7"><a href="data-analysis.html#cb182-7" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat_merged_long2)</span>
<span id="cb182-8"><a href="data-analysis.html#cb182-8" tabindex="-1"></a></span>
<span id="cb182-9"><a href="data-analysis.html#cb182-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb182-10"><a href="data-analysis.html#cb182-10" tabindex="-1"></a><span class="fu">identical</span>( dat_merged_long2, dat_merged_long)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="data-analysis.html#cb184-1" tabindex="-1"></a><span class="do">## Further Inspect</span></span>
<span id="cb184-2"><a href="data-analysis.html#cb184-2" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> dat_merged_long2[,<span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>,<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;DF&#39;</span>)]</span>
<span id="cb184-3"><a href="data-analysis.html#cb184-3" tabindex="-1"></a><span class="fu">mapply</span>( identical, dat_merged_long2, dat_merged_long)</span></code></pre></div>
<pre><code>##    ID     x     y    DF 
##  TRUE  TRUE  TRUE FALSE</code></pre>
<p>For more tips, see <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf" class="uri">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf</a> and <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html" class="uri">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html</a>
<!--\url{https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf}--></p>
</div>
<div id="static-plots" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Static Plots<a href="data-analysis.html#static-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="histograms" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Histograms<a href="data-analysis.html#histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Histograms Summarize Distributions. Easy to show data splits. Can glue together to convey more information all at once</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="data-analysis.html#cb186-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb186-2"><a href="data-analysis.html#cb186-2" tabindex="-1"></a></span>
<span id="cb186-3"><a href="data-analysis.html#cb186-3" tabindex="-1"></a><span class="do">## All Data</span></span>
<span id="cb186-4"><a href="data-analysis.html#cb186-4" tabindex="-1"></a>xbks <span class="ot">&lt;-</span>  <span class="fu">seq</span>(<span class="fu">min</span>(USArrests<span class="sc">$</span>Murder), <span class="fu">max</span>(USArrests<span class="sc">$</span>Murder), <span class="at">length.out=</span><span class="dv">10</span>)</span>
<span id="cb186-5"><a href="data-analysis.html#cb186-5" tabindex="-1"></a><span class="fu">hist</span>(USArrests<span class="sc">$</span>Murder, <span class="at">main=</span><span class="st">&#39;All Data&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;Murder Arrests&#39;</span>,  <span class="at">breaks=</span>xbks)</span>
<span id="cb186-6"><a href="data-analysis.html#cb186-6" tabindex="-1"></a></span>
<span id="cb186-7"><a href="data-analysis.html#cb186-7" tabindex="-1"></a><span class="do">## Split Data by Urban Population above/below mean</span></span>
<span id="cb186-8"><a href="data-analysis.html#cb186-8" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">mean</span>(USArrests<span class="sc">$</span>UrbanPop)</span>
<span id="cb186-9"><a href="data-analysis.html#cb186-9" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&lt;</span>u,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb186-10"><a href="data-analysis.html#cb186-10" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&gt;=</span>u,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb186-11"><a href="data-analysis.html#cb186-11" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">5</span>), <span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">5</span>))</span>
<span id="cb186-12"><a href="data-analysis.html#cb186-12" tabindex="-1"></a><span class="fu">hist</span>(m1, <span class="at">col=</span>cols[<span class="dv">1</span>], <span class="at">breaks=</span>xbks, <span class="at">xlab=</span><span class="st">&#39;Murder Arrests&#39;</span>, <span class="at">main=</span><span class="st">&#39;Split Data&#39;</span>)</span>
<span id="cb186-13"><a href="data-analysis.html#cb186-13" tabindex="-1"></a><span class="fu">hist</span>(m2, <span class="at">add=</span>T, <span class="at">col=</span>cols[<span class="dv">2</span>], <span class="at">breaks=</span>xbks)</span>
<span id="cb186-14"><a href="data-analysis.html#cb186-14" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&#39;topright&#39;</span>, <span class="at">col=</span>cols, <span class="at">pch=</span><span class="dv">15</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>,</span>
<span id="cb186-15"><a href="data-analysis.html#cb186-15" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;% Urban Pop.&#39;</span>, <span class="at">legend=</span><span class="fu">c</span>(<span class="st">&#39;Above Mean&#39;</span>, <span class="st">&#39;Below Mean&#39;</span>))</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<p>Sometimes it is better to make separate figures for each data split</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="data-analysis.html#cb187-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.5</span>), <span class="at">new=</span>F)</span>
<span id="cb187-2"><a href="data-analysis.html#cb187-2" tabindex="-1"></a><span class="fu">hist</span>(USArrests<span class="sc">$</span>Murder, <span class="at">breaks=</span>xbks, <span class="at">main=</span><span class="st">&#39;All Data&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;Murder Arrests&#39;</span>)</span>
<span id="cb187-3"><a href="data-analysis.html#cb187-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,.<span class="dv">5</span>,<span class="fl">0.5</span>,<span class="dv">1</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb187-4"><a href="data-analysis.html#cb187-4" tabindex="-1"></a><span class="fu">hist</span>(m1, <span class="at">breaks=</span>xbks, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">5</span>),</span>
<span id="cb187-5"><a href="data-analysis.html#cb187-5" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Urban Pop &gt;= Mean&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;Murder Arrests&#39;</span>)</span>
<span id="cb187-6"><a href="data-analysis.html#cb187-6" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="fl">0.5</span>,<span class="dv">1</span>,<span class="fl">0.5</span>,<span class="dv">1</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb187-7"><a href="data-analysis.html#cb187-7" tabindex="-1"></a><span class="fu">hist</span>(m2,<span class="at">breaks=</span>xbks, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">5</span>),</span>
<span id="cb187-8"><a href="data-analysis.html#cb187-8" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;Urban Pop &lt; Mean&#39;</span>, <span class="at">xlab=</span><span class="st">&#39;Murder Arrests&#39;</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<p>For more histogram visuals, see <a href="https://r-graph-gallery.com/histogram.html" class="uri">https://r-graph-gallery.com/histogram.html</a></p>
</div>
<div id="boxplots" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Boxplots<a href="data-analysis.html#boxplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Boxplots show median, interquartile range, and outliers. As with histograms, you can also split data into groups and glue together</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="data-analysis.html#cb188-1" tabindex="-1"></a><span class="fu">layout</span>( <span class="fu">t</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>)))</span>
<span id="cb188-2"><a href="data-analysis.html#cb188-2" tabindex="-1"></a><span class="fu">boxplot</span>(USArrests<span class="sc">$</span>Murder, <span class="at">main=</span><span class="st">&#39;&#39;</span>,</span>
<span id="cb188-3"><a href="data-analysis.html#cb188-3" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">&#39;All Data&#39;</span>, <span class="at">ylab=</span><span class="st">&#39;Murder Arrests&#39;</span>)</span>
<span id="cb188-4"><a href="data-analysis.html#cb188-4" tabindex="-1"></a></span>
<span id="cb188-5"><a href="data-analysis.html#cb188-5" tabindex="-1"></a><span class="do">## 3 Groups with even spacing</span></span>
<span id="cb188-6"><a href="data-analysis.html#cb188-6" tabindex="-1"></a>USArrests<span class="sc">$</span>UrbanPop_cut <span class="ot">&lt;-</span> <span class="fu">cut</span>(USArrests<span class="sc">$</span>UrbanPop,<span class="dv">3</span>)</span>
<span id="cb188-7"><a href="data-analysis.html#cb188-7" tabindex="-1"></a><span class="fu">boxplot</span>(Murder<span class="sc">~</span>UrbanPop_cut, USArrests,</span>
<span id="cb188-8"><a href="data-analysis.html#cb188-8" tabindex="-1"></a>    <span class="at">main=</span><span class="st">&#39;&#39;</span>, <span class="at">col=</span><span class="fu">hcl.colors</span>(<span class="dv">3</span>,<span class="at">alpha=</span>.<span class="dv">5</span>),</span>
<span id="cb188-9"><a href="data-analysis.html#cb188-9" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">&#39;Urban Population&#39;</span>, <span class="at">ylab=</span><span class="st">&#39;&#39;</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="data-analysis.html#cb189-1" tabindex="-1"></a><span class="do">## 4 Groups with equal observations</span></span>
<span id="cb189-2"><a href="data-analysis.html#cb189-2" tabindex="-1"></a><span class="co">#qcuts &lt;- c(</span></span>
<span id="cb189-3"><a href="data-analysis.html#cb189-3" tabindex="-1"></a><span class="co">#    &#39;0%&#39;=min(USArrests$UrbanPop)-10*.Machine$double.eps,</span></span>
<span id="cb189-4"><a href="data-analysis.html#cb189-4" tabindex="-1"></a><span class="co">#    quantile(USArrests$UrbanPop, probs=c(.25,.5,.75,1)))</span></span>
<span id="cb189-5"><a href="data-analysis.html#cb189-5" tabindex="-1"></a><span class="co">#USArrests$UrbanPop_cut &lt;- cut(USArrests$UrbanPop, qcuts)</span></span></code></pre></div>
</div>
<div id="scatterplots" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Scatterplots<a href="data-analysis.html#scatterplots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Scatterplots are used frequently to summarize the relationship between two variables. They can be enhanced in several ways.</p>
<p><strong>Fit Lines and Color</strong> You can add regression lines (and confidence intervals). As a default, use semi-transparent points to see where your observations are concentrated. You can also use color to distinguish subsets.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data-analysis.html#cb190-1" tabindex="-1"></a><span class="do">## High Assault Areas</span></span>
<span id="cb190-2"><a href="data-analysis.html#cb190-2" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(USArrests<span class="sc">$</span>Assault<span class="sc">&gt;</span><span class="fu">median</span>(USArrests<span class="sc">$</span>Assault), <span class="fu">rgb</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">5</span>), <span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,.<span class="dv">5</span>))</span>
<span id="cb190-3"><a href="data-analysis.html#cb190-3" tabindex="-1"></a></span>
<span id="cb190-4"><a href="data-analysis.html#cb190-4" tabindex="-1"></a><span class="do">## Scatterplot</span></span>
<span id="cb190-5"><a href="data-analysis.html#cb190-5" tabindex="-1"></a><span class="fu">plot</span>(Murder<span class="sc">~</span>UrbanPop, USArrests, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span>cols)</span>
<span id="cb190-6"><a href="data-analysis.html#cb190-6" tabindex="-1"></a></span>
<span id="cb190-7"><a href="data-analysis.html#cb190-7" tabindex="-1"></a><span class="do">## Add the line of best fit for pooled data</span></span>
<span id="cb190-8"><a href="data-analysis.html#cb190-8" tabindex="-1"></a><span class="do">## Could also do separately for each data split</span></span>
<span id="cb190-9"><a href="data-analysis.html#cb190-9" tabindex="-1"></a>reg <span class="ot">&lt;-</span> <span class="fu">lm</span>(Murder<span class="sc">~</span>UrbanPop, <span class="at">data=</span>USArrests)</span>
<span id="cb190-10"><a href="data-analysis.html#cb190-10" tabindex="-1"></a><span class="fu">abline</span>(reg, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="data-analysis.html#cb191-1" tabindex="-1"></a><span class="do">## Can Also Add Confidence Intervals</span></span>
<span id="cb191-2"><a href="data-analysis.html#cb191-2" tabindex="-1"></a><span class="do">## https://rpubs.com/aaronsc32/regression-confidence-prediction-intervals</span></span></code></pre></div>
<p>Your first plot is typically standard. For others to easily comprehend your work, you must polish the plot.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="data-analysis.html#cb192-1" tabindex="-1"></a><span class="do">## Data Generating Process</span></span>
<span id="cb192-2"><a href="data-analysis.html#cb192-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="at">by=</span>.<span class="dv">0002</span>)</span>
<span id="cb192-3"><a href="data-analysis.html#cb192-3" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">1</span>)</span>
<span id="cb192-4"><a href="data-analysis.html#cb192-4" tabindex="-1"></a>y <span class="ot">&lt;-</span> .<span class="dv">25</span><span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb192-5"><a href="data-analysis.html#cb192-5" tabindex="-1"></a>xy_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb192-6"><a href="data-analysis.html#cb192-6" tabindex="-1"></a></span>
<span id="cb192-7"><a href="data-analysis.html#cb192-7" tabindex="-1"></a><span class="do">## Plot</span></span>
<span id="cb192-8"><a href="data-analysis.html#cb192-8" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.9</span>), <span class="at">new=</span>F)</span>
<span id="cb192-9"><a href="data-analysis.html#cb192-9" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, xy_dat, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">05</span>), <span class="at">cex=</span>.<span class="dv">5</span>,</span>
<span id="cb192-10"><a href="data-analysis.html#cb192-10" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">&#39;&#39;</span>, <span class="at">ylab=</span><span class="st">&#39;&#39;</span>) <span class="do">## Format Axis Labels Seperately</span></span>
<span id="cb192-11"><a href="data-analysis.html#cb192-11" tabindex="-1"></a><span class="fu">mtext</span>( <span class="st">&#39;y=0.25 x + e</span><span class="sc">\n</span><span class="st"> e ~ standard-normal&#39;</span>, <span class="dv">2</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb192-12"><a href="data-analysis.html#cb192-12" tabindex="-1"></a><span class="fu">mtext</span>( <span class="fu">expression</span>(x<span class="sc">%in%</span><span class="er">~</span><span class="st">&#39;[0,10]&#39;</span>), <span class="dv">1</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb192-13"><a href="data-analysis.html#cb192-13" tabindex="-1"></a></span>
<span id="cb192-14"><a href="data-analysis.html#cb192-14" tabindex="-1"></a><span class="fu">abline</span>( <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">data=</span>xy_dat), <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb192-15"><a href="data-analysis.html#cb192-15" tabindex="-1"></a></span>
<span id="cb192-16"><a href="data-analysis.html#cb192-16" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;Plot with good features and excessive notation&#39;</span>, <span class="at">adj=</span><span class="dv">0</span>)</span>
<span id="cb192-17"><a href="data-analysis.html#cb192-17" tabindex="-1"></a></span>
<span id="cb192-18"><a href="data-analysis.html#cb192-18" tabindex="-1"></a><span class="do">## Outer Legend (https://stackoverflow.com/questions/3932038/)</span></span>
<span id="cb192-19"><a href="data-analysis.html#cb192-19" tabindex="-1"></a>outer_legend <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb192-20"><a href="data-analysis.html#cb192-20" tabindex="-1"></a>  opar <span class="ot">&lt;-</span> <span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb192-21"><a href="data-analysis.html#cb192-21" tabindex="-1"></a>    <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb192-22"><a href="data-analysis.html#cb192-22" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">par</span>(opar))</span>
<span id="cb192-23"><a href="data-analysis.html#cb192-23" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">type=</span><span class="st">&#39;n&#39;</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>)</span>
<span id="cb192-24"><a href="data-analysis.html#cb192-24" tabindex="-1"></a>  <span class="fu">legend</span>(...)</span>
<span id="cb192-25"><a href="data-analysis.html#cb192-25" tabindex="-1"></a>}</span>
<span id="cb192-26"><a href="data-analysis.html#cb192-26" tabindex="-1"></a><span class="fu">outer_legend</span>(<span class="st">&#39;topright&#39;</span>, <span class="at">legend=</span><span class="st">&#39;single data point&#39;</span>,</span>
<span id="cb192-27"><a href="data-analysis.html#cb192-27" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;do you see the normal distribution?&#39;</span>,</span>
<span id="cb192-28"><a href="data-analysis.html#cb192-28" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">1</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>Can export figure with specific dimensions</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="data-analysis.html#cb193-1" tabindex="-1"></a><span class="fu">pdf</span>( <span class="st">&#39;Figures/plot_example.pdf&#39;</span>, <span class="at">height=</span><span class="dv">5</span>, <span class="at">width=</span><span class="dv">5</span>)</span>
<span id="cb193-2"><a href="data-analysis.html#cb193-2" tabindex="-1"></a><span class="do">## plot goes here</span></span>
<span id="cb193-3"><a href="data-analysis.html#cb193-3" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<p>For plotting math, see
<a href="https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html" class="uri">https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html</a>
<a href="https://library.virginia.edu/data/articles/mathematical-annotation-in-r" class="uri">https://library.virginia.edu/data/articles/mathematical-annotation-in-r</a></p>
<p>For exporting options, see <code>?pdf</code>.
For saving other types of files, see <code>png("*.png")</code>, <code>tiff("*.tiff")</code>, and <code>jpeg("*.jpg")</code></p>
<p><strong>Marginal distributions</strong></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="data-analysis.html#cb194-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.8</span>,<span class="dv">0</span>,<span class="fl">0.8</span>), <span class="at">new=</span>F)</span>
<span id="cb194-2"><a href="data-analysis.html#cb194-2" tabindex="-1"></a><span class="fu">plot</span>(Murder<span class="sc">~</span>UrbanPop, USArrests, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">5</span>))</span>
<span id="cb194-3"><a href="data-analysis.html#cb194-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.8</span>,<span class="fl">0.55</span>,<span class="dv">1</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb194-4"><a href="data-analysis.html#cb194-4" tabindex="-1"></a><span class="fu">boxplot</span>(USArrests<span class="sc">$</span>Murder, <span class="at">horizontal=</span><span class="cn">TRUE</span>, <span class="at">axes=</span><span class="cn">FALSE</span>)</span>
<span id="cb194-5"><a href="data-analysis.html#cb194-5" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="fl">0.65</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.8</span>),<span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb194-6"><a href="data-analysis.html#cb194-6" tabindex="-1"></a><span class="fu">boxplot</span>(USArrests<span class="sc">$</span>UrbanPop, <span class="at">axes=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data-analysis.html#cb195-1" tabindex="-1"></a><span class="do">## https://www.r-bloggers.com/2011/06/example-8-41-scatterplot-with-marginal-histograms/</span></span>
<span id="cb195-2"><a href="data-analysis.html#cb195-2" tabindex="-1"></a></span>
<span id="cb195-3"><a href="data-analysis.html#cb195-3" tabindex="-1"></a><span class="do">## Setup Plot</span></span>
<span id="cb195-4"><a href="data-analysis.html#cb195-4" tabindex="-1"></a><span class="fu">layout</span>( <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">3</span>), <span class="at">ncol=</span><span class="dv">2</span>, <span class="at">byrow=</span><span class="cn">TRUE</span>),</span>
<span id="cb195-5"><a href="data-analysis.html#cb195-5" tabindex="-1"></a>    <span class="at">widths=</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">/</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>), <span class="at">heights=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>,<span class="dv">4</span><span class="sc">/</span><span class="dv">5</span>))</span>
<span id="cb195-6"><a href="data-analysis.html#cb195-6" tabindex="-1"></a></span>
<span id="cb195-7"><a href="data-analysis.html#cb195-7" tabindex="-1"></a><span class="do">## Scatterplot</span></span>
<span id="cb195-8"><a href="data-analysis.html#cb195-8" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb195-9"><a href="data-analysis.html#cb195-9" tabindex="-1"></a><span class="fu">plot</span>(Murder<span class="sc">~</span>UrbanPop, USArrests, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">5</span>))</span>
<span id="cb195-10"><a href="data-analysis.html#cb195-10" tabindex="-1"></a></span>
<span id="cb195-11"><a href="data-analysis.html#cb195-11" tabindex="-1"></a><span class="do">## Add Marginals</span></span>
<span id="cb195-12"><a href="data-analysis.html#cb195-12" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb195-13"><a href="data-analysis.html#cb195-13" tabindex="-1"></a>xhist <span class="ot">&lt;-</span> <span class="fu">hist</span>(USArrests<span class="sc">$</span>UrbanPop, <span class="at">plot=</span><span class="cn">FALSE</span>)</span>
<span id="cb195-14"><a href="data-analysis.html#cb195-14" tabindex="-1"></a><span class="fu">barplot</span>(xhist<span class="sc">$</span>counts, <span class="at">axes=</span><span class="cn">FALSE</span>, <span class="at">space=</span><span class="dv">0</span>)</span>
<span id="cb195-15"><a href="data-analysis.html#cb195-15" tabindex="-1"></a></span>
<span id="cb195-16"><a href="data-analysis.html#cb195-16" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb195-17"><a href="data-analysis.html#cb195-17" tabindex="-1"></a>yhist <span class="ot">&lt;-</span> <span class="fu">hist</span>(USArrests<span class="sc">$</span>Murder, <span class="at">plot=</span><span class="cn">FALSE</span>)</span>
<span id="cb195-18"><a href="data-analysis.html#cb195-18" tabindex="-1"></a><span class="fu">barplot</span>(yhist<span class="sc">$</span>counts, <span class="at">axes=</span><span class="cn">FALSE</span>, <span class="at">space=</span><span class="dv">0</span>, <span class="at">horiz=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="02-RandRstudio_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>For plotting marginals, see <a href="https://r-graph-gallery.com/74-margin-and-oma-cheatsheet.html" class="uri">https://r-graph-gallery.com/74-margin-and-oma-cheatsheet.html</a> and <a href="https://jtr13.github.io/cc21fall2/tutorial-for-scatter-plot-with-marginal-distribution.html" class="uri">https://jtr13.github.io/cc21fall2/tutorial-for-scatter-plot-with-marginal-distribution.html</a></p>
</div>
</div>
<div id="interactive-plots" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Interactive Plots<a href="data-analysis.html#interactive-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Especially for data exploration, your plots can also be <a href="https://r-graph-gallery.com/interactive-charts.html">interactive</a> via <a href="https://plotly.com/r/" class="uri">https://plotly.com/r/</a>. For more details, see <a href="https://plotly-r.com/" class="uri">https://plotly-r.com/</a></p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="data-analysis.html#cb196-1" tabindex="-1"></a><span class="co">#install.packages(&quot;plotly&quot;)</span></span>
<span id="cb196-2"><a href="data-analysis.html#cb196-2" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<p><strong>Histograms</strong> <a href="https://plotly.com/r/histograms/" class="uri">https://plotly.com/r/histograms/</a></p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data-analysis.html#cb197-1" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">mean</span>(USArrests<span class="sc">$</span>UrbanPop)</span>
<span id="cb197-2"><a href="data-analysis.html#cb197-2" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&lt;</span>u,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb197-3"><a href="data-analysis.html#cb197-3" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&gt;=</span>u,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb197-4"><a href="data-analysis.html#cb197-4" tabindex="-1"></a></span>
<span id="cb197-5"><a href="data-analysis.html#cb197-5" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">alpha=</span><span class="fl">0.6</span>, </span>
<span id="cb197-6"><a href="data-analysis.html#cb197-6" tabindex="-1"></a>    <span class="at">hovertemplate=</span><span class="st">&quot;%{y}&quot;</span>)</span>
<span id="cb197-7"><a href="data-analysis.html#cb197-7" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(m1, <span class="at">name=</span><span class="st">&#39;&lt; Mean&#39;</span>)</span>
<span id="cb197-8"><a href="data-analysis.html#cb197-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(m2, <span class="at">name=</span><span class="st">&#39;&gt;= Mean&#39;</span>)</span>
<span id="cb197-9"><a href="data-analysis.html#cb197-9" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">barmode=</span><span class="st">&quot;stack&quot;</span>) <span class="do">## barmode=&quot;overlay&quot;</span></span>
<span id="cb197-10"><a href="data-analysis.html#cb197-10" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb197-11"><a href="data-analysis.html#cb197-11" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Crime and Urbanization in America 1975&quot;</span>,</span>
<span id="cb197-12"><a href="data-analysis.html#cb197-12" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>),</span>
<span id="cb197-13"><a href="data-analysis.html#cb197-13" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Number of States&#39;</span>),</span>
<span id="cb197-14"><a href="data-analysis.html#cb197-14" tabindex="-1"></a>    <span class="at">legend=</span><span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text=</span><span class="st">&#39;&lt;b&gt; Urban Pop. &lt;/b&gt;&#39;</span>))</span>
<span id="cb197-15"><a href="data-analysis.html#cb197-15" tabindex="-1"></a>)</span>
<span id="cb197-16"><a href="data-analysis.html#cb197-16" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-86cfb8c78036da5e33d8" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-86cfb8c78036da5e33d8">{"x":{"visdat":{"132b13427db2":["function () ","plotlyVisDat"]},"cur_data":"132b13427db2","attrs":{"132b13427db2":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"< Mean","inherit":true},"132b13427db2.1":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":">= Mean","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of States"},"legend":{"title":{"text":"<b> Urban Pop. <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"< Mean","marker":{"color":"rgba(31,119,180,0.6)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,0.6)"},"error_x":{"color":"rgba(31,119,180,0.6)"},"xaxis":"x","yaxis":"y","frame":null},{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":">= Mean","marker":{"color":"rgba(255,127,14,0.6)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,0.6)"},"error_x":{"color":"rgba(255,127,14,0.6)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Boxplots</strong> <a href="https://plotly.com/r/box-plots/" class="uri">https://plotly.com/r/box-plots/</a></p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="data-analysis.html#cb198-1" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb198-2"><a href="data-analysis.html#cb198-2" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(USArrests, <span class="at">y=</span><span class="sc">~</span>Murder, <span class="at">color=</span><span class="sc">~</span><span class="fu">cut</span>(UrbanPop,<span class="dv">4</span>),</span>
<span id="cb198-3"><a href="data-analysis.html#cb198-3" tabindex="-1"></a>    <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">type=</span><span class="st">&quot;box&quot;</span>,</span>
<span id="cb198-4"><a href="data-analysis.html#cb198-4" tabindex="-1"></a>    <span class="at">pointpos=</span><span class="dv">0</span>, <span class="at">boxpoints =</span> <span class="st">&#39;all&#39;</span>,</span>
<span id="cb198-5"><a href="data-analysis.html#cb198-5" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,    </span>
<span id="cb198-6"><a href="data-analysis.html#cb198-6" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb198-7"><a href="data-analysis.html#cb198-7" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb198-8"><a href="data-analysis.html#cb198-8" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb198-9"><a href="data-analysis.html#cb198-9" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder))    </span>
<span id="cb198-10"><a href="data-analysis.html#cb198-10" tabindex="-1"></a>fig <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">layout</span>(fig,</span>
<span id="cb198-11"><a href="data-analysis.html#cb198-11" tabindex="-1"></a>    <span class="at">showlegend=</span><span class="cn">FALSE</span>,</span>
<span id="cb198-12"><a href="data-analysis.html#cb198-12" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb198-13"><a href="data-analysis.html#cb198-13" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb198-14"><a href="data-analysis.html#cb198-14" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>))</span>
<span id="cb198-15"><a href="data-analysis.html#cb198-15" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-12d9e4226cc5d4d01b1d" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-12d9e4226cc5d4d01b1d">{"x":{"visdat":{"132bbb0c7e3":["function () ","plotlyVisDat"]},"cur_data":"132bbb0c7e3","attrs":{"132bbb0c7e3":{"y":{},"pointpos":0,"boxpoints":"all","hoverinfo":"text","text":{},"color":{},"alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(102,194,165,0.6)","y":[16.100000000000001,13,0.80000000000000004,3.7999999999999998,2.2000000000000002,5.7000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text"],"text":["<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7"],"type":"box","name":"(31.9,46.8]","marker":{"color":"rgba(102,194,165,0.6)","line":{"color":"rgba(102,194,165,1)"}},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.6)","y":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,2.2000000000000002,9.6999999999999993,2.1000000000000001,6,2.1000000000000001,14.4,13.199999999999999,6.7999999999999998],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"type":"box","name":"(46.8,61.5]","marker":{"color":"rgba(252,141,98,0.6)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.6)","y":[5.9000000000000004,7.2000000000000002,6,15.4,11.300000000000001,12.1,2.7000000000000002,9,4.2999999999999998,11.4,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,8.5,4,2.6000000000000001],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6"],"type":"box","name":"(61.5,76.2]","marker":{"color":"rgba(141,160,203,0.6)","line":{"color":"rgba(141,160,203,1)"}},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(231,138,195,0.6)","y":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,15.4,5.2999999999999998,10.4,4.4000000000000004,12.199999999999999,7.4000000000000004,11.1,3.3999999999999999,12.699999999999999,3.2000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2"],"type":"box","name":"(76.2,91.1]","marker":{"color":"rgba(231,138,195,0.6)","line":{"color":"rgba(231,138,195,1)"}},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Scatterplots</strong> <a href="https://plotly.com/r/bubble-charts/" class="uri">https://plotly.com/r/bubble-charts/</a></p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data-analysis.html#cb199-1" tabindex="-1"></a><span class="do">## Simple Scatter Plot</span></span>
<span id="cb199-2"><a href="data-analysis.html#cb199-2" tabindex="-1"></a><span class="co">#plot(Assault~UrbanPop, USArrests, col=grey(0,.5), pch=16,</span></span>
<span id="cb199-3"><a href="data-analysis.html#cb199-3" tabindex="-1"></a><span class="co">#    cex=USArrests$Murder/diff(range(USArrests$Murder))*2,</span></span>
<span id="cb199-4"><a href="data-analysis.html#cb199-4" tabindex="-1"></a><span class="co">#    main=&#39;US Murder arrests (per 100,000)&#39;)</span></span>
<span id="cb199-5"><a href="data-analysis.html#cb199-5" tabindex="-1"></a></span>
<span id="cb199-6"><a href="data-analysis.html#cb199-6" tabindex="-1"></a><span class="co"># Scatter Plot</span></span>
<span id="cb199-7"><a href="data-analysis.html#cb199-7" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb199-8"><a href="data-analysis.html#cb199-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(</span>
<span id="cb199-9"><a href="data-analysis.html#cb199-9" tabindex="-1"></a>    USArrests, <span class="at">x =</span> <span class="sc">~</span>UrbanPop, <span class="at">y =</span> <span class="sc">~</span>Assault,</span>
<span id="cb199-10"><a href="data-analysis.html#cb199-10" tabindex="-1"></a>    <span class="at">mode=</span><span class="st">&#39;markers&#39;</span>,</span>
<span id="cb199-11"><a href="data-analysis.html#cb199-11" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb199-12"><a href="data-analysis.html#cb199-12" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,</span>
<span id="cb199-13"><a href="data-analysis.html#cb199-13" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb199-14"><a href="data-analysis.html#cb199-14" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb199-15"><a href="data-analysis.html#cb199-15" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb199-16"><a href="data-analysis.html#cb199-16" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder),</span>
<span id="cb199-17"><a href="data-analysis.html#cb199-17" tabindex="-1"></a>    <span class="at">color=</span><span class="sc">~</span>Murder,</span>
<span id="cb199-18"><a href="data-analysis.html#cb199-18" tabindex="-1"></a>    <span class="at">marker=</span><span class="fu">list</span>(</span>
<span id="cb199-19"><a href="data-analysis.html#cb199-19" tabindex="-1"></a>        <span class="at">size=</span><span class="sc">~</span>Murder,</span>
<span id="cb199-20"><a href="data-analysis.html#cb199-20" tabindex="-1"></a>        <span class="at">opacity=</span><span class="fl">0.5</span>,</span>
<span id="cb199-21"><a href="data-analysis.html#cb199-21" tabindex="-1"></a>        <span class="at">showscale=</span>T,  </span>
<span id="cb199-22"><a href="data-analysis.html#cb199-22" tabindex="-1"></a>        <span class="at">colorbar =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murder Arrests (per 100,000)&#39;</span>)))</span>
<span id="cb199-23"><a href="data-analysis.html#cb199-23" tabindex="-1"></a>fig <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">layout</span>(fig,</span>
<span id="cb199-24"><a href="data-analysis.html#cb199-24" tabindex="-1"></a>    <span class="at">showlegend=</span>F,</span>
<span id="cb199-25"><a href="data-analysis.html#cb199-25" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb199-26"><a href="data-analysis.html#cb199-26" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb199-27"><a href="data-analysis.html#cb199-27" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Assault Arrests per 100,000 People&#39;</span>))</span>
<span id="cb199-28"><a href="data-analysis.html#cb199-28" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-86e1b19a3e779b21aea6" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-86e1b19a3e779b21aea6">{"x":{"visdat":{"132b6f70d0bf":["function () ","plotlyVisDat"]},"cur_data":"132b6f70d0bf","attrs":{"132b6f70d0bf":{"x":{},"y":{},"mode":"markers","hoverinfo":"text","text":{},"marker":{"size":{},"opacity":0.5,"showscale":true,"colorbar":{"title":"Murder Arrests (per 100,000)"}},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Assault Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[58,48,80,50,91,78,77,72,80,60,83,54,83,65,57,66,52,66,51,67,85,74,66,44,70,53,62,81,56,89,70,86,45,44,75,68,67,72,87,48,45,59,80,80,32,63,73,39,66,60],"y":[236,263,294,190,276,204,110,238,335,211,46,120,249,113,56,115,109,249,83,300,149,255,72,259,178,109,102,252,57,159,285,254,337,45,120,151,159,106,174,279,86,188,201,120,48,156,145,81,53,161],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"marker":{"colorbar":{"title":"Murder Arrests (per 100,000)","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"size":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"opacity":0.5,"line":{"colorbar":{"title":"","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998]}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null},{"x":[32,91],"y":[45,337],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Murder","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.80000000000000004,17.399999999999999],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="beyond-basics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["index.pdf", "index.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
