<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 8 Data Analysis | index</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content=" 8 Data Analysis | index" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 8 Data Analysis | index" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="hypothesis-tests.html"/>
<link rel="next" href="reporting.html"/>
<script src="libs/jquery-3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-18.2.0/react.min.js"></script>
<script src="libs/react-18.2.0/react-dom.min.js"></script>
<script src="libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/reactable-0.4.4/reactable.css" rel="stylesheet" />
<script src="libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6.9000/profvis.js"></script>
<script src="libs/profvis-0.3.6.9000/scroll.js"></script>
<link href="libs/highlight-11.10.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-11.10.0/highlight.min.js"></script>
<script src="libs/profvis-binding-0.4.0/profvis.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rbooks</a></li>
<li class="toc-logo"><a href="./"><img src="Figures_Manual/Logo.png" width="140" height="100"></a></li>        

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="part"><span><b>I Data Analysis in R</b></span></li>
<li class="chapter" data-level="2" data-path="first-steps.html"><a href="first-steps.html"><i class="fa fa-check"></i><b>2</b> First Steps</a>
<ul>
<li class="chapter" data-level="2.1" data-path="first-steps.html"><a href="first-steps.html#why-r"><i class="fa fa-check"></i><b>2.1</b> Why R</a></li>
<li class="chapter" data-level="2.2" data-path="first-steps.html"><a href="first-steps.html#install-r"><i class="fa fa-check"></i><b>2.2</b> Install R</a></li>
<li class="chapter" data-level="2.3" data-path="first-steps.html"><a href="first-steps.html#interfacing-with-r"><i class="fa fa-check"></i><b>2.3</b> Interfacing with R</a></li>
<li class="chapter" data-level="2.4" data-path="first-steps.html"><a href="first-steps.html#introductions-to-r"><i class="fa fa-check"></i><b>2.4</b> Introductions to R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="mathematics.html"><a href="mathematics.html"><i class="fa fa-check"></i><b>3</b> Mathematics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="mathematics.html"><a href="mathematics.html#scalars"><i class="fa fa-check"></i><b>3.1</b> Scalars</a></li>
<li class="chapter" data-level="3.2" data-path="mathematics.html"><a href="mathematics.html#vectors"><i class="fa fa-check"></i><b>3.2</b> Vectors</a></li>
<li class="chapter" data-level="3.3" data-path="mathematics.html"><a href="mathematics.html#functions"><i class="fa fa-check"></i><b>3.3</b> Functions</a></li>
<li class="chapter" data-level="3.4" data-path="mathematics.html"><a href="mathematics.html#loops"><i class="fa fa-check"></i><b>3.4</b> Loops</a></li>
<li class="chapter" data-level="3.5" data-path="mathematics.html"><a href="mathematics.html#logic"><i class="fa fa-check"></i><b>3.5</b> Logic</a></li>
<li class="chapter" data-level="3.6" data-path="mathematics.html"><a href="mathematics.html#matrices"><i class="fa fa-check"></i><b>3.6</b> Matrices</a></li>
<li class="chapter" data-level="3.7" data-path="mathematics.html"><a href="mathematics.html#arrays"><i class="fa fa-check"></i><b>3.7</b> Arrays</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>4</b> Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data.html"><a href="data.html#types"><i class="fa fa-check"></i><b>4.1</b> Types</a></li>
<li class="chapter" data-level="4.2" data-path="data.html"><a href="data.html#empirical-distributions"><i class="fa fa-check"></i><b>4.2</b> Empirical Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="data.html"><a href="data.html#joint-distributions"><i class="fa fa-check"></i><b>4.3</b> Joint Distributions</a></li>
<li class="chapter" data-level="4.4" data-path="data.html"><a href="data.html#conditional-distributions"><i class="fa fa-check"></i><b>4.4</b> Conditional Distributions</a></li>
<li class="chapter" data-level="4.5" data-path="data.html"><a href="data.html#random-variables"><i class="fa fa-check"></i><b>4.5</b> Random Variables</a></li>
<li class="chapter" data-level="4.6" data-path="data.html"><a href="data.html#further-reading"><i class="fa fa-check"></i><b>4.6</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>5</b> Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistics.html"><a href="statistics.html#mean-and-variance"><i class="fa fa-check"></i><b>5.1</b> Mean and Variance</a></li>
<li class="chapter" data-level="5.2" data-path="statistics.html"><a href="statistics.html#shape-statistics"><i class="fa fa-check"></i><b>5.2</b> Shape Statistics</a></li>
<li class="chapter" data-level="5.3" data-path="statistics.html"><a href="statistics.html#other-centerspread-statistics"><i class="fa fa-check"></i><b>5.3</b> Other Center/Spread Statistics</a></li>
<li class="chapter" data-level="5.4" data-path="statistics.html"><a href="statistics.html#associations"><i class="fa fa-check"></i><b>5.4</b> Associations</a></li>
<li class="chapter" data-level="5.5" data-path="statistics.html"><a href="statistics.html#beyond-basics"><i class="fa fa-check"></i><b>5.5</b> Beyond Basics</a></li>
<li class="chapter" data-level="5.6" data-path="statistics.html"><a href="statistics.html#further-reading-1"><i class="fa fa-check"></i><b>5.6</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>6</b> (Re)Sampling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="resampling.html"><a href="resampling.html#sample-distributions"><i class="fa fa-check"></i><b>6.1</b> Sample Distributions</a></li>
<li class="chapter" data-level="6.2" data-path="resampling.html"><a href="resampling.html#intervals"><i class="fa fa-check"></i><b>6.2</b> Intervals</a></li>
<li class="chapter" data-level="6.3" data-path="resampling.html"><a href="resampling.html#resampling-1"><i class="fa fa-check"></i><b>6.3</b> Resampling</a></li>
<li class="chapter" data-level="6.4" data-path="resampling.html"><a href="resampling.html#value-of-more-data"><i class="fa fa-check"></i><b>6.4</b> Value of More Data</a></li>
<li class="chapter" data-level="6.5" data-path="resampling.html"><a href="resampling.html#further-reading-2"><i class="fa fa-check"></i><b>6.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>7</b> Hypothesis Tests</a>
<ul>
<li class="chapter" data-level="7.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#basic-ideas"><i class="fa fa-check"></i><b>7.1</b> Basic Ideas</a></li>
<li class="chapter" data-level="7.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#default-statistics"><i class="fa fa-check"></i><b>7.2</b> Default Statistics</a></li>
<li class="chapter" data-level="7.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#two-sample-differences"><i class="fa fa-check"></i><b>7.3</b> Two-Sample Differences</a></li>
<li class="chapter" data-level="7.4" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#further-literature"><i class="fa fa-check"></i><b>7.4</b> Further Literature</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>8</b> Data Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-analysis.html"><a href="data-analysis.html#reading-in"><i class="fa fa-check"></i><b>8.1</b> Reading In</a></li>
<li class="chapter" data-level="8.2" data-path="data-analysis.html"><a href="data-analysis.html#cleaning-data"><i class="fa fa-check"></i><b>8.2</b> Cleaning Data</a></li>
<li class="chapter" data-level="8.3" data-path="data-analysis.html"><a href="data-analysis.html#polishing"><i class="fa fa-check"></i><b>8.3</b> Polishing</a></li>
<li class="chapter" data-level="8.4" data-path="data-analysis.html"><a href="data-analysis.html#interactive"><i class="fa fa-check"></i><b>8.4</b> Interactive</a></li>
<li class="chapter" data-level="8.5" data-path="data-analysis.html"><a href="data-analysis.html#custom-figures"><i class="fa fa-check"></i><b>8.5</b> Custom Figures</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reporting.html"><a href="reporting.html"><i class="fa fa-check"></i><b>9</b> Reporting</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reporting.html"><a href="reporting.html#r-and-r-markdown"><i class="fa fa-check"></i><b>9.1</b> R and R-Markdown</a></li>
<li class="chapter" data-level="9.2" data-path="reporting.html"><a href="reporting.html#simple-reports"><i class="fa fa-check"></i><b>9.2</b> Simple Reports</a></li>
<li class="chapter" data-level="9.3" data-path="reporting.html"><a href="reporting.html#posters-and-slides"><i class="fa fa-check"></i><b>9.3</b> Posters and Slides</a></li>
<li class="chapter" data-level="9.4" data-path="reporting.html"><a href="reporting.html#more-literature"><i class="fa fa-check"></i><b>9.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="probability-theory.html"><a href="probability-theory.html"><i class="fa fa-check"></i><b>10</b> Probability Theory</a>
<ul>
<li class="chapter" data-level="10.1" data-path="probability-theory.html"><a href="probability-theory.html#mean-and-variance-1"><i class="fa fa-check"></i><b>10.1</b> Mean and Variance</a></li>
<li class="chapter" data-level="10.2" data-path="probability-theory.html"><a href="probability-theory.html#bivariate-distributions"><i class="fa fa-check"></i><b>10.2</b> Bivariate Distributions</a></li>
<li class="chapter" data-level="10.3" data-path="probability-theory.html"><a href="probability-theory.html#further-reading-3"><i class="fa fa-check"></i><b>10.3</b> Further Reading</a></li>
</ul></li>
<li class="part"><span><b>II Linear Regression in R</b></span></li>
<li class="chapter" data-level="11" data-path="regression-basics.html"><a href="regression-basics.html"><i class="fa fa-check"></i><b>11</b> Regression Basics</a>
<ul>
<li class="chapter" data-level="11.1" data-path="regression-basics.html"><a href="regression-basics.html#simple-linear-regression"><i class="fa fa-check"></i><b>11.1</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="11.2" data-path="regression-basics.html"><a href="regression-basics.html#variability-estimates"><i class="fa fa-check"></i><b>11.2</b> Variability Estimates</a></li>
<li class="chapter" data-level="11.3" data-path="regression-basics.html"><a href="regression-basics.html#hypothesis-tests-1"><i class="fa fa-check"></i><b>11.3</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="11.4" data-path="regression-basics.html"><a href="regression-basics.html#local-linear-regression"><i class="fa fa-check"></i><b>11.4</b> Local Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>12</b> Multiple Regression</a>
<ul>
<li class="chapter" data-level="12.1" data-path="multiple-regression.html"><a href="multiple-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>12.1</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="12.2" data-path="multiple-regression.html"><a href="multiple-regression.html#factor-variables"><i class="fa fa-check"></i><b>12.2</b> Factor Variables</a></li>
<li class="chapter" data-level="12.3" data-path="multiple-regression.html"><a href="multiple-regression.html#variability-estimates-1"><i class="fa fa-check"></i><b>12.3</b> Variability Estimates</a></li>
<li class="chapter" data-level="12.4" data-path="multiple-regression.html"><a href="multiple-regression.html#hypothesis-tests-2"><i class="fa fa-check"></i><b>12.4</b> Hypothesis Tests</a></li>
<li class="chapter" data-level="12.5" data-path="multiple-regression.html"><a href="multiple-regression.html#coefficient-interpretation"><i class="fa fa-check"></i><b>12.5</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="12.6" data-path="multiple-regression.html"><a href="multiple-regression.html#more-literature-1"><i class="fa fa-check"></i><b>12.6</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="multiple-regression-ii.html"><a href="multiple-regression-ii.html"><i class="fa fa-check"></i><b>13</b> Multiple Regression II</a>
<ul>
<li class="chapter" data-level="13.1" data-path="multiple-regression-ii.html"><a href="multiple-regression-ii.html#diagnostics"><i class="fa fa-check"></i><b>13.1</b> Diagnostics</a></li>
<li class="chapter" data-level="13.2" data-path="multiple-regression-ii.html"><a href="multiple-regression-ii.html#transformations"><i class="fa fa-check"></i><b>13.2</b> Transformations</a></li>
<li class="chapter" data-level="13.3" data-path="multiple-regression-ii.html"><a href="multiple-regression-ii.html#regressograms"><i class="fa fa-check"></i><b>13.3</b> Regressograms</a></li>
<li class="chapter" data-level="13.4" data-path="multiple-regression-ii.html"><a href="multiple-regression-ii.html#more-literature-2"><i class="fa fa-check"></i><b>13.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="observational-data.html"><a href="observational-data.html"><i class="fa fa-check"></i><b>14</b> Observational Data</a>
<ul>
<li class="chapter" data-level="14.1" data-path="observational-data.html"><a href="observational-data.html#temporal-interdependence"><i class="fa fa-check"></i><b>14.1</b> Temporal Interdependence</a></li>
<li class="chapter" data-level="14.2" data-path="observational-data.html"><a href="observational-data.html#spatial-interdependence"><i class="fa fa-check"></i><b>14.2</b> Spatial Interdependence</a></li>
<li class="chapter" data-level="14.3" data-path="observational-data.html"><a href="observational-data.html#endogeneity-issues"><i class="fa fa-check"></i><b>14.3</b> Endogeneity Issues</a></li>
<li class="chapter" data-level="14.4" data-path="observational-data.html"><a href="observational-data.html#historical-event-studies"><i class="fa fa-check"></i><b>14.4</b> Historical Event Studies</a></li>
<li class="chapter" data-level="14.5" data-path="observational-data.html"><a href="observational-data.html#more-literature-3"><i class="fa fa-check"></i><b>14.5</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="experimental-data.html"><a href="experimental-data.html"><i class="fa fa-check"></i><b>15</b> Experimental Data</a>
<ul>
<li class="chapter" data-level="15.1" data-path="experimental-data.html"><a href="experimental-data.html#regression-discontinuitieskink-rdrk"><i class="fa fa-check"></i><b>15.1</b> Regression Discontinuities/Kink (RD/RK)</a></li>
<li class="chapter" data-level="15.2" data-path="experimental-data.html"><a href="experimental-data.html#difference-in-differences-did"><i class="fa fa-check"></i><b>15.2</b> Difference in Differences (DID)</a></li>
<li class="chapter" data-level="15.3" data-path="experimental-data.html"><a href="experimental-data.html#more-literature-4"><i class="fa fa-check"></i><b>15.3</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-scientism.html"><a href="data-scientism.html"><i class="fa fa-check"></i><b>16</b> Data Scientism</a>
<ul>
<li class="chapter" data-level="16.1" data-path="data-scientism.html"><a href="data-scientism.html#data-errors"><i class="fa fa-check"></i><b>16.1</b> Data Errors</a></li>
<li class="chapter" data-level="16.2" data-path="data-scientism.html"><a href="data-scientism.html#p-hacking"><i class="fa fa-check"></i><b>16.2</b> P-Hacking</a></li>
<li class="chapter" data-level="16.3" data-path="data-scientism.html"><a href="data-scientism.html#spurious-regression"><i class="fa fa-check"></i><b>16.3</b> Spurious Regression</a></li>
<li class="chapter" data-level="16.4" data-path="data-scientism.html"><a href="data-scientism.html#spurious-causal-impacts"><i class="fa fa-check"></i><b>16.4</b> Spurious Causal Impacts</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="misc.-topics.html"><a href="misc.-topics.html"><i class="fa fa-check"></i><b>17</b> Misc. Topics</a>
<ul>
<li class="chapter" data-level="17.1" data-path="misc.-topics.html"><a href="misc.-topics.html#locally-linear-multiple-regression"><i class="fa fa-check"></i><b>17.1</b> Locally Linear Multiple Regression</a></li>
<li class="chapter" data-level="17.2" data-path="misc.-topics.html"><a href="misc.-topics.html#nonparametric-tests"><i class="fa fa-check"></i><b>17.2</b> Nonparametric Tests</a></li>
<li class="chapter" data-level="17.3" data-path="misc.-topics.html"><a href="misc.-topics.html#prediction"><i class="fa fa-check"></i><b>17.3</b> Prediction</a></li>
<li class="chapter" data-level="17.4" data-path="misc.-topics.html"><a href="misc.-topics.html#decision-analysis"><i class="fa fa-check"></i><b>17.4</b> Decision Analysis</a></li>
</ul></li>
<li class="part"><span><b>III Reproducible Research in R</b></span></li>
<li class="chapter" data-level="18" data-path="why.html"><a href="why.html"><i class="fa fa-check"></i><b>18</b> Why?</a>
<ul>
<li class="chapter" data-level="18.1" data-path="why.html"><a href="why.html#an-example-workflow"><i class="fa fa-check"></i><b>18.1</b> An example workflow</a></li>
<li class="chapter" data-level="18.2" data-path="why.html"><a href="why.html#an-alternative-workflow"><i class="fa fa-check"></i><b>18.2</b> An alternative workflow</a></li>
<li class="chapter" data-level="18.3" data-path="why.html"><a href="why.html#task-views"><i class="fa fa-check"></i><b>18.3</b> Task Views</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="large-projects.html"><a href="large-projects.html"><i class="fa fa-check"></i><b>19</b> Large Projects</a>
<ul>
<li class="chapter" data-level="19.1" data-path="large-projects.html"><a href="large-projects.html#scripting"><i class="fa fa-check"></i><b>19.1</b> Scripting</a></li>
<li class="chapter" data-level="19.2" data-path="large-projects.html"><a href="large-projects.html#organization"><i class="fa fa-check"></i><b>19.2</b> Organization</a></li>
<li class="chapter" data-level="19.3" data-path="large-projects.html"><a href="large-projects.html#loggingsinking"><i class="fa fa-check"></i><b>19.3</b> Logging/Sinking</a></li>
<li class="chapter" data-level="19.4" data-path="large-projects.html"><a href="large-projects.html#class-projects"><i class="fa fa-check"></i><b>19.4</b> Class Projects</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="performance.html"><a href="performance.html"><i class="fa fa-check"></i><b>20</b> Performance</a>
<ul>
<li class="chapter" data-level="20.1" data-path="performance.html"><a href="performance.html#debugging"><i class="fa fa-check"></i><b>20.1</b> Debugging</a></li>
<li class="chapter" data-level="20.2" data-path="performance.html"><a href="performance.html#optimizing"><i class="fa fa-check"></i><b>20.2</b> Optimizing</a></li>
<li class="chapter" data-level="20.3" data-path="performance.html"><a href="performance.html#advanced-optimizing"><i class="fa fa-check"></i><b>20.3</b> Advanced Optimizing</a></li>
<li class="chapter" data-level="20.4" data-path="performance.html"><a href="performance.html#more-literature-5"><i class="fa fa-check"></i><b>20.4</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>21</b> Applications</a>
<ul>
<li class="chapter" data-level="21.1" data-path="applications.html"><a href="applications.html#more-literature-6"><i class="fa fa-check"></i><b>21.1</b> More Literature</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>22</b> Software</a>
<ul>
<li class="chapter" data-level="22.1" data-path="software.html"><a href="software.html#latest-versions"><i class="fa fa-check"></i><b>22.1</b> Latest versions</a></li>
<li class="chapter" data-level="22.2" data-path="software.html"><a href="software.html#general-workflow"><i class="fa fa-check"></i><b>22.2</b> General Workflow</a></li>
<li class="chapter" data-level="22.3" data-path="software.html"><a href="software.html#sweave"><i class="fa fa-check"></i><b>22.3</b> Sweave</a></li>
<li class="chapter" data-level="22.4" data-path="software.html"><a href="software.html#stata"><i class="fa fa-check"></i><b>22.4</b> Stata</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/view/jordan-adamson" target="blank">Jordan Adamson</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-analysis" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number"> 8</span> Data Analysis<a href="data-analysis.html#data-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<hr />
<div id="reading-in" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Reading In<a href="data-analysis.html#reading-in" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The first step in data analysis is getting data into R. There are many ways to do this, depending on your data structure. Perhaps the most common case is reading in a csv file.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="data-analysis.html#cb349-1" tabindex="-1"></a><span class="co"># Read in csv (downloaded from online)</span></span>
<span id="cb349-2"><a href="data-analysis.html#cb349-2" tabindex="-1"></a><span class="co"># download source &#39;http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF19-3.csv&#39;</span></span>
<span id="cb349-3"><a href="data-analysis.html#cb349-3" tabindex="-1"></a><span class="co"># download destination &#39;~/TableF19-3.csv&#39;</span></span>
<span id="cb349-4"><a href="data-analysis.html#cb349-4" tabindex="-1"></a><span class="fu">read.csv</span>(<span class="st">&#39;~/TableF19-3.csv&#39;</span>)</span>
<span id="cb349-5"><a href="data-analysis.html#cb349-5" tabindex="-1"></a> </span>
<span id="cb349-6"><a href="data-analysis.html#cb349-6" tabindex="-1"></a><span class="co"># Can read in csv (directly from online)</span></span>
<span id="cb349-7"><a href="data-analysis.html#cb349-7" tabindex="-1"></a><span class="co"># dat_csv &lt;- read.csv(&#39;http://www.stern.nyu.edu/~wgreene/Text/Edition7/TableF19-3.csv&#39;)</span></span></code></pre></div>
<p>Reading in other types of data can require the use of “packages”. For example, the “wooldridge” package contains datasets on crime. To use this data, we must first install the package on our computer. Then, to access the data, we must first load the package.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="data-analysis.html#cb350-1" tabindex="-1"></a><span class="co"># Install R Data Package and Load in</span></span>
<span id="cb350-2"><a href="data-analysis.html#cb350-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;wooldridge&#39;</span>) <span class="co"># only once</span></span>
<span id="cb350-3"><a href="data-analysis.html#cb350-3" tabindex="-1"></a><span class="fu">library</span>(wooldridge) <span class="co"># anytime you want to use the data</span></span>
<span id="cb350-4"><a href="data-analysis.html#cb350-4" tabindex="-1"></a></span>
<span id="cb350-5"><a href="data-analysis.html#cb350-5" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime2&#39;</span>) </span>
<span id="cb350-6"><a href="data-analysis.html#cb350-6" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&#39;crime4&#39;</span>)</span></code></pre></div>
<p>We can use packages to access many different types of data. To read in a Stata data file, for example, we can use the “haven” package.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="data-analysis.html#cb351-1" tabindex="-1"></a><span class="co"># Read in stata data file from online</span></span>
<span id="cb351-2"><a href="data-analysis.html#cb351-2" tabindex="-1"></a><span class="co">#library(haven)</span></span>
<span id="cb351-3"><a href="data-analysis.html#cb351-3" tabindex="-1"></a><span class="co">#dat_stata &lt;- read_dta(&#39;https://www.ssc.wisc.edu/~bhansen/econometrics/DS2004.dta&#39;)</span></span>
<span id="cb351-4"><a href="data-analysis.html#cb351-4" tabindex="-1"></a><span class="co">#dat_stata &lt;- as.data.frame(dat_stata)</span></span>
<span id="cb351-5"><a href="data-analysis.html#cb351-5" tabindex="-1"></a></span>
<span id="cb351-6"><a href="data-analysis.html#cb351-6" tabindex="-1"></a><span class="co"># For More Introductory Econometrics Data, see </span></span>
<span id="cb351-7"><a href="data-analysis.html#cb351-7" tabindex="-1"></a><span class="co"># https://www.ssc.wisc.edu/~bhansen/econometrics/Econometrics%20Data.zip</span></span>
<span id="cb351-8"><a href="data-analysis.html#cb351-8" tabindex="-1"></a><span class="co"># https://pages.stern.nyu.edu/~wgreene/Text/Edition7/tablelist8new.htm</span></span>
<span id="cb351-9"><a href="data-analysis.html#cb351-9" tabindex="-1"></a><span class="co"># R packages: wooldridge, causaldata, Ecdat, AER, ....</span></span></code></pre></div>
<p><strong>Github</strong>.
Sometimes you will want to install a package from GitHub. For this, you can use <a href="https://devtools.r-lib.org/">devtools</a> or its light-weight version <a href="https://remotes.r-lib.org/">remotes</a></p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="data-analysis.html#cb352-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb352-2"><a href="data-analysis.html#cb352-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;remotes&quot;</span>)</span></code></pre></div>
<p>Note that to install <code>devtools</code>, you also need to have developer tools installed on your computer.</p>
<ul>
<li>Windows: <a href="https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html">Rtools</a></li>
<li>Mac: <a href="https://apps.apple.com/us/app/xcode/id497799835?mt=12">Xcode</a></li>
</ul>
<p>To color terminal output on Linux systems, you can use the colorout package</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="data-analysis.html#cb353-1" tabindex="-1"></a><span class="fu">library</span>(remotes)</span>
<span id="cb353-2"><a href="data-analysis.html#cb353-2" tabindex="-1"></a><span class="co"># Install https://github.com/jalvesaq/colorout</span></span>
<span id="cb353-3"><a href="data-analysis.html#cb353-3" tabindex="-1"></a><span class="co"># to .libPaths()[1]</span></span>
<span id="cb353-4"><a href="data-analysis.html#cb353-4" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&#39;jalvesaq/colorout&#39;</span>)</span>
<span id="cb353-5"><a href="data-analysis.html#cb353-5" tabindex="-1"></a><span class="fu">library</span>(colorout)</span></code></pre></div>
<p><strong>Base</strong>.
While additional packages can make your code faster, they also create dependancies that can lead to problems. So learn base R well before becoming dependant on other packages</p>
<ul>
<li><a href="https://bitsofanalytics.org/posts/base-vs-tidy/" class="uri">https://bitsofanalytics.org/posts/base-vs-tidy/</a></li>
<li><a href="https://jtr13.github.io/cc21fall2/comparison-among-base-r-tidyverse-and-datatable.html" class="uri">https://jtr13.github.io/cc21fall2/comparison-among-base-r-tidyverse-and-datatable.html</a></li>
</ul>
</div>
<div id="cleaning-data" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Cleaning Data<a href="data-analysis.html#cleaning-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data transformation is often necessary before analysis, so remember to be careful and check your code is doing what you want. (If you have large datasets, you can always test out the code on a sample.)</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="data-analysis.html#cb354-1" tabindex="-1"></a><span class="co"># Function to Create Sample Datasets</span></span>
<span id="cb354-2"><a href="data-analysis.html#cb354-2" tabindex="-1"></a>make_noisy_data <span class="ot">&lt;-</span> <span class="cf">function</span>(n, <span class="at">b=</span><span class="dv">0</span>){</span>
<span id="cb354-3"><a href="data-analysis.html#cb354-3" tabindex="-1"></a>    <span class="co"># Simple Data Generating Process</span></span>
<span id="cb354-4"><a href="data-analysis.html#cb354-4" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="dv">10</span>, <span class="at">length.out=</span>n) </span>
<span id="cb354-5"><a href="data-analysis.html#cb354-5" tabindex="-1"></a>    e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">10</span>)</span>
<span id="cb354-6"><a href="data-analysis.html#cb354-6" tabindex="-1"></a>    y <span class="ot">&lt;-</span> b<span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb354-7"><a href="data-analysis.html#cb354-7" tabindex="-1"></a>    <span class="co"># Obervations</span></span>
<span id="cb354-8"><a href="data-analysis.html#cb354-8" tabindex="-1"></a>    xy_mat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID=</span><span class="fu">seq</span>(x), <span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb354-9"><a href="data-analysis.html#cb354-9" tabindex="-1"></a>    <span class="fu">return</span>(xy_mat)</span>
<span id="cb354-10"><a href="data-analysis.html#cb354-10" tabindex="-1"></a>}</span>
<span id="cb354-11"><a href="data-analysis.html#cb354-11" tabindex="-1"></a></span>
<span id="cb354-12"><a href="data-analysis.html#cb354-12" tabindex="-1"></a><span class="co"># Two simulated datasets</span></span>
<span id="cb354-13"><a href="data-analysis.html#cb354-13" tabindex="-1"></a>dat1 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb354-14"><a href="data-analysis.html#cb354-14" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">make_noisy_data</span>(<span class="dv">6</span>)</span>
<span id="cb354-15"><a href="data-analysis.html#cb354-15" tabindex="-1"></a></span>
<span id="cb354-16"><a href="data-analysis.html#cb354-16" tabindex="-1"></a><span class="co"># Merging data in long format</span></span>
<span id="cb354-17"><a href="data-analysis.html#cb354-17" tabindex="-1"></a>dat_merged_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb354-18"><a href="data-analysis.html#cb354-18" tabindex="-1"></a>    <span class="fu">cbind</span>(dat1,<span class="at">DF=</span><span class="dv">1</span>),</span>
<span id="cb354-19"><a href="data-analysis.html#cb354-19" tabindex="-1"></a>    <span class="fu">cbind</span>(dat2,<span class="at">DF=</span><span class="dv">2</span>))</span></code></pre></div>
<p>Now suppose we want to transform into wide format</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="data-analysis.html#cb355-1" tabindex="-1"></a><span class="co"># Merging data in wide format, First Attempt</span></span>
<span id="cb355-2"><a href="data-analysis.html#cb355-2" tabindex="-1"></a>dat_merged_wide <span class="ot">&lt;-</span> <span class="fu">cbind</span>( dat1, dat2)</span>
<span id="cb355-3"><a href="data-analysis.html#cb355-3" tabindex="-1"></a><span class="fu">names</span>(dat_merged_wide) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="fu">names</span>(dat1),<span class="st">&#39;.1&#39;</span>), <span class="fu">paste0</span>(<span class="fu">names</span>(dat2),<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb355-4"><a href="data-analysis.html#cb355-4" tabindex="-1"></a></span>
<span id="cb355-5"><a href="data-analysis.html#cb355-5" tabindex="-1"></a><span class="co"># Merging data in wide format, Second Attempt</span></span>
<span id="cb355-6"><a href="data-analysis.html#cb355-6" tabindex="-1"></a><span class="co"># higher performance</span></span>
<span id="cb355-7"><a href="data-analysis.html#cb355-7" tabindex="-1"></a>dat_merged_wide2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(dat1, dat2,</span>
<span id="cb355-8"><a href="data-analysis.html#cb355-8" tabindex="-1"></a>    <span class="at">by=</span><span class="st">&#39;ID&#39;</span>, <span class="at">suffixes=</span><span class="fu">c</span>(<span class="st">&#39;.1&#39;</span>,<span class="st">&#39;.2&#39;</span>))</span>
<span id="cb355-9"><a href="data-analysis.html#cb355-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb355-10"><a href="data-analysis.html#cb355-10" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide, dat_merged_wide2)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="data-analysis.html#cb357-1" tabindex="-1"></a><span class="co"># Inspect any differences</span></span>
<span id="cb357-2"><a href="data-analysis.html#cb357-2" tabindex="-1"></a></span>
<span id="cb357-3"><a href="data-analysis.html#cb357-3" tabindex="-1"></a><span class="co"># Merging data in wide format, Third Attempt with dedicated package</span></span>
<span id="cb357-4"><a href="data-analysis.html#cb357-4" tabindex="-1"></a><span class="co"># (highest performance but with new type of object)</span></span>
<span id="cb357-5"><a href="data-analysis.html#cb357-5" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb357-6"><a href="data-analysis.html#cb357-6" tabindex="-1"></a>dat_merged_longDT <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(dat_merged_long)</span>
<span id="cb357-7"><a href="data-analysis.html#cb357-7" tabindex="-1"></a>dat_melted <span class="ot">&lt;-</span> <span class="fu">melt</span>(dat_merged_longDT, <span class="at">id.vars=</span><span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>, <span class="st">&#39;DF&#39;</span>))</span>
<span id="cb357-8"><a href="data-analysis.html#cb357-8" tabindex="-1"></a>dat_merged_wide3 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dat_melted, ID<span class="sc">~</span>DF<span class="sc">+</span>variable)</span>
<span id="cb357-9"><a href="data-analysis.html#cb357-9" tabindex="-1"></a></span>
<span id="cb357-10"><a href="data-analysis.html#cb357-10" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb357-11"><a href="data-analysis.html#cb357-11" tabindex="-1"></a><span class="fu">identical</span>(dat_merged_wide, dat_merged_wide3)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Often, however, we ultimately want data in long format</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="data-analysis.html#cb359-1" tabindex="-1"></a><span class="co"># Merging data in long format, Second Attempt with dedicated package </span></span>
<span id="cb359-2"><a href="data-analysis.html#cb359-2" tabindex="-1"></a>dat_melted2 <span class="ot">&lt;-</span> <span class="fu">melt</span>(dat_merged_wide3, <span class="at">measure=</span><span class="fu">c</span>(<span class="st">&quot;1_x&quot;</span>,<span class="st">&quot;1_y&quot;</span>,<span class="st">&quot;2_x&quot;</span>,<span class="st">&quot;2_y&quot;</span>))</span>
<span id="cb359-3"><a href="data-analysis.html#cb359-3" tabindex="-1"></a>melt_vars <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">as.character</span>(dat_melted2<span class="sc">$</span>variable),<span class="st">&#39;_&#39;</span>)</span>
<span id="cb359-4"><a href="data-analysis.html#cb359-4" tabindex="-1"></a>dat_melted2<span class="sc">$</span>DF <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">1</span>)</span>
<span id="cb359-5"><a href="data-analysis.html#cb359-5" tabindex="-1"></a>dat_melted2<span class="sc">$</span>variable <span class="ot">&lt;-</span> <span class="fu">sapply</span>(melt_vars, <span class="st">`</span><span class="at">[[</span><span class="st">`</span>,<span class="dv">2</span>)</span>
<span id="cb359-6"><a href="data-analysis.html#cb359-6" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> <span class="fu">dcast</span>(dat_melted2, DF<span class="sc">+</span>ID<span class="sc">~</span>variable)</span>
<span id="cb359-7"><a href="data-analysis.html#cb359-7" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(dat_merged_long2)</span>
<span id="cb359-8"><a href="data-analysis.html#cb359-8" tabindex="-1"></a></span>
<span id="cb359-9"><a href="data-analysis.html#cb359-9" tabindex="-1"></a><span class="do">## CHECK they are the same.</span></span>
<span id="cb359-10"><a href="data-analysis.html#cb359-10" tabindex="-1"></a><span class="fu">identical</span>( dat_merged_long2, dat_merged_long)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="data-analysis.html#cb361-1" tabindex="-1"></a><span class="co"># Further Inspect</span></span>
<span id="cb361-2"><a href="data-analysis.html#cb361-2" tabindex="-1"></a>dat_merged_long2 <span class="ot">&lt;-</span> dat_merged_long2[,<span class="fu">c</span>(<span class="st">&#39;ID&#39;</span>,<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;DF&#39;</span>)]</span>
<span id="cb361-3"><a href="data-analysis.html#cb361-3" tabindex="-1"></a><span class="fu">mapply</span>( identical, dat_merged_long2, dat_merged_long)</span></code></pre></div>
<pre><code>##    ID     x     y    DF 
##  TRUE  TRUE  TRUE FALSE</code></pre>
<p>For more tips, see <a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf" class="uri">https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf</a> and <a href="https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html" class="uri">https://cran.r-project.org/web/packages/data.table/vignettes/datatable-reshape.html</a>
<!--\url{https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf}--></p>
</div>
<div id="polishing" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Polishing<a href="data-analysis.html#polishing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Your first figures are typically standard.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="data-analysis.html#cb363-1" tabindex="-1"></a><span class="co"># Random Data</span></span>
<span id="cb363-2"><a href="data-analysis.html#cb363-2" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="at">by=</span>.<span class="dv">0002</span>)</span>
<span id="cb363-3"><a href="data-analysis.html#cb363-3" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="at">mean=</span><span class="dv">0</span>, <span class="at">sd=</span><span class="dv">1</span>)</span>
<span id="cb363-4"><a href="data-analysis.html#cb363-4" tabindex="-1"></a>y <span class="ot">&lt;-</span> .<span class="dv">25</span><span class="sc">*</span>x <span class="sc">+</span> e </span>
<span id="cb363-5"><a href="data-analysis.html#cb363-5" tabindex="-1"></a></span>
<span id="cb363-6"><a href="data-analysis.html#cb363-6" tabindex="-1"></a><span class="co"># First Drafts</span></span>
<span id="cb363-7"><a href="data-analysis.html#cb363-7" tabindex="-1"></a><span class="co"># qqplot(x, y)</span></span>
<span id="cb363-8"><a href="data-analysis.html#cb363-8" tabindex="-1"></a><span class="co"># plot(x, y)</span></span></code></pre></div>
<p>Edit your plot to focus on the most useful information. For others to easily comprehend your work, you must also polish the plot.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="data-analysis.html#cb364-1" tabindex="-1"></a><span class="co"># Second Draft: Focus</span></span>
<span id="cb364-2"><a href="data-analysis.html#cb364-2" tabindex="-1"></a><span class="co"># (In this example: comparing shapes)</span></span>
<span id="cb364-3"><a href="data-analysis.html#cb364-3" tabindex="-1"></a>xs <span class="ot">&lt;-</span> <span class="fu">scale</span>(x)</span>
<span id="cb364-4"><a href="data-analysis.html#cb364-4" tabindex="-1"></a>ys <span class="ot">&lt;-</span> <span class="fu">scale</span>(y)</span>
<span id="cb364-5"><a href="data-analysis.html#cb364-5" tabindex="-1"></a><span class="co"># qqplot(xs, ys)</span></span>
<span id="cb364-6"><a href="data-analysis.html#cb364-6" tabindex="-1"></a></span>
<span id="cb364-7"><a href="data-analysis.html#cb364-7" tabindex="-1"></a><span class="co"># Third Draft: Polish</span></span>
<span id="cb364-8"><a href="data-analysis.html#cb364-8" tabindex="-1"></a><span class="fu">qqplot</span>(ys, xs, </span>
<span id="cb364-9"><a href="data-analysis.html#cb364-9" tabindex="-1"></a>    <span class="at">xlab=</span><span class="fu">expression</span>(<span class="st">&#39;[&#39;</span><span class="sc">~</span>X<span class="sc">-</span><span class="fu">bar</span>(X)<span class="sc">~</span><span class="st">&#39;] /&#39;</span><span class="sc">~</span>s[X]),</span>
<span id="cb364-10"><a href="data-analysis.html#cb364-10" tabindex="-1"></a>    <span class="at">ylab=</span><span class="fu">expression</span>(<span class="st">&#39;[&#39;</span><span class="sc">~</span>Y<span class="sc">-</span><span class="fu">bar</span>(Y)<span class="sc">~</span><span class="st">&#39;] /&#39;</span><span class="sc">~</span>s[Y]),</span>
<span id="cb364-11"><a href="data-analysis.html#cb364-11" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">cex=</span>.<span class="dv">5</span>, <span class="at">col=</span><span class="fu">grey</span>(<span class="dv">0</span>,.<span class="dv">2</span>))</span>
<span id="cb364-12"><a href="data-analysis.html#cb364-12" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a=</span><span class="dv">0</span>, <span class="at">b=</span><span class="dv">1</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
<p>When polishing, you must do two things</p>
<ul>
<li>Add details that are necessary to understand the figure</li>
<li>Remove unnecessary details (see e.g., <a href="https://www.edwardtufte.com/notebook/chartjunk/" class="uri">https://www.edwardtufte.com/notebook/chartjunk/</a> and <a href="https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/" class="uri">https://www.biostat.wisc.edu/~kbroman/topten_worstgraphs/</a>)</li>
</ul>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="data-analysis.html#cb365-1" tabindex="-1"></a><span class="co"># Another Example</span></span>
<span id="cb365-2"><a href="data-analysis.html#cb365-2" tabindex="-1"></a>xy_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb365-3"><a href="data-analysis.html#cb365-3" tabindex="-1"></a><span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="fl">0.9</span>), <span class="at">new=</span>F)</span>
<span id="cb365-4"><a href="data-analysis.html#cb365-4" tabindex="-1"></a><span class="fu">plot</span>(y<span class="sc">~</span>x, xy_dat, <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">05</span>), <span class="at">cex=</span>.<span class="dv">5</span>,</span>
<span id="cb365-5"><a href="data-analysis.html#cb365-5" tabindex="-1"></a>    <span class="at">xlab=</span><span class="st">&#39;&#39;</span>, <span class="at">ylab=</span><span class="st">&#39;&#39;</span>) <span class="co"># Format Axis Labels Seperately</span></span>
<span id="cb365-6"><a href="data-analysis.html#cb365-6" tabindex="-1"></a><span class="fu">mtext</span>( <span class="st">&#39;y=0.25 x + e</span><span class="sc">\n</span><span class="st"> e ~ standard-normal&#39;</span>, <span class="dv">2</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb365-7"><a href="data-analysis.html#cb365-7" tabindex="-1"></a><span class="fu">mtext</span>( <span class="fu">expression</span>(x<span class="sc">%in%</span><span class="er">~</span><span class="st">&#39;[0,10]&#39;</span>), <span class="dv">1</span>, <span class="at">line=</span><span class="fl">2.2</span>)</span>
<span id="cb365-8"><a href="data-analysis.html#cb365-8" tabindex="-1"></a></span>
<span id="cb365-9"><a href="data-analysis.html#cb365-9" tabindex="-1"></a><span class="fu">abline</span>( <span class="fu">lm</span>(y<span class="sc">~</span>x, <span class="at">data=</span>xy_dat), <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb365-10"><a href="data-analysis.html#cb365-10" tabindex="-1"></a></span>
<span id="cb365-11"><a href="data-analysis.html#cb365-11" tabindex="-1"></a><span class="fu">title</span>(<span class="st">&#39;Plot with good features, but too excessive in several ways&#39;</span>,</span>
<span id="cb365-12"><a href="data-analysis.html#cb365-12" tabindex="-1"></a>    <span class="at">adj=</span><span class="dv">0</span>, <span class="at">font.main=</span><span class="dv">1</span>)</span>
<span id="cb365-13"><a href="data-analysis.html#cb365-13" tabindex="-1"></a></span>
<span id="cb365-14"><a href="data-analysis.html#cb365-14" tabindex="-1"></a><span class="co"># Outer Legend (https://stackoverflow.com/questions/3932038/)</span></span>
<span id="cb365-15"><a href="data-analysis.html#cb365-15" tabindex="-1"></a>outer_legend <span class="ot">&lt;-</span> <span class="cf">function</span>(...) {</span>
<span id="cb365-16"><a href="data-analysis.html#cb365-16" tabindex="-1"></a>  opar <span class="ot">&lt;-</span> <span class="fu">par</span>(<span class="at">fig=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>), <span class="at">oma=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb365-17"><a href="data-analysis.html#cb365-17" tabindex="-1"></a>    <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="at">new=</span><span class="cn">TRUE</span>)</span>
<span id="cb365-18"><a href="data-analysis.html#cb365-18" tabindex="-1"></a>  <span class="fu">on.exit</span>(<span class="fu">par</span>(opar))</span>
<span id="cb365-19"><a href="data-analysis.html#cb365-19" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="at">type=</span><span class="st">&#39;n&#39;</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>)</span>
<span id="cb365-20"><a href="data-analysis.html#cb365-20" tabindex="-1"></a>  <span class="fu">legend</span>(...)</span>
<span id="cb365-21"><a href="data-analysis.html#cb365-21" tabindex="-1"></a>}</span>
<span id="cb365-22"><a href="data-analysis.html#cb365-22" tabindex="-1"></a><span class="fu">outer_legend</span>(<span class="st">&#39;topright&#39;</span>, <span class="at">legend=</span><span class="st">&#39;single data point&#39;</span>,</span>
<span id="cb365-23"><a href="data-analysis.html#cb365-23" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;do you see the normal distribution?&#39;</span>,</span>
<span id="cb365-24"><a href="data-analysis.html#cb365-24" tabindex="-1"></a>    <span class="at">pch=</span><span class="dv">16</span>, <span class="at">col=</span><span class="fu">rgb</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,.<span class="dv">1</span>), <span class="at">cex=</span><span class="dv">1</span>, <span class="at">bty=</span><span class="st">&#39;n&#39;</span>)</span></code></pre></div>
<p><img src="02-BasicStats_files/figure-html/unnamed-chunk-111-1.png" width="672" /></p>
<p>For useful tips, see C. Wilke (2019) “Fundamentals of Data Visualization: A Primer on Making Informative and
Compelling Figures” <a href="https://clauswilke.com/dataviz/" class="uri">https://clauswilke.com/dataviz/</a></p>
<p><strong>Saving</strong>.
You can export figures with specific dimensions</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="data-analysis.html#cb366-1" tabindex="-1"></a><span class="fu">pdf</span>( <span class="st">&#39;Figures/plot_example.pdf&#39;</span>, <span class="at">height=</span><span class="dv">5</span>, <span class="at">width=</span><span class="dv">5</span>)</span>
<span id="cb366-2"><a href="data-analysis.html#cb366-2" tabindex="-1"></a><span class="co"># plot goes here</span></span>
<span id="cb366-3"><a href="data-analysis.html#cb366-3" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<p>For plotting math, see
<a href="https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html" class="uri">https://astrostatistics.psu.edu/su07/R/html/grDevices/html/plotmath.html</a> and
<a href="https://library.virginia.edu/data/articles/mathematical-annotation-in-r" class="uri">https://library.virginia.edu/data/articles/mathematical-annotation-in-r</a></p>
<p>For exporting options, see <code>?pdf</code>.
For saving other types of files, see <code>png("*.png")</code>, <code>tiff("*.tiff")</code>, and <code>jpeg("*.jpg")</code></p>
<p>For some things to avoid, see <a href="https://www.data-to-viz.com/caveats.html" class="uri">https://www.data-to-viz.com/caveats.html</a></p>
<p><strong>Tables</strong>.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="data-analysis.html#cb367-1" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb367-2"><a href="data-analysis.html#cb367-2" tabindex="-1"></a><span class="co"># summary statistics</span></span>
<span id="cb367-3"><a href="data-analysis.html#cb367-3" tabindex="-1"></a><span class="fu">stargazer</span>(USArrests,</span>
<span id="cb367-4"><a href="data-analysis.html#cb367-4" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;html&#39;</span>, </span>
<span id="cb367-5"><a href="data-analysis.html#cb367-5" tabindex="-1"></a>    <span class="at">summary=</span>T,</span>
<span id="cb367-6"><a href="data-analysis.html#cb367-6" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Summary Statistics for USArrests&#39;</span>)</span></code></pre></div>
<table style="text-align:center">
<caption>
<strong>Summary Statistics for USArrests</strong>
</caption>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Murder
</td>
<td>
50
</td>
<td>
7.788
</td>
<td>
4.356
</td>
<td>
0.800
</td>
<td>
17.400
</td>
</tr>
<tr>
<td style="text-align:left">
Assault
</td>
<td>
50
</td>
<td>
170.760
</td>
<td>
83.338
</td>
<td>
45
</td>
<td>
337
</td>
</tr>
<tr>
<td style="text-align:left">
UrbanPop
</td>
<td>
50
</td>
<td>
65.540
</td>
<td>
14.475
</td>
<td>
32
</td>
<td>
91
</td>
</tr>
<tr>
<td style="text-align:left">
Rape
</td>
<td>
50
</td>
<td>
21.232
</td>
<td>
9.366
</td>
<td>
7.300
</td>
<td>
46.000
</td>
</tr>
<tr>
<td colspan="6" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
</div>
<div id="interactive" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Interactive<a href="data-analysis.html#interactive" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Tables</strong>.</p>
<p>You can create a basic interactive table to explore raw data.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="data-analysis.html#cb368-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;USArrests&quot;</span>)</span>
<span id="cb368-2"><a href="data-analysis.html#cb368-2" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb368-3"><a href="data-analysis.html#cb368-3" tabindex="-1"></a><span class="fu">reactable</span>(USArrests, <span class="at">filterable=</span>T, <span class="at">highlight=</span>T)</span></code></pre></div>
<div class="reactable html-widget html-fill-item" id="htmlwidget-8150a7413303e1a6c8f6" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8150a7413303e1a6c8f6">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],"Murder":[13.2,10,8.1,8.8,9,7.9,3.3,5.9,15.4,17.4,5.3,2.6,10.4,7.2,2.2,6,9.7,15.4,2.1,11.3,4.4,12.1,2.7,16.1,9,6,4.3,12.2,2.1,7.4,11.4,11.1,13,0.8,7.3,6.6,4.9,6.3,3.4,14.4,3.8,13.2,12.7,3.2,2.2,8.5,4,5.7,2.6,6.8],"Assault":[236,263,294,190,276,204,110,238,335,211,46,120,249,113,56,115,109,249,83,300,149,255,72,259,178,109,102,252,57,159,285,254,337,45,120,151,159,106,174,279,86,188,201,120,48,156,145,81,53,161],"UrbanPop":[58,48,80,50,91,78,77,72,80,60,83,54,83,65,57,66,52,66,51,67,85,74,66,44,70,53,62,81,56,89,70,86,45,44,75,68,67,72,87,48,45,59,80,80,32,63,73,39,66,60],"Rape":[21.2,44.5,31,19.5,40.6,38.7,11.1,15.8,31.9,25.8,20.2,14.2,24,21,11.3,18,16.3,22.2,7.8,27.8,16.3,35.1,14.9,17.1,28.2,16.4,16.5,46,9.5,18.8,32.1,26.1,16.1,7.3,21.4,20,29.3,14.9,8.3,22.5,12.8,26.9,25.5,22.9,11.2,20.7,26.2,9.3,10.8,15.6]},"columns":[{"id":".rownames","name":"","type":"character","sortable":false,"filterable":false,"rowHeader":true},{"id":"Murder","name":"Murder","type":"numeric"},{"id":"Assault","name":"Assault","type":"numeric"},{"id":"UrbanPop","name":"UrbanPop","type":"numeric"},{"id":"Rape","name":"Rape","type":"numeric"}],"filterable":true,"highlight":true,"dataKey":"c49af85e0b2038b0b71caf77db2bacb3"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>For further data exploration, your plots can also be made <a href="https://r-graph-gallery.com/interactive-charts.html">interactive</a> via <a href="https://plotly.com/r/" class="uri">https://plotly.com/r/</a>. For more details, see <a href="https://plotly-r.com/">examples</a> and then <a href="https://bookdown.org/paulcbauer/applied-data-visualization/10-plotly.html">applications</a>.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="data-analysis.html#cb369-1" tabindex="-1"></a><span class="co">#install.packages(&quot;plotly&quot;)</span></span>
<span id="cb369-2"><a href="data-analysis.html#cb369-2" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<p><strong>Histograms</strong>. See <a href="https://plotly.com/r/histograms/" class="uri">https://plotly.com/r/histograms/</a></p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="data-analysis.html#cb370-1" tabindex="-1"></a>pop_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(USArrests<span class="sc">$</span>UrbanPop)</span>
<span id="cb370-2"><a href="data-analysis.html#cb370-2" tabindex="-1"></a>murder_lowpop <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&lt;</span> pop_mean,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb370-3"><a href="data-analysis.html#cb370-3" tabindex="-1"></a>murder_highpop <span class="ot">&lt;-</span> USArrests[USArrests<span class="sc">$</span>UrbanPop<span class="sc">&gt;=</span> pop_mean,<span class="st">&#39;Murder&#39;</span>]</span>
<span id="cb370-4"><a href="data-analysis.html#cb370-4" tabindex="-1"></a></span>
<span id="cb370-5"><a href="data-analysis.html#cb370-5" tabindex="-1"></a></span>
<span id="cb370-6"><a href="data-analysis.html#cb370-6" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">alpha=</span><span class="fl">0.6</span>, </span>
<span id="cb370-7"><a href="data-analysis.html#cb370-7" tabindex="-1"></a>    <span class="at">hovertemplate=</span><span class="st">&quot;%{y}&quot;</span>)</span>
<span id="cb370-8"><a href="data-analysis.html#cb370-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(murder_lowpop, <span class="at">name=</span><span class="st">&#39;Low Pop. (&lt; Mean)&#39;</span>)</span>
<span id="cb370-9"><a href="data-analysis.html#cb370-9" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">add_histogram</span>(murder_highpop, <span class="at">name=</span><span class="st">&#39;High Pop (&gt;= Mean)&#39;</span>)</span>
<span id="cb370-10"><a href="data-analysis.html#cb370-10" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">barmode=</span><span class="st">&quot;stack&quot;</span>) <span class="co"># barmode=&quot;overlay&quot;</span></span>
<span id="cb370-11"><a href="data-analysis.html#cb370-11" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb370-12"><a href="data-analysis.html#cb370-12" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&quot;Crime and Urbanization in America 1975&quot;</span>,</span>
<span id="cb370-13"><a href="data-analysis.html#cb370-13" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>),</span>
<span id="cb370-14"><a href="data-analysis.html#cb370-14" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Number of States&#39;</span>),</span>
<span id="cb370-15"><a href="data-analysis.html#cb370-15" tabindex="-1"></a>    <span class="at">legend=</span><span class="fu">list</span>(<span class="at">title=</span><span class="fu">list</span>(<span class="at">text=</span><span class="st">&#39;&lt;b&gt; % Urban Pop. &lt;/b&gt;&#39;</span>))</span>
<span id="cb370-16"><a href="data-analysis.html#cb370-16" tabindex="-1"></a>)</span>
<span id="cb370-17"><a href="data-analysis.html#cb370-17" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-4aa3c4b3294103b01ec4" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-4aa3c4b3294103b01ec4">{"x":{"visdat":{"6ba371b4eb02":["function () ","plotlyVisDat"]},"cur_data":"6ba371b4eb02","attrs":{"6ba371b4eb02":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"Low Pop. (< Mean)","inherit":true},"6ba371b4eb02.1":{"hovertemplate":"%{y}","alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":"High Pop (>= Mean)","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of States"},"legend":{"title":{"text":"<b> % Urban Pop. <\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,7.2000000000000002,2.2000000000000002,9.6999999999999993,2.1000000000000001,16.100000000000001,6,4.2999999999999998,2.1000000000000001,13,0.80000000000000004,14.4,3.7999999999999998,13.199999999999999,2.2000000000000002,8.5,5.7000000000000002,6.7999999999999998],"type":"histogram","name":"Low Pop. (< Mean)","marker":{"color":"rgba(31,119,180,0.6)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,0.6)"},"error_x":{"color":"rgba(31,119,180,0.6)"},"xaxis":"x","yaxis":"y","frame":null},{"hovertemplate":["%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}","%{y}"],"x":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,5.2999999999999998,10.4,6,15.4,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,9,12.199999999999999,7.4000000000000004,11.4,11.1,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,12.699999999999999,3.2000000000000002,4,2.6000000000000001],"type":"histogram","name":"High Pop (>= Mean)","marker":{"color":"rgba(255,127,14,0.6)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,0.6)"},"error_x":{"color":"rgba(255,127,14,0.6)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Boxplots</strong>. See <a href="https://plotly.com/r/box-plots/" class="uri">https://plotly.com/r/box-plots/</a></p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="data-analysis.html#cb371-1" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb371-2"><a href="data-analysis.html#cb371-2" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(USArrests,</span>
<span id="cb371-3"><a href="data-analysis.html#cb371-3" tabindex="-1"></a>    <span class="at">y=</span><span class="sc">~</span>Murder, <span class="at">color=</span><span class="sc">~</span><span class="fu">cut</span>(UrbanPop,<span class="dv">4</span>),</span>
<span id="cb371-4"><a href="data-analysis.html#cb371-4" tabindex="-1"></a>    <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">type=</span><span class="st">&quot;box&quot;</span>,</span>
<span id="cb371-5"><a href="data-analysis.html#cb371-5" tabindex="-1"></a>    <span class="at">pointpos=</span><span class="dv">0</span>, <span class="at">boxpoints =</span> <span class="st">&#39;all&#39;</span>,</span>
<span id="cb371-6"><a href="data-analysis.html#cb371-6" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,    </span>
<span id="cb371-7"><a href="data-analysis.html#cb371-7" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb371-8"><a href="data-analysis.html#cb371-8" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb371-9"><a href="data-analysis.html#cb371-9" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb371-10"><a href="data-analysis.html#cb371-10" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder))    </span>
<span id="cb371-11"><a href="data-analysis.html#cb371-11" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">layout</span>(fig,</span>
<span id="cb371-12"><a href="data-analysis.html#cb371-12" tabindex="-1"></a>    <span class="at">showlegend=</span><span class="cn">FALSE</span>,</span>
<span id="cb371-13"><a href="data-analysis.html#cb371-13" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb371-14"><a href="data-analysis.html#cb371-14" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb371-15"><a href="data-analysis.html#cb371-15" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Murders Arrests per 100,000 People&#39;</span>))</span>
<span id="cb371-16"><a href="data-analysis.html#cb371-16" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-eb20e9af2173ad916cf5" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-eb20e9af2173ad916cf5">{"x":{"visdat":{"6ba37d6a41e3":["function () ","plotlyVisDat"]},"cur_data":"6ba37d6a41e3","attrs":{"6ba37d6a41e3":{"y":{},"pointpos":0,"boxpoints":"all","hoverinfo":"text","text":{},"color":{},"alpha":0.59999999999999998,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Murders Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(102,194,165,0.6)","y":[16.100000000000001,13,0.80000000000000004,3.7999999999999998,2.2000000000000002,5.7000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text"],"text":["<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7"],"type":"box","name":"(31.9,46.8]","marker":{"color":"rgba(102,194,165,0.6)","line":{"color":"rgba(102,194,165,1)"}},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(252,141,98,0.6)","y":[13.199999999999999,10,8.8000000000000007,17.399999999999999,2.6000000000000001,2.2000000000000002,9.6999999999999993,2.1000000000000001,6,2.1000000000000001,14.4,13.199999999999999,6.7999999999999998],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"type":"box","name":"(46.8,61.5]","marker":{"color":"rgba(252,141,98,0.6)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(141,160,203,0.6)","y":[5.9000000000000004,7.2000000000000002,6,15.4,11.300000000000001,12.1,2.7000000000000002,9,4.2999999999999998,11.4,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,8.5,4,2.6000000000000001],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6"],"type":"box","name":"(61.5,76.2]","marker":{"color":"rgba(141,160,203,0.6)","line":{"color":"rgba(141,160,203,1)"}},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(231,138,195,0.6)","y":[8.0999999999999996,9,7.9000000000000004,3.2999999999999998,15.4,5.2999999999999998,10.4,4.4000000000000004,12.199999999999999,7.4000000000000004,11.1,3.3999999999999999,12.699999999999999,3.2000000000000002],"pointpos":0,"boxpoints":"all","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2"],"type":"box","name":"(76.2,91.1]","marker":{"color":"rgba(231,138,195,0.6)","line":{"color":"rgba(231,138,195,1)"}},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Scatterplots</strong>. See <a href="https://plotly.com/r/bubble-charts/" class="uri">https://plotly.com/r/bubble-charts/</a></p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="data-analysis.html#cb372-1" tabindex="-1"></a><span class="co"># Simple Scatter Plot</span></span>
<span id="cb372-2"><a href="data-analysis.html#cb372-2" tabindex="-1"></a><span class="co">#plot(Assault~UrbanPop, USArrests, col=grey(0,.5), pch=16,</span></span>
<span id="cb372-3"><a href="data-analysis.html#cb372-3" tabindex="-1"></a><span class="co">#    cex=USArrests$Murder/diff(range(USArrests$Murder))*2,</span></span>
<span id="cb372-4"><a href="data-analysis.html#cb372-4" tabindex="-1"></a><span class="co">#    main=&#39;US Murder arrests (per 100,000)&#39;)</span></span>
<span id="cb372-5"><a href="data-analysis.html#cb372-5" tabindex="-1"></a></span>
<span id="cb372-6"><a href="data-analysis.html#cb372-6" tabindex="-1"></a><span class="co"># Scatter Plot</span></span>
<span id="cb372-7"><a href="data-analysis.html#cb372-7" tabindex="-1"></a>USArrests<span class="sc">$</span>ID <span class="ot">&lt;-</span> <span class="fu">rownames</span>(USArrests)</span>
<span id="cb372-8"><a href="data-analysis.html#cb372-8" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb372-9"><a href="data-analysis.html#cb372-9" tabindex="-1"></a>    USArrests, <span class="at">x =</span> <span class="sc">~</span>UrbanPop, <span class="at">y =</span> <span class="sc">~</span>Assault,</span>
<span id="cb372-10"><a href="data-analysis.html#cb372-10" tabindex="-1"></a>    <span class="at">mode=</span><span class="st">&#39;markers&#39;</span>,</span>
<span id="cb372-11"><a href="data-analysis.html#cb372-11" tabindex="-1"></a>    <span class="at">type=</span><span class="st">&#39;scatter&#39;</span>,</span>
<span id="cb372-12"><a href="data-analysis.html#cb372-12" tabindex="-1"></a>    <span class="at">hoverinfo=</span><span class="st">&#39;text&#39;</span>,</span>
<span id="cb372-13"><a href="data-analysis.html#cb372-13" tabindex="-1"></a>    <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&#39;&lt;b&gt;&#39;</span>, ID, <span class="st">&#39;&lt;/b&gt;&#39;</span>,</span>
<span id="cb372-14"><a href="data-analysis.html#cb372-14" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Urban  :&quot;</span>, UrbanPop,</span>
<span id="cb372-15"><a href="data-analysis.html#cb372-15" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Assault:&quot;</span>, Assault,</span>
<span id="cb372-16"><a href="data-analysis.html#cb372-16" tabindex="-1"></a>        <span class="st">&quot;&lt;br&gt;Murder :&quot;</span>, Murder),</span>
<span id="cb372-17"><a href="data-analysis.html#cb372-17" tabindex="-1"></a>    <span class="at">color=</span><span class="sc">~</span>Murder,</span>
<span id="cb372-18"><a href="data-analysis.html#cb372-18" tabindex="-1"></a>    <span class="at">marker=</span><span class="fu">list</span>(</span>
<span id="cb372-19"><a href="data-analysis.html#cb372-19" tabindex="-1"></a>        <span class="at">size=</span><span class="sc">~</span>Murder,</span>
<span id="cb372-20"><a href="data-analysis.html#cb372-20" tabindex="-1"></a>        <span class="at">opacity=</span><span class="fl">0.5</span>,</span>
<span id="cb372-21"><a href="data-analysis.html#cb372-21" tabindex="-1"></a>        <span class="at">showscale=</span>T,  </span>
<span id="cb372-22"><a href="data-analysis.html#cb372-22" tabindex="-1"></a>        <span class="at">colorbar =</span> <span class="fu">list</span>(<span class="at">title=</span><span class="st">&#39;Murder Arrests (per 100,000)&#39;</span>)))</span>
<span id="cb372-23"><a href="data-analysis.html#cb372-23" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">layout</span>(fig,</span>
<span id="cb372-24"><a href="data-analysis.html#cb372-24" tabindex="-1"></a>    <span class="at">showlegend=</span>F,</span>
<span id="cb372-25"><a href="data-analysis.html#cb372-25" tabindex="-1"></a>    <span class="at">title=</span><span class="st">&#39;Crime and Urbanization in America 1975&#39;</span>,</span>
<span id="cb372-26"><a href="data-analysis.html#cb372-26" tabindex="-1"></a>    <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Percent of People in an Urban Area&#39;</span>),</span>
<span id="cb372-27"><a href="data-analysis.html#cb372-27" tabindex="-1"></a>    <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Assault Arrests per 100,000 People&#39;</span>))</span>
<span id="cb372-28"><a href="data-analysis.html#cb372-28" tabindex="-1"></a>fig</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-f60e56a563f84aa3eb1d" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-f60e56a563f84aa3eb1d">{"x":{"visdat":{"6ba33a02a60":["function () ","plotlyVisDat"]},"cur_data":"6ba33a02a60","attrs":{"6ba33a02a60":{"x":{},"y":{},"mode":"markers","hoverinfo":"text","text":{},"marker":{"size":{},"opacity":0.5,"showscale":true,"colorbar":{"title":"Murder Arrests (per 100,000)"}},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"title":"Crime and Urbanization in America 1975","xaxis":{"domain":[0,1],"automargin":true,"title":"Percent of People in an Urban Area"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Assault Arrests per 100,000 People"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[58,48,80,50,91,78,77,72,80,60,83,54,83,65,57,66,52,66,51,67,85,74,66,44,70,53,62,81,56,89,70,86,45,44,75,68,67,72,87,48,45,59,80,80,32,63,73,39,66,60],"y":[236,263,294,190,276,204,110,238,335,211,46,120,249,113,56,115,109,249,83,300,149,255,72,259,178,109,102,252,57,159,285,254,337,45,120,151,159,106,174,279,86,188,201,120,48,156,145,81,53,161],"mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["<b> Alabama <\/b> <br>Urban  : 58 <br>Assault: 236 <br>Murder : 13.2","<b> Alaska <\/b> <br>Urban  : 48 <br>Assault: 263 <br>Murder : 10","<b> Arizona <\/b> <br>Urban  : 80 <br>Assault: 294 <br>Murder : 8.1","<b> Arkansas <\/b> <br>Urban  : 50 <br>Assault: 190 <br>Murder : 8.8","<b> California <\/b> <br>Urban  : 91 <br>Assault: 276 <br>Murder : 9","<b> Colorado <\/b> <br>Urban  : 78 <br>Assault: 204 <br>Murder : 7.9","<b> Connecticut <\/b> <br>Urban  : 77 <br>Assault: 110 <br>Murder : 3.3","<b> Delaware <\/b> <br>Urban  : 72 <br>Assault: 238 <br>Murder : 5.9","<b> Florida <\/b> <br>Urban  : 80 <br>Assault: 335 <br>Murder : 15.4","<b> Georgia <\/b> <br>Urban  : 60 <br>Assault: 211 <br>Murder : 17.4","<b> Hawaii <\/b> <br>Urban  : 83 <br>Assault: 46 <br>Murder : 5.3","<b> Idaho <\/b> <br>Urban  : 54 <br>Assault: 120 <br>Murder : 2.6","<b> Illinois <\/b> <br>Urban  : 83 <br>Assault: 249 <br>Murder : 10.4","<b> Indiana <\/b> <br>Urban  : 65 <br>Assault: 113 <br>Murder : 7.2","<b> Iowa <\/b> <br>Urban  : 57 <br>Assault: 56 <br>Murder : 2.2","<b> Kansas <\/b> <br>Urban  : 66 <br>Assault: 115 <br>Murder : 6","<b> Kentucky <\/b> <br>Urban  : 52 <br>Assault: 109 <br>Murder : 9.7","<b> Louisiana <\/b> <br>Urban  : 66 <br>Assault: 249 <br>Murder : 15.4","<b> Maine <\/b> <br>Urban  : 51 <br>Assault: 83 <br>Murder : 2.1","<b> Maryland <\/b> <br>Urban  : 67 <br>Assault: 300 <br>Murder : 11.3","<b> Massachusetts <\/b> <br>Urban  : 85 <br>Assault: 149 <br>Murder : 4.4","<b> Michigan <\/b> <br>Urban  : 74 <br>Assault: 255 <br>Murder : 12.1","<b> Minnesota <\/b> <br>Urban  : 66 <br>Assault: 72 <br>Murder : 2.7","<b> Mississippi <\/b> <br>Urban  : 44 <br>Assault: 259 <br>Murder : 16.1","<b> Missouri <\/b> <br>Urban  : 70 <br>Assault: 178 <br>Murder : 9","<b> Montana <\/b> <br>Urban  : 53 <br>Assault: 109 <br>Murder : 6","<b> Nebraska <\/b> <br>Urban  : 62 <br>Assault: 102 <br>Murder : 4.3","<b> Nevada <\/b> <br>Urban  : 81 <br>Assault: 252 <br>Murder : 12.2","<b> New Hampshire <\/b> <br>Urban  : 56 <br>Assault: 57 <br>Murder : 2.1","<b> New Jersey <\/b> <br>Urban  : 89 <br>Assault: 159 <br>Murder : 7.4","<b> New Mexico <\/b> <br>Urban  : 70 <br>Assault: 285 <br>Murder : 11.4","<b> New York <\/b> <br>Urban  : 86 <br>Assault: 254 <br>Murder : 11.1","<b> North Carolina <\/b> <br>Urban  : 45 <br>Assault: 337 <br>Murder : 13","<b> North Dakota <\/b> <br>Urban  : 44 <br>Assault: 45 <br>Murder : 0.8","<b> Ohio <\/b> <br>Urban  : 75 <br>Assault: 120 <br>Murder : 7.3","<b> Oklahoma <\/b> <br>Urban  : 68 <br>Assault: 151 <br>Murder : 6.6","<b> Oregon <\/b> <br>Urban  : 67 <br>Assault: 159 <br>Murder : 4.9","<b> Pennsylvania <\/b> <br>Urban  : 72 <br>Assault: 106 <br>Murder : 6.3","<b> Rhode Island <\/b> <br>Urban  : 87 <br>Assault: 174 <br>Murder : 3.4","<b> South Carolina <\/b> <br>Urban  : 48 <br>Assault: 279 <br>Murder : 14.4","<b> South Dakota <\/b> <br>Urban  : 45 <br>Assault: 86 <br>Murder : 3.8","<b> Tennessee <\/b> <br>Urban  : 59 <br>Assault: 188 <br>Murder : 13.2","<b> Texas <\/b> <br>Urban  : 80 <br>Assault: 201 <br>Murder : 12.7","<b> Utah <\/b> <br>Urban  : 80 <br>Assault: 120 <br>Murder : 3.2","<b> Vermont <\/b> <br>Urban  : 32 <br>Assault: 48 <br>Murder : 2.2","<b> Virginia <\/b> <br>Urban  : 63 <br>Assault: 156 <br>Murder : 8.5","<b> Washington <\/b> <br>Urban  : 73 <br>Assault: 145 <br>Murder : 4","<b> West Virginia <\/b> <br>Urban  : 39 <br>Assault: 81 <br>Murder : 5.7","<b> Wisconsin <\/b> <br>Urban  : 66 <br>Assault: 53 <br>Murder : 2.6","<b> Wyoming <\/b> <br>Urban  : 60 <br>Assault: 161 <br>Murder : 6.8"],"marker":{"colorbar":{"title":"Murder Arrests (per 100,000)","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"size":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998],"opacity":0.5,"line":{"colorbar":{"title":"","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[13.199999999999999,10,8.0999999999999996,8.8000000000000007,9,7.9000000000000004,3.2999999999999998,5.9000000000000004,15.4,17.399999999999999,5.2999999999999998,2.6000000000000001,10.4,7.2000000000000002,2.2000000000000002,6,9.6999999999999993,15.4,2.1000000000000001,11.300000000000001,4.4000000000000004,12.1,2.7000000000000002,16.100000000000001,9,6,4.2999999999999998,12.199999999999999,2.1000000000000001,7.4000000000000004,11.4,11.1,13,0.80000000000000004,7.2999999999999998,6.5999999999999996,4.9000000000000004,6.2999999999999998,3.3999999999999999,14.4,3.7999999999999998,13.199999999999999,12.699999999999999,3.2000000000000002,2.2000000000000002,8.5,4,5.7000000000000002,2.6000000000000001,6.7999999999999998]}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null},{"x":[32,91],"y":[45,337],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Murder","ticklen":2},"cmin":0.80000000000000004,"cmax":17.399999999999999,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.80000000000000004,17.399999999999999],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>If you have many point, you can also use a 2D histogram instead. <a href="https://plotly.com/r/2D-Histogram/" class="uri">https://plotly.com/r/2D-Histogram/</a>.</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="data-analysis.html#cb373-1" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb373-2"><a href="data-analysis.html#cb373-2" tabindex="-1"></a>    USArrests, <span class="at">x =</span> <span class="sc">~</span>UrbanPop, <span class="at">y =</span> <span class="sc">~</span>Assault)</span>
<span id="cb373-3"><a href="data-analysis.html#cb373-3" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">add_histogram2d</span>(fig, <span class="at">nbinsx=</span><span class="dv">25</span>, <span class="at">nbinsy=</span><span class="dv">25</span>)</span>
<span id="cb373-4"><a href="data-analysis.html#cb373-4" tabindex="-1"></a>fig</span></code></pre></div>
</div>
<div id="custom-figures" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Custom Figures<a href="data-analysis.html#custom-figures" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many of the best plots are custom made (see <a href="https://www.r-graph-gallery.com/" class="uri">https://www.r-graph-gallery.com/</a>). Here are some ones that I have made over the years.</p>
<!-- ## CONVERT IMAGES
for pdfile in *.pdf ; do 
convert -verbose -density 500  "${pdfile}" "${pdfile%.*}".png;
done
-->
<p><img src="Figures_Manual/Vegetation.png" width="2400" /></p>
<p><img src="Figures_Manual/Balances_Trial.png" width="3000" /></p>
<p><img src="Figures_Manual/PopulationDensity2.png" width="3000" /></p>
<p><img src="Figures_Manual/SampleExample.png" width="1750" /></p>
<p><img src="Figures_Manual/SemiInclusive_Example.png" width="3000" /></p>
<p><img src="Figures_Manual/Stability_3.png" width="1000" /></p>
<p><img src="Figures_Manual/EvolutionaryDynamics.png" width="3000" /></p>
<p><img src="Figures_Manual/Experiment_Timeline.png" width="1750" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="hypothesis-tests.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reporting.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["index.pdf", "index.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
